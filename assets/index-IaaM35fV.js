(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function Uv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var sd={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function CT(){if(Wy)return Jl;Wy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Jl.Fragment=t,Jl.jsx=i,Jl.jsxs=i,Jl}var t_;function DT(){return t_||(t_=1,sd.exports=CT()),sd.exports}var N=DT(),ld={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function xT(){if(e_)return wt;e_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,j={};function L(M,et,ut){this.props=M,this.context=et,this.refs=j,this.updater=ut||w}L.prototype.isReactComponent={},L.prototype.setState=function(M,et){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,et,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function K(){}K.prototype=L.prototype;function nt(M,et,ut){this.props=M,this.context=et,this.refs=j,this.updater=ut||w}var $=nt.prototype=new K;$.constructor=nt,C($,L.prototype),$.isPureReactComponent=!0;var ot=Array.isArray,rt={H:null,A:null,T:null,S:null,V:null},ft=Object.prototype.hasOwnProperty;function O(M,et,ut,at,gt,xt){return ut=xt.ref,{$$typeof:r,type:M,key:et,ref:ut!==void 0?ut:null,props:xt}}function R(M,et){return O(M.type,et,void 0,void 0,void 0,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function V(M){var et={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ut){return et[ut]})}var P=/\/+/g;function k(M,et){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):et.toString(36)}function I(){}function Ht(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(et){M.status==="pending"&&(M.status="fulfilled",M.value=et)},function(et){M.status==="pending"&&(M.status="rejected",M.reason=et)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Jt(M,et,ut,at,gt){var xt=typeof M;(xt==="undefined"||xt==="boolean")&&(M=null);var St=!1;if(M===null)St=!0;else switch(xt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(M.$$typeof){case r:case t:St=!0;break;case E:return St=M._init,Jt(St(M._payload),et,ut,at,gt)}}if(St)return gt=gt(M),St=at===""?"."+k(M,0):at,ot(gt)?(ut="",St!=null&&(ut=St.replace(P,"$&/")+"/"),Jt(gt,et,ut,"",function(Bn){return Bn})):gt!=null&&(D(gt)&&(gt=R(gt,ut+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(P,"$&/")+"/")+St)),et.push(gt)),1;St=0;var De=at===""?".":at+":";if(ot(M))for(var te=0;te<M.length;te++)at=M[te],xt=De+k(at,te),St+=Jt(at,et,ut,xt,gt);else if(te=S(M),typeof te=="function")for(M=te.call(M),te=0;!(at=M.next()).done;)at=at.value,xt=De+k(at,te++),St+=Jt(at,et,ut,xt,gt);else if(xt==="object"){if(typeof M.then=="function")return Jt(Ht(M),et,ut,at,gt);throw et=String(M),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return St}function X(M,et,ut){if(M==null)return M;var at=[],gt=0;return Jt(M,at,"","",function(xt){return et.call(ut,xt,gt++)}),at}function lt(M){if(M._status===-1){var et=M._result;et=et(),et.then(function(ut){(M._status===0||M._status===-1)&&(M._status=1,M._result=ut)},function(ut){(M._status===0||M._status===-1)&&(M._status=2,M._result=ut)}),M._status===-1&&(M._status=0,M._result=et)}if(M._status===1)return M._result.default;throw M._result}var mt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function jt(){}return wt.Children={map:X,forEach:function(M,et,ut){X(M,function(){et.apply(this,arguments)},ut)},count:function(M){var et=0;return X(M,function(){et++}),et},toArray:function(M){return X(M,function(et){return et})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},wt.Component=L,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=nt,wt.StrictMode=s,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,wt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return rt.H.useMemoCache(M)}},wt.cache=function(M){return function(){return M.apply(null,arguments)}},wt.cloneElement=function(M,et,ut){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var at=C({},M.props),gt=M.key,xt=void 0;if(et!=null)for(St in et.ref!==void 0&&(xt=void 0),et.key!==void 0&&(gt=""+et.key),et)!ft.call(et,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&et.ref===void 0||(at[St]=et[St]);var St=arguments.length-2;if(St===1)at.children=ut;else if(1<St){for(var De=Array(St),te=0;te<St;te++)De[te]=arguments[te+2];at.children=De}return O(M.type,gt,void 0,void 0,xt,at)},wt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},wt.createElement=function(M,et,ut){var at,gt={},xt=null;if(et!=null)for(at in et.key!==void 0&&(xt=""+et.key),et)ft.call(et,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(gt[at]=et[at]);var St=arguments.length-2;if(St===1)gt.children=ut;else if(1<St){for(var De=Array(St),te=0;te<St;te++)De[te]=arguments[te+2];gt.children=De}if(M&&M.defaultProps)for(at in St=M.defaultProps,St)gt[at]===void 0&&(gt[at]=St[at]);return O(M,xt,void 0,void 0,null,gt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(M){return{$$typeof:m,render:M}},wt.isValidElement=D,wt.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:lt}},wt.memo=function(M,et){return{$$typeof:y,type:M,compare:et===void 0?null:et}},wt.startTransition=function(M){var et=rt.T,ut={};rt.T=ut;try{var at=M(),gt=rt.S;gt!==null&&gt(ut,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(jt,mt)}catch(xt){mt(xt)}finally{rt.T=et}},wt.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},wt.use=function(M){return rt.H.use(M)},wt.useActionState=function(M,et,ut){return rt.H.useActionState(M,et,ut)},wt.useCallback=function(M,et){return rt.H.useCallback(M,et)},wt.useContext=function(M){return rt.H.useContext(M)},wt.useDebugValue=function(){},wt.useDeferredValue=function(M,et){return rt.H.useDeferredValue(M,et)},wt.useEffect=function(M,et,ut){var at=rt.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(M,et)},wt.useId=function(){return rt.H.useId()},wt.useImperativeHandle=function(M,et,ut){return rt.H.useImperativeHandle(M,et,ut)},wt.useInsertionEffect=function(M,et){return rt.H.useInsertionEffect(M,et)},wt.useLayoutEffect=function(M,et){return rt.H.useLayoutEffect(M,et)},wt.useMemo=function(M,et){return rt.H.useMemo(M,et)},wt.useOptimistic=function(M,et){return rt.H.useOptimistic(M,et)},wt.useReducer=function(M,et,ut){return rt.H.useReducer(M,et,ut)},wt.useRef=function(M){return rt.H.useRef(M)},wt.useState=function(M){return rt.H.useState(M)},wt.useSyncExternalStore=function(M,et,ut){return rt.H.useSyncExternalStore(M,et,ut)},wt.useTransition=function(){return rt.H.useTransition()},wt.version="19.1.0",wt}var n_;function em(){return n_||(n_=1,ld.exports=xT()),ld.exports}var Y=em();const IT=Uv(Y);var od={exports:{}},Wl={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function NT(){return i_||(i_=1,function(r){function t(X,lt){var mt=X.length;X.push(lt);t:for(;0<mt;){var jt=mt-1>>>1,M=X[jt];if(0<l(M,lt))X[jt]=lt,X[mt]=M,mt=jt;else break t}}function i(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var lt=X[0],mt=X.pop();if(mt!==lt){X[0]=mt;t:for(var jt=0,M=X.length,et=M>>>1;jt<et;){var ut=2*(jt+1)-1,at=X[ut],gt=ut+1,xt=X[gt];if(0>l(at,mt))gt<M&&0>l(xt,at)?(X[jt]=xt,X[gt]=mt,jt=gt):(X[jt]=at,X[ut]=mt,jt=ut);else if(gt<M&&0>l(xt,mt))X[jt]=xt,X[gt]=mt,jt=gt;else break t}}return lt}function l(X,lt){var mt=X.sortIndex-lt.sortIndex;return mt!==0?mt:X.id-lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,A=null,S=3,w=!1,C=!1,j=!1,L=!1,K=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ot(X){for(var lt=i(y);lt!==null;){if(lt.callback===null)s(y);else if(lt.startTime<=X)s(y),lt.sortIndex=lt.expirationTime,t(p,lt);else break;lt=i(y)}}function rt(X){if(j=!1,ot(X),!C)if(i(p)!==null)C=!0,ft||(ft=!0,k());else{var lt=i(y);lt!==null&&Jt(rt,lt.startTime-X)}}var ft=!1,O=-1,R=5,D=-1;function V(){return L?!0:!(r.unstable_now()-D<R)}function P(){if(L=!1,ft){var X=r.unstable_now();D=X;var lt=!0;try{t:{C=!1,j&&(j=!1,nt(O),O=-1),w=!0;var mt=S;try{e:{for(ot(X),A=i(p);A!==null&&!(A.expirationTime>X&&V());){var jt=A.callback;if(typeof jt=="function"){A.callback=null,S=A.priorityLevel;var M=jt(A.expirationTime<=X);if(X=r.unstable_now(),typeof M=="function"){A.callback=M,ot(X),lt=!0;break e}A===i(p)&&s(p),ot(X)}else s(p);A=i(p)}if(A!==null)lt=!0;else{var et=i(y);et!==null&&Jt(rt,et.startTime-X),lt=!1}}break t}finally{A=null,S=mt,w=!1}lt=void 0}}finally{lt?k():ft=!1}}}var k;if(typeof $=="function")k=function(){$(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ht=I.port2;I.port1.onmessage=P,k=function(){Ht.postMessage(null)}}else k=function(){K(P,0)};function Jt(X,lt){O=K(function(){X(r.unstable_now())},lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(X){switch(S){case 1:case 2:case 3:var lt=3;break;default:lt=S}var mt=S;S=lt;try{return X()}finally{S=mt}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(X,lt){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var mt=S;S=X;try{return lt()}finally{S=mt}},r.unstable_scheduleCallback=function(X,lt,mt){var jt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?jt+mt:jt):mt=jt,X){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=mt+M,X={id:E++,callback:lt,priorityLevel:X,startTime:mt,expirationTime:M,sortIndex:-1},mt>jt?(X.sortIndex=mt,t(y,X),i(p)===null&&X===i(y)&&(j?(nt(O),O=-1):j=!0,Jt(rt,mt-jt))):(X.sortIndex=M,t(p,X),C||w||(C=!0,ft||(ft=!0,k()))),X},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(X){var lt=S;return function(){var mt=S;S=lt;try{return X.apply(this,arguments)}finally{S=mt}}}}(cd)),cd}var r_;function OT(){return r_||(r_=1,ud.exports=NT()),ud.exports}var hd={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function MT(){if(a_)return Ge;a_=1;var r=em();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},Ge.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,w=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:w}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:S,fetchPriority:w,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Ge.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var s_;function VT(){if(s_)return hd.exports;s_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),hd.exports=MT(),hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function UT(){if(l_)return Wl;l_=1;var r=OT(),t=em(),i=VT();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===o)return m(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,o=d;break}if(T===o){v=!0,o=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,o=h;break}if(T===o){v=!0,o=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),nt=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Ht(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case L:return"Profiler";case j:return"StrictMode";case rt:return"Suspense";case ft:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case $:return(e.displayName||"Context")+".Provider";case nt:return(e._context.displayName||"Context")+".Consumer";case ot:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:Ht(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return Ht(e(n))}catch{}}return null}var Jt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},jt=[],M=-1;function et(e){return{current:e}}function ut(e){0>M||(e.current=jt[M],jt[M]=null,M--)}function at(e,n){M++,jt[M]=e.current,e.current=n}var gt=et(null),xt=et(null),St=et(null),De=et(null);function te(e,n){switch(at(St,n),at(xt,e),at(gt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Cy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Cy(n),e=Dy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ut(gt),at(gt,e)}function Bn(){ut(gt),ut(xt),ut(St)}function Qi(e){e.memoizedState!==null&&at(De,e);var n=gt.current,a=Dy(n,e.type);n!==a&&(at(xt,e),at(gt,a))}function fi(e){xt.current===e&&(ut(gt),ut(xt)),De.current===e&&(ut(De),Yl._currentValue=mt)}var Lr=Object.prototype.hasOwnProperty,kr=r.unstable_scheduleCallback,Br=r.unstable_cancelCallback,Hs=r.unstable_shouldYield,Do=r.unstable_requestPaint,gn=r.unstable_now,ah=r.unstable_getCurrentPriorityLevel,Gs=r.unstable_ImmediatePriority,Oa=r.unstable_UserBlockingPriority,jr=r.unstable_NormalPriority,sh=r.unstable_LowPriority,Ma=r.unstable_IdlePriority,Qs=r.log,xo=r.unstable_setDisableYieldValue,oe=null,Gt=null;function an(e){if(typeof Qs=="function"&&xo(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(oe,e)}catch{}}var qe=Math.clz32?Math.clz32:zr,Io=Math.log,lh=Math.LN2;function zr(e){return e>>>=0,e===0?32:31-(Io(e)/lh|0)|0}var Fr=256,qr=4194304;function In(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Va(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=In(o):(v&=T,v!==0?h=In(v):a||(a=T&~e,a!==0&&(h=In(a))))):(T=o&~d,T!==0?h=In(T):v!==0?h=In(v):a||(a=o&~e,a!==0&&(h=In(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Hr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ys(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ks(){var e=Fr;return Fr<<=1,(Fr&4194048)===0&&(Fr=256),e}function $s(){var e=qr;return qr<<=1,(qr&62914560)===0&&(qr=4194304),e}function di(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function mi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xs(e,n,a,o,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,x=e.expirationTimes,q=e.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-qe(a),W=1<<Z;T[Z]=0,x[Z]=-1;var H=q[Z];if(H!==null)for(q[Z]=null,Z=0;Z<H.length;Z++){var G=H[Z];G!==null&&(G.lane&=-536870913)}a&=~W}o!==0&&jn(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function jn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-qe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function Zs(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-qe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ua(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ki(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:Yy(e.type))}function No(e,n){var a=lt.p;try{return lt.p=e,n()}finally{lt.p=a}}var ne=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ne,pe="__reactProps$"+ne,yn="__reactContainer$"+ne,Js="__reactEvents$"+ne,oh="__reactListeners$"+ne,$i="__reactHandles$"+ne,Oo="__reactResources$"+ne,Gr="__reactMarker$"+ne;function Xi(e){delete e[Ee],delete e[pe],delete e[Js],delete e[oh],delete e[$i]}function pi(e){var n=e[Ee];if(n)return n;for(var a=e.parentNode;a;){if(n=a[yn]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Oy(e);e!==null;){if(a=e[Ee])return a;e=Oy(e)}return n}e=a,a=e.parentNode}return null}function zn(e){if(e=e[Ee]||e[yn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function $e(e){var n=e[Oo];return n||(n=e[Oo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function he(e){e[Gr]=!0}var Ws=new Set,Pa={};function Nn(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(Pa[e]=n,e=0;e<n.length;e++)Ws.add(n[e])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},Qr={};function Uo(e){return Lr.call(Qr,e)?!0:Lr.call(Vo,e)?!1:Mo.test(e)?Qr[e]=!0:(Vo[e]=!0,!1)}function Zi(e,n,a){if(Uo(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function qn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ue(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var Yr,Po;function yi(e){if(Yr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",Po=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+Po}var La=!1;function ka(e,n){if(!e||La)return"";La=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var H=G}Reflect.construct(e,[],W)}else{try{W.call()}catch(G){H=G}e.call(W.prototype)}}else{try{throw Error()}catch(G){H=G}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var x=v.split(`
`),q=T.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===q.length)for(o=x.length-1,h=q.length-1;1<=o&&0<=h&&x[o]!==q[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==q[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==q[h]){var Z=`
`+x[o].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=o&&0<=h);break}}}finally{La=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?yi(a):""}function tl(e){switch(e.tag){case 26:case 27:case 5:return yi(e.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return ka(e.type,!1);case 11:return ka(e.type.render,!1);case 1:return ka(e.type,!0);case 31:return yi("Activity");default:return""}}function Ba(e){try{var n="";do n+=tl(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function el(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function uh(e){var n=el(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ja(e){e._valueTracker||(e._valueTracker=uh(e))}function nl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=el(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Kr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ch=/[\n"\\]/g;function ge(e){return e.replace(ch,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(e,n,a,o,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Xe(n)):e.value!==""+Xe(n)&&(e.value=""+Xe(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Ji(e,v,Xe(n)):a!=null?Ji(e,v,Xe(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Xe(T):e.removeAttribute("name")}function $r(e,n,a,o,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+Xe(a):"",n=n!=null?""+Xe(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ji(e,n,a){n==="number"&&Kr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function _i(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Xe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Kt(e,n,a){if(n!=null&&(n=""+Xe(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Xe(a):""}function Xr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(Jt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Xe(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function _n(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Zr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Zr.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function il(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Lo(e,h,o)}else for(var d in n)n.hasOwnProperty(d)&&Lo(e,d,n[d])}function rl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(e){return fh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vi=null;function vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ei=null,Ti=null;function al(e){var n=zn(e);if(n&&(e=n.stateNode)){var a=e[pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(sn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[pe]||null;if(!h)throw Error(s(90));sn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&nl(o)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&_i(e,!!a.multiple,n,!1)}}}var Hn=!1;function ko(e,n,a){if(Hn)return e(n,a);Hn=!0;try{var o=e(n);return o}finally{if(Hn=!1,(Ei!==null||Ti!==null)&&(Nu(),Ei&&(n=Ei,e=Ti,Ti=Ei=null,al(n),e)))for(n=0;n<e.length;n++)al(e[n])}}function Jr(e,n){var a=e.stateNode;if(a===null)return null;var o=a[pe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(On)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){En=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{En=!1}var Gn=null,Wi=null,Ai=null;function sl(){if(Ai)return Ai;var e,n=Wi,a=n.length,o,h="value"in Gn?Gn.value:Gn.textContent,d=h.length;for(e=0;e<a&&n[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&n[a-o]===h[d-o];o++);return Ai=h.slice(e,1<o?1-o:void 0)}function Qn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yn(){return!0}function ll(){return!1}function xe(e){function n(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yn:ll,this.isPropagationStopped=ll,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),n}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=xe(Ft),ta=E({},Ft,{view:0,detail:0}),Bo=xe(ta),qa,Ha,Kn,ea=E({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kn&&(Kn&&e.type==="mousemove"?(qa=e.screenX-Kn.screenX,Ha=e.screenY-Kn.screenY):Ha=qa=0,Kn=e),qa)},movementY:function(e){return"movementY"in e?e.movementY:Ha}}),Tn=xe(ea),jo=E({},ea,{dataTransfer:0}),dh=xe(jo),na=E({},ta,{relatedTarget:0}),Ga=xe(na),ol=E({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Qa=xe(ol),zo=E({},Ft,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ya=xe(zo),mh=E({},Ft,{data:0}),ul=xe(mh),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=qo[e])?!!n[e]:!1}function ra(){return cl}var Ho=E({},ta,{key:function(e){if(e.key){var n=ia[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(e){return e.type==="keypress"?Qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ka=xe(Ho),Go=E({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=xe(Go),Si=E({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),Qo=xe(Si),Yo=E({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ko=xe(Yo),$o=E({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$a=xe($o),Ze=E({},Ft,{newState:0,oldState:0}),Xo=xe(Ze),Zo=[9,13,27,32],$n=On&&"CompositionEvent"in window,c=null;On&&"documentMode"in document&&(c=document.documentMode);var g=On&&"TextEvent"in window&&!c,_=On&&(!$n||c&&8<c&&11>=c),b=" ",z=!1;function Q(e,n){switch(e){case"keyup":return Zo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function Te(e,n){switch(e){case"compositionend":return st(n);case"keypress":return n.which!==32?null:(z=!0,b);case"textInput":return e=n.data,e===b&&z?null:e;default:return null}}function Ut(e,n){if(Vt)return e==="compositionend"||!$n&&Q(e,n)?(e=sl(),Ai=Wi=Gn=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ie[e.type]:n==="textarea"}function bi(e,n,a,o){Ei?Ti?Ti.push(o):Ti=[o]:Ei=o,n=Lu(n,"onChange"),0<n.length&&(a=new Fa("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Pe=null,Xn=null;function fl(e){Ay(e,0)}function Jo(e){var n=Fn(e);if(nl(n))return e}function qm(e,n){if(e==="change")return n}var Hm=!1;if(On){var ph;if(On){var gh="oninput"in document;if(!gh){var Gm=document.createElement("div");Gm.setAttribute("oninput","return;"),gh=typeof Gm.oninput=="function"}ph=gh}else ph=!1;Hm=ph&&(!document.documentMode||9<document.documentMode)}function Qm(){Pe&&(Pe.detachEvent("onpropertychange",Ym),Xn=Pe=null)}function Ym(e){if(e.propertyName==="value"&&Jo(Xn)){var n=[];bi(n,Xn,e,vn(e)),ko(fl,n)}}function i1(e,n,a){e==="focusin"?(Qm(),Pe=n,Xn=a,Pe.attachEvent("onpropertychange",Ym)):e==="focusout"&&Qm()}function r1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jo(Xn)}function a1(e,n){if(e==="click")return Jo(n)}function s1(e,n){if(e==="input"||e==="change")return Jo(n)}function l1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ln=typeof Object.is=="function"?Object.is:l1;function dl(e,n){if(ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Lr.call(n,h)||!ln(e[h],n[h]))return!1}return!0}function Km(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $m(e,n){var a=Km(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Km(a)}}function Xm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Zm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Kr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Kr(e.document)}return n}function yh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var o1=On&&"documentMode"in document&&11>=document.documentMode,Xa=null,_h=null,ml=null,vh=!1;function Jm(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vh||Xa==null||Xa!==Kr(o)||(o=Xa,"selectionStart"in o&&yh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ml&&dl(ml,o)||(ml=o,o=Lu(_h,"onSelect"),0<o.length&&(n=new Fa("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Xa)))}function aa(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Za={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},Eh={},Wm={};On&&(Wm=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function sa(e){if(Eh[e])return Eh[e];if(!Za[e])return e;var n=Za[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Wm)return Eh[e]=n[a];return e}var tp=sa("animationend"),ep=sa("animationiteration"),np=sa("animationstart"),u1=sa("transitionrun"),c1=sa("transitionstart"),h1=sa("transitioncancel"),ip=sa("transitionend"),rp=new Map,Th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Th.push("scrollEnd");function Mn(e,n){rp.set(e,n),Nn(n,[e])}var ap=new WeakMap;function An(e,n){if(typeof e=="object"&&e!==null){var a=ap.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ba(n)},ap.set(e,n),n)}return{value:e,source:n,stack:Ba(n)}}var Sn=[],Ja=0,Ah=0;function Wo(){for(var e=Ja,n=Ah=Ja=0;n<e;){var a=Sn[n];Sn[n++]=null;var o=Sn[n];Sn[n++]=null;var h=Sn[n];Sn[n++]=null;var d=Sn[n];if(Sn[n++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&sp(a,h,d)}}function tu(e,n,a,o){Sn[Ja++]=e,Sn[Ja++]=n,Sn[Ja++]=a,Sn[Ja++]=o,Ah|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Sh(e,n,a,o){return tu(e,n,a,o),eu(e)}function Wa(e,n){return tu(e,null,null,n),eu(e)}function sp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-qe(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),d):null}function eu(e){if(50<Bl)throw Bl=0,If=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ts={};function f1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,n,a,o){return new f1(e,n,a,o)}function bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ri(e,n){var a=e.alternate;return a===null?(a=on(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function lp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function nu(e,n,a,o,h,d){var v=0;if(o=e,typeof e=="function")bh(e)&&(v=1);else if(typeof e=="string")v=mT(e,a,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=on(31,a,n,h),e.elementType=D,e.lanes=d,e;case C:return la(a.children,h,d,n);case j:v=8,h|=24;break;case L:return e=on(12,a,n,h|2),e.elementType=L,e.lanes=d,e;case rt:return e=on(13,a,n,h),e.elementType=rt,e.lanes=d,e;case ft:return e=on(19,a,n,h),e.elementType=ft,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:case $:v=10;break t;case nt:v=9;break t;case ot:v=11;break t;case O:v=14;break t;case R:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=on(v,a,n,h),n.elementType=e,n.type=o,n.lanes=d,n}function la(e,n,a,o){return e=on(7,e,o,n),e.lanes=a,e}function Rh(e,n,a){return e=on(6,e,null,n),e.lanes=a,e}function wh(e,n,a){return n=on(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var es=[],ns=0,iu=null,ru=0,bn=[],Rn=0,oa=null,wi=1,Ci="";function ua(e,n){es[ns++]=ru,es[ns++]=iu,iu=e,ru=n}function op(e,n,a){bn[Rn++]=wi,bn[Rn++]=Ci,bn[Rn++]=oa,oa=e;var o=wi;e=Ci;var h=32-qe(o)-1;o&=~(1<<h),a+=1;var d=32-qe(n)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,wi=1<<32-qe(n)+h|a<<h|o,Ci=d+e}else wi=1<<d|a<<h|o,Ci=e}function Ch(e){e.return!==null&&(ua(e,1),op(e,1,0))}function Dh(e){for(;e===iu;)iu=es[--ns],es[ns]=null,ru=es[--ns],es[ns]=null;for(;e===oa;)oa=bn[--Rn],bn[Rn]=null,Ci=bn[--Rn],bn[Rn]=null,wi=bn[--Rn],bn[Rn]=null}var Je=null,ue=null,zt=!1,ca=null,Zn=!1,xh=Error(s(519));function ha(e){var n=Error(s(418,""));throw yl(An(n,e)),xh}function up(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[pe]=o,a){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<zl.length;a++)Ot(zl[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),$r(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ja(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),Xr(n,o.value,o.defaultValue,o.children),ja(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||wy(n.textContent,a)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=ku),n=!0):n=!1,n||ha(e)}function cp(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Je=Je.return}}function pl(e){if(e!==Je)return!1;if(!zt)return cp(e),zt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Qf(e.type,e.memoizedProps)),a=!a),a&&ue&&ha(e),cp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){ue=Un(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}ue=null}}else n===27?(n=ue,pr(e.type)?(e=Xf,Xf=null,ue=e):ue=n):ue=Je?Un(e.stateNode.nextSibling):null;return!0}function gl(){ue=Je=null,zt=!1}function hp(){var e=ca;return e!==null&&(en===null?en=e:en.push.apply(en,e),ca=null),e}function yl(e){ca===null?ca=[e]:ca.push(e)}var Ih=et(null),fa=null,Di=null;function tr(e,n,a){at(Ih,n._currentValue),n._currentValue=a}function xi(e){e._currentValue=Ih.current,ut(Ih)}function Nh(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Oh(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var x=0;x<n.length;x++)if(T.context===n[x]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Nh(d.return,a,e),o||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Nh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function _l(e,n,a,o){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;ln(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===De.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Yl):e=[Yl])}h=h.return}e!==null&&Oh(n,e,a,o),n.flags|=262144}function au(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function da(e){fa=e,Di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return fp(fa,e)}function su(e,n){return fa===null&&da(e),fp(e,n)}function fp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Di===null){if(e===null)throw Error(s(308));Di=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Di=Di.next=n;return a}var d1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},m1=r.unstable_scheduleCallback,p1=r.unstable_NormalPriority,Se={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mh(){return{controller:new d1,data:new Map,refCount:0}}function vl(e){e.refCount--,e.refCount===0&&m1(p1,function(){e.controller.abort()})}var El=null,Vh=0,is=0,rs=null;function g1(e,n){if(El===null){var a=El=[];Vh=0,is=Lf(),rs={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Vh++,n.then(dp,dp),n}function dp(){if(--Vh===0&&El!==null){rs!==null&&(rs.status="fulfilled");var e=El;El=null,is=0,rs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function y1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var mp=X.S;X.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&g1(e,n),mp!==null&&mp(e,n)};var ma=et(null);function Uh(){var e=ma.current;return e!==null?e:ee.pooledCache}function lu(e,n){n===null?at(ma,ma.current):at(ma,n.pool)}function pp(){var e=Uh();return e===null?null:{parent:Se._currentValue,pool:e}}var Tl=Error(s(460)),gp=Error(s(474)),ou=Error(s(542)),Ph={then:function(){}};function yp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function uu(){}function _p(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(uu,uu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ep(e),e;default:if(typeof n.status=="string")n.then(uu,uu);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ep(e),e}throw Al=n,Tl}}var Al=null;function vp(){if(Al===null)throw Error(s(459));var e=Al;return Al=null,e}function Ep(e){if(e===Tl||e===ou)throw Error(s(483))}var er=!1;function Lh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function nr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ir(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=eu(e),sp(e,null,a),n}return tu(e,o,n,a),eu(e)}function Sl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Zs(e,a)}}function Bh(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var jh=!1;function bl(){if(jh){var e=rs;if(e!==null)throw e}}function Rl(e,n,a,o){jh=!1;var h=e.updateQueue;er=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,q=x.next;x.next=null,v===null?d=q:v.next=q,v=x;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==v&&(T===null?Z.firstBaseUpdate=q:T.next=q,Z.lastBaseUpdate=x))}if(d!==null){var W=h.baseState;v=0,Z=q=x=null,T=d;do{var H=T.lane&-536870913,G=H!==T.lane;if(G?(Pt&H)===H:(o&H)===H){H!==0&&H===is&&(jh=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Tt=e,_t=T;H=n;var Zt=a;switch(_t.tag){case 1:if(Tt=_t.payload,typeof Tt=="function"){W=Tt.call(Zt,W,H);break t}W=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=_t.payload,H=typeof Tt=="function"?Tt.call(Zt,W,H):Tt,H==null)break t;W=E({},W,H);break t;case 2:er=!0}}H=T.callback,H!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(q=Z=G,x=W):Z=Z.next=G,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Z===null&&(x=W),h.baseState=x,h.firstBaseUpdate=q,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),hr|=v,e.lanes=v,e.memoizedState=W}}function Tp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Ap(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Tp(a[e],n)}var as=et(null),cu=et(0);function Sp(e,n){e=Pi,at(cu,e),at(as,n),Pi=e|n.baseLanes}function zh(){at(cu,Pi),at(as,as.current)}function Fh(){Pi=cu.current,ut(as),ut(cu)}var rr=0,Ct=null,$t=null,ye=null,hu=!1,ss=!1,pa=!1,fu=0,wl=0,ls=null,_1=0;function fe(){throw Error(s(321))}function qh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!ln(e[a],n[a]))return!1;return!0}function Hh(e,n,a,o,h,d){return rr=d,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=e===null||e.memoizedState===null?sg:lg,pa=!1,d=a(o,h),pa=!1,ss&&(d=Rp(n,a,o,h)),bp(e),d}function bp(e){X.H=_u;var n=$t!==null&&$t.next!==null;if(rr=0,ye=$t=Ct=null,hu=!1,wl=0,ls=null,n)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&au(e)&&(Ne=!0))}function Rp(e,n,a,o){Ct=e;var h=0;do{if(ss&&(ls=null),wl=0,ss=!1,25<=h)throw Error(s(301));if(h+=1,ye=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=R1,d=n(a,o)}while(ss);return d}function v1(){var e=X.H,n=e.useState()[0];return n=typeof n.then=="function"?Cl(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(Ct.flags|=1024),n}function Gh(){var e=fu!==0;return fu=0,e}function Qh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Yh(e){if(hu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}hu=!1}rr=0,ye=$t=Ct=null,ss=!1,wl=fu=0,ls=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?Ct.memoizedState=ye=e:ye=ye.next=e,ye}function _e(){if($t===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=ye===null?Ct.memoizedState:ye.next;if(n!==null)ye=n,$t=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},ye===null?Ct.memoizedState=ye=e:ye=ye.next=e}return ye}function Kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(e){var n=wl;return wl+=1,ls===null&&(ls=[]),e=_p(ls,e,n),n=Ct,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?sg:lg),e}function du(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Cl(e);if(e.$$typeof===$)return He(e)}throw Error(s(438,String(e)))}function $h(e){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Kh(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function Ii(e,n){return typeof n=="function"?n(e):n}function mu(e){var n=_e();return Xh(n,$t,e)}function Xh(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var T=v=null,x=null,q=n,Z=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(Pt&W)===W:(rr&W)===W){var H=q.revertLane;if(H===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===is&&(Z=!0);else if((rr&H)===H){q=q.next,H===is&&(Z=!0);continue}else W={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(T=x=W,v=d):x=x.next=W,Ct.lanes|=H,hr|=H;W=q.action,pa&&a(d,W),d=q.hasEagerState?q.eagerState:a(d,W)}else H={lane:W,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(T=x=H,v=d):x=x.next=H,Ct.lanes|=W,hr|=W;q=q.next}while(q!==null&&q!==n);if(x===null?v=d:x.next=T,!ln(d,e.memoizedState)&&(Ne=!0,Z&&(a=rs,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=x,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Zh(e){var n=_e(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);ln(d,n.memoizedState)||(Ne=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function wp(e,n,a){var o=Ct,h=_e(),d=zt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!ln(($t||h).memoizedState,a);v&&(h.memoizedState=a,Ne=!0),h=h.queue;var T=xp.bind(null,o,h,e);if(Dl(2048,8,T,[e]),h.getSnapshot!==n||v||ye!==null&&ye.memoizedState.tag&1){if(o.flags|=2048,os(9,pu(),Dp.bind(null,o,h,a,n),null),ee===null)throw Error(s(349));d||(rr&124)!==0||Cp(o,n,a)}return a}function Cp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=Kh(),Ct.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Dp(e,n,a,o){n.value=a,n.getSnapshot=o,Ip(n)&&Np(e)}function xp(e,n,a){return a(function(){Ip(n)&&Np(e)})}function Ip(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!ln(e,a)}catch{return!0}}function Np(e){var n=Wa(e,2);n!==null&&dn(n,e,2)}function Jh(e){var n=We();if(typeof e=="function"){var a=e;if(e=a(),pa){an(!0);try{a()}finally{an(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},n}function Op(e,n,a,o){return e.baseState=a,Xh(e,$t,typeof o=="function"?o:Ii)}function E1(e,n,a,o,h){if(yu(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,Mp(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Mp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var d=X.T,v={};X.T=v;try{var T=a(h,o),x=X.S;x!==null&&x(v,T),Vp(e,n,T)}catch(q){Wh(e,n,q)}finally{X.T=d}}else try{d=a(h,o),Vp(e,n,d)}catch(q){Wh(e,n,q)}}function Vp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Up(e,n,o)},function(o){return Wh(e,n,o)}):Up(e,n,a)}function Up(e,n,a){n.status="fulfilled",n.value=a,Pp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Mp(e,a)))}function Wh(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Pp(n),n=n.next;while(n!==o)}e.action=null}function Pp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Lp(e,n){return n}function kp(e,n){if(zt){var a=ee.formState;if(a!==null){t:{var o=Ct;if(zt){if(ue){e:{for(var h=ue,d=Zn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ue=Un(h.nextSibling),o=h.data==="F!";break t}}ha(o)}o=!1}o&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lp,lastRenderedState:n},a.queue=o,a=ig.bind(null,Ct,o),o.dispatch=a,o=Jh(!1),d=af.bind(null,Ct,!1,o.queue),o=We(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=E1.bind(null,Ct,h,d,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Bp(e){var n=_e();return jp(n,$t,e)}function jp(e,n,a){if(n=Xh(e,n,Lp)[0],e=mu(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Cl(n)}catch(v){throw v===Tl?ou:v}else o=n;n=_e();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Ct.flags|=2048,os(9,pu(),T1.bind(null,h,a),null)),[o,d,e]}function T1(e,n){e.action=n}function zp(e){var n=_e(),a=$t;if(a!==null)return jp(n,a,e);_e(),n=n.memoizedState,a=_e();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function os(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Kh(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function pu(){return{destroy:void 0,resource:void 0}}function Fp(){return _e().memoizedState}function gu(e,n,a,o){var h=We();o=o===void 0?null:o,Ct.flags|=e,h.memoizedState=os(1|n,pu(),a,o)}function Dl(e,n,a,o){var h=_e();o=o===void 0?null:o;var d=h.memoizedState.inst;$t!==null&&o!==null&&qh(o,$t.memoizedState.deps)?h.memoizedState=os(n,d,a,o):(Ct.flags|=e,h.memoizedState=os(1|n,d,a,o))}function qp(e,n){gu(8390656,8,e,n)}function Hp(e,n){Dl(2048,8,e,n)}function Gp(e,n){return Dl(4,2,e,n)}function Qp(e,n){return Dl(4,4,e,n)}function Yp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Kp(e,n,a){a=a!=null?a.concat([e]):null,Dl(4,4,Yp.bind(null,n,e),a)}function tf(){}function $p(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&qh(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Xp(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&qh(n,o[1]))return o[0];if(o=e(),pa){an(!0);try{e()}finally{an(!1)}}return a.memoizedState=[o,n],o}function ef(e,n,a){return a===void 0||(rr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Wg(),Ct.lanes|=e,hr|=e,a)}function Zp(e,n,a,o){return ln(a,n)?a:as.current!==null?(e=ef(e,a,o),ln(e,n)||(Ne=!0),e):(rr&42)===0?(Ne=!0,e.memoizedState=a):(e=Wg(),Ct.lanes|=e,hr|=e,n)}function Jp(e,n,a,o,h){var d=lt.p;lt.p=d!==0&&8>d?d:8;var v=X.T,T={};X.T=T,af(e,!1,n,a);try{var x=h(),q=X.S;if(q!==null&&q(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Z=y1(x,o);xl(e,n,Z,fn(e))}else xl(e,n,o,fn(e))}catch(W){xl(e,n,{then:function(){},status:"rejected",reason:W},fn())}finally{lt.p=d,X.T=v}}function A1(){}function nf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=Wp(e).queue;Jp(e,h,n,mt,a===null?A1:function(){return tg(e),a(o)})}function Wp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:mt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function tg(e){var n=Wp(e).next.queue;xl(e,n,{},fn())}function rf(){return He(Yl)}function eg(){return _e().memoizedState}function ng(){return _e().memoizedState}function S1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=fn();e=nr(a);var o=ir(n,e,a);o!==null&&(dn(o,n,a),Sl(o,n,a)),n={cache:Mh()},e.payload=n;return}n=n.return}}function b1(e,n,a){var o=fn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},yu(e)?rg(n,a):(a=Sh(e,n,a,o),a!==null&&(dn(a,e,o),ag(a,n,o)))}function ig(e,n,a){var o=fn();xl(e,n,a,o)}function xl(e,n,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(yu(e))rg(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,ln(T,v))return tu(e,n,h,0),ee===null&&Wo(),!1}catch{}finally{}if(a=Sh(e,n,h,o),a!==null)return dn(a,e,o),ag(a,n,o),!0}return!1}function af(e,n,a,o){if(o={lane:2,revertLane:Lf(),action:o,hasEagerState:!1,eagerState:null,next:null},yu(e)){if(n)throw Error(s(479))}else n=Sh(e,a,o,2),n!==null&&dn(n,e,2)}function yu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function rg(e,n){ss=hu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function ag(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Zs(e,a)}}var _u={readContext:He,use:du,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},sg={readContext:He,use:du,useCallback:function(e,n){return We().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:qp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,gu(4194308,4,Yp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return gu(4194308,4,e,n)},useInsertionEffect:function(e,n){gu(4,2,e,n)},useMemo:function(e,n){var a=We();n=n===void 0?null:n;var o=e();if(pa){an(!0);try{e()}finally{an(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=We();if(a!==void 0){var h=a(n);if(pa){an(!0);try{a(n)}finally{an(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=b1.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=We();return e={current:e},n.memoizedState=e},useState:function(e){e=Jh(e);var n=e.queue,a=ig.bind(null,Ct,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:tf,useDeferredValue:function(e,n){var a=We();return ef(a,e,n)},useTransition:function(){var e=Jh(!1);return e=Jp.bind(null,Ct,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Ct,h=We();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ee===null)throw Error(s(349));(Pt&124)!==0||Cp(o,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,qp(xp.bind(null,o,d,e),[e]),o.flags|=2048,os(9,pu(),Dp.bind(null,o,d,a,n),null),a},useId:function(){var e=We(),n=ee.identifierPrefix;if(zt){var a=Ci,o=wi;a=(o&~(1<<32-qe(o)-1)).toString(32)+a,n=""+n+"R"+a,a=fu++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=_1++,n=""+n+"r"+a.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:rf,useFormState:kp,useActionState:kp,useOptimistic:function(e){var n=We();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=af.bind(null,Ct,!0,a),a.dispatch=n,[e,n]},useMemoCache:$h,useCacheRefresh:function(){return We().memoizedState=S1.bind(null,Ct)}},lg={readContext:He,use:du,useCallback:$p,useContext:He,useEffect:Hp,useImperativeHandle:Kp,useInsertionEffect:Gp,useLayoutEffect:Qp,useMemo:Xp,useReducer:mu,useRef:Fp,useState:function(){return mu(Ii)},useDebugValue:tf,useDeferredValue:function(e,n){var a=_e();return Zp(a,$t.memoizedState,e,n)},useTransition:function(){var e=mu(Ii)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:wp,useId:eg,useHostTransitionStatus:rf,useFormState:Bp,useActionState:Bp,useOptimistic:function(e,n){var a=_e();return Op(a,$t,e,n)},useMemoCache:$h,useCacheRefresh:ng},R1={readContext:He,use:du,useCallback:$p,useContext:He,useEffect:Hp,useImperativeHandle:Kp,useInsertionEffect:Gp,useLayoutEffect:Qp,useMemo:Xp,useReducer:Zh,useRef:Fp,useState:function(){return Zh(Ii)},useDebugValue:tf,useDeferredValue:function(e,n){var a=_e();return $t===null?ef(a,e,n):Zp(a,$t.memoizedState,e,n)},useTransition:function(){var e=Zh(Ii)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:wp,useId:eg,useHostTransitionStatus:rf,useFormState:zp,useActionState:zp,useOptimistic:function(e,n){var a=_e();return $t!==null?Op(a,$t,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:$h,useCacheRefresh:ng},us=null,Il=0;function vu(e){var n=Il;return Il+=1,us===null&&(us=[]),_p(us,e,n)}function Nl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Eu(e,n){throw n.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function og(e){var n=e._init;return n(e._payload)}function ug(e){function n(B,U){if(e){var F=B.deletions;F===null?(B.deletions=[U],B.flags|=16):F.push(U)}}function a(B,U){if(!e)return null;for(;U!==null;)n(B,U),U=U.sibling;return null}function o(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function h(B,U){return B=Ri(B,U),B.index=0,B.sibling=null,B}function d(B,U,F){return B.index=F,e?(F=B.alternate,F!==null?(F=F.index,F<U?(B.flags|=67108866,U):F):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function v(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function T(B,U,F,J){return U===null||U.tag!==6?(U=Rh(F,B.mode,J),U.return=B,U):(U=h(U,F),U.return=B,U)}function x(B,U,F,J){var ht=F.type;return ht===C?Z(B,U,F.props.children,J,F.key):U!==null&&(U.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&og(ht)===U.type)?(U=h(U,F.props),Nl(U,F),U.return=B,U):(U=nu(F.type,F.key,F.props,null,B.mode,J),Nl(U,F),U.return=B,U)}function q(B,U,F,J){return U===null||U.tag!==4||U.stateNode.containerInfo!==F.containerInfo||U.stateNode.implementation!==F.implementation?(U=wh(F,B.mode,J),U.return=B,U):(U=h(U,F.children||[]),U.return=B,U)}function Z(B,U,F,J,ht){return U===null||U.tag!==7?(U=la(F,B.mode,J,ht),U.return=B,U):(U=h(U,F),U.return=B,U)}function W(B,U,F){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Rh(""+U,B.mode,F),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return F=nu(U.type,U.key,U.props,null,B.mode,F),Nl(F,U),F.return=B,F;case w:return U=wh(U,B.mode,F),U.return=B,U;case R:var J=U._init;return U=J(U._payload),W(B,U,F)}if(Jt(U)||k(U))return U=la(U,B.mode,F,null),U.return=B,U;if(typeof U.then=="function")return W(B,vu(U),F);if(U.$$typeof===$)return W(B,su(B,U),F);Eu(B,U)}return null}function H(B,U,F,J){var ht=U!==null?U.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ht!==null?null:T(B,U,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return F.key===ht?x(B,U,F,J):null;case w:return F.key===ht?q(B,U,F,J):null;case R:return ht=F._init,F=ht(F._payload),H(B,U,F,J)}if(Jt(F)||k(F))return ht!==null?null:Z(B,U,F,J,null);if(typeof F.then=="function")return H(B,U,vu(F),J);if(F.$$typeof===$)return H(B,U,su(B,F),J);Eu(B,F)}return null}function G(B,U,F,J,ht){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(F)||null,T(U,B,""+J,ht);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return B=B.get(J.key===null?F:J.key)||null,x(U,B,J,ht);case w:return B=B.get(J.key===null?F:J.key)||null,q(U,B,J,ht);case R:var It=J._init;return J=It(J._payload),G(B,U,F,J,ht)}if(Jt(J)||k(J))return B=B.get(F)||null,Z(U,B,J,ht,null);if(typeof J.then=="function")return G(B,U,F,vu(J),ht);if(J.$$typeof===$)return G(B,U,F,su(U,J),ht);Eu(U,J)}return null}function Tt(B,U,F,J){for(var ht=null,It=null,dt=U,vt=U=0,Me=null;dt!==null&&vt<F.length;vt++){dt.index>vt?(Me=dt,dt=null):Me=dt.sibling;var Bt=H(B,dt,F[vt],J);if(Bt===null){dt===null&&(dt=Me);break}e&&dt&&Bt.alternate===null&&n(B,dt),U=d(Bt,U,vt),It===null?ht=Bt:It.sibling=Bt,It=Bt,dt=Me}if(vt===F.length)return a(B,dt),zt&&ua(B,vt),ht;if(dt===null){for(;vt<F.length;vt++)dt=W(B,F[vt],J),dt!==null&&(U=d(dt,U,vt),It===null?ht=dt:It.sibling=dt,It=dt);return zt&&ua(B,vt),ht}for(dt=o(dt);vt<F.length;vt++)Me=G(dt,B,vt,F[vt],J),Me!==null&&(e&&Me.alternate!==null&&dt.delete(Me.key===null?vt:Me.key),U=d(Me,U,vt),It===null?ht=Me:It.sibling=Me,It=Me);return e&&dt.forEach(function(Er){return n(B,Er)}),zt&&ua(B,vt),ht}function _t(B,U,F,J){if(F==null)throw Error(s(151));for(var ht=null,It=null,dt=U,vt=U=0,Me=null,Bt=F.next();dt!==null&&!Bt.done;vt++,Bt=F.next()){dt.index>vt?(Me=dt,dt=null):Me=dt.sibling;var Er=H(B,dt,Bt.value,J);if(Er===null){dt===null&&(dt=Me);break}e&&dt&&Er.alternate===null&&n(B,dt),U=d(Er,U,vt),It===null?ht=Er:It.sibling=Er,It=Er,dt=Me}if(Bt.done)return a(B,dt),zt&&ua(B,vt),ht;if(dt===null){for(;!Bt.done;vt++,Bt=F.next())Bt=W(B,Bt.value,J),Bt!==null&&(U=d(Bt,U,vt),It===null?ht=Bt:It.sibling=Bt,It=Bt);return zt&&ua(B,vt),ht}for(dt=o(dt);!Bt.done;vt++,Bt=F.next())Bt=G(dt,B,vt,Bt.value,J),Bt!==null&&(e&&Bt.alternate!==null&&dt.delete(Bt.key===null?vt:Bt.key),U=d(Bt,U,vt),It===null?ht=Bt:It.sibling=Bt,It=Bt);return e&&dt.forEach(function(wT){return n(B,wT)}),zt&&ua(B,vt),ht}function Zt(B,U,F,J){if(typeof F=="object"&&F!==null&&F.type===C&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case S:t:{for(var ht=F.key;U!==null;){if(U.key===ht){if(ht=F.type,ht===C){if(U.tag===7){a(B,U.sibling),J=h(U,F.props.children),J.return=B,B=J;break t}}else if(U.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&og(ht)===U.type){a(B,U.sibling),J=h(U,F.props),Nl(J,F),J.return=B,B=J;break t}a(B,U);break}else n(B,U);U=U.sibling}F.type===C?(J=la(F.props.children,B.mode,J,F.key),J.return=B,B=J):(J=nu(F.type,F.key,F.props,null,B.mode,J),Nl(J,F),J.return=B,B=J)}return v(B);case w:t:{for(ht=F.key;U!==null;){if(U.key===ht)if(U.tag===4&&U.stateNode.containerInfo===F.containerInfo&&U.stateNode.implementation===F.implementation){a(B,U.sibling),J=h(U,F.children||[]),J.return=B,B=J;break t}else{a(B,U);break}else n(B,U);U=U.sibling}J=wh(F,B.mode,J),J.return=B,B=J}return v(B);case R:return ht=F._init,F=ht(F._payload),Zt(B,U,F,J)}if(Jt(F))return Tt(B,U,F,J);if(k(F)){if(ht=k(F),typeof ht!="function")throw Error(s(150));return F=ht.call(F),_t(B,U,F,J)}if(typeof F.then=="function")return Zt(B,U,vu(F),J);if(F.$$typeof===$)return Zt(B,U,su(B,F),J);Eu(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,U!==null&&U.tag===6?(a(B,U.sibling),J=h(U,F),J.return=B,B=J):(a(B,U),J=Rh(F,B.mode,J),J.return=B,B=J),v(B)):a(B,U)}return function(B,U,F,J){try{Il=0;var ht=Zt(B,U,F,J);return us=null,ht}catch(dt){if(dt===Tl||dt===ou)throw dt;var It=on(29,dt,null,B.mode);return It.lanes=J,It.return=B,It}finally{}}}var cs=ug(!0),cg=ug(!1),wn=et(null),Jn=null;function ar(e){var n=e.alternate;at(be,be.current&1),at(wn,e),Jn===null&&(n===null||as.current!==null||n.memoizedState!==null)&&(Jn=e)}function hg(e){if(e.tag===22){if(at(be,be.current),at(wn,e),Jn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Jn=e)}}else sr()}function sr(){at(be,be.current),at(wn,wn.current)}function Ni(e){ut(wn),Jn===e&&(Jn=null),ut(be)}var be=et(0);function Tu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$f(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function sf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:E({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var lf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=fn(),h=nr(o);h.payload=n,a!=null&&(h.callback=a),n=ir(e,h,o),n!==null&&(dn(n,e,o),Sl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=fn(),h=nr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ir(e,h,o),n!==null&&(dn(n,e,o),Sl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=fn(),o=nr(a);o.tag=2,n!=null&&(o.callback=n),n=ir(e,o,a),n!==null&&(dn(n,e,a),Sl(n,e,a))}};function fg(e,n,a,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):n.prototype&&n.prototype.isPureReactComponent?!dl(a,o)||!dl(h,d):!0}function dg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&lf.enqueueReplaceState(n,n.state,null)}function ga(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function mg(e){Au(e)}function pg(e){console.error(e)}function gg(e){Au(e)}function Su(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function yg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function of(e,n,a){return a=nr(a),a.tag=3,a.payload={element:null},a.callback=function(){Su(e,n)},a}function _g(e){return e=nr(e),e.tag=3,e}function vg(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){yg(n,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){yg(n,a,o),typeof h!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function w1(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&_l(n,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 13:return Jn===null?Of():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ph?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Vf(e,o,h)),!1;case 22:return a.flags|=65536,o===Ph?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Vf(e,o,h)),!1}throw Error(s(435,a.tag))}return Vf(e,o,h),Of(),!1}if(zt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==xh&&(e=Error(s(422),{cause:o}),yl(An(e,a)))):(o!==xh&&(n=Error(s(423),{cause:o}),yl(An(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=An(o,a),h=of(e.stateNode,o,h),Bh(e,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:o});if(d=An(d,a),kl===null?kl=[d]:kl.push(d),ce!==4&&(ce=2),n===null)return!0;o=An(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=of(a.stateNode,o,e),Bh(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(fr===null||!fr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=_g(h),vg(h,e,a,o),Bh(a,h),!1}a=a.return}while(a!==null);return!1}var Eg=Error(s(461)),Ne=!1;function Le(e,n,a,o){n.child=e===null?cg(n,null,a,o):cs(n,e.child,a,o)}function Tg(e,n,a,o,h){a=a.render;var d=n.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return da(n),o=Hh(e,n,a,v,d,h),T=Gh(),e!==null&&!Ne?(Qh(e,n,h),Oi(e,n,h)):(zt&&T&&Ch(n),n.flags|=1,Le(e,n,o,h),n.child)}function Ag(e,n,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!bh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Sg(e,n,d,o,h)):(e=nu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!gf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(v,o)&&e.ref===n.ref)return Oi(e,n,h)}return n.flags|=1,e=Ri(d,o),e.ref=n.ref,e.return=n,n.child=e}function Sg(e,n,a,o,h){if(e!==null){var d=e.memoizedProps;if(dl(d,o)&&e.ref===n.ref)if(Ne=!1,n.pendingProps=o=d,gf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return n.lanes=e.lanes,Oi(e,n,h)}return uf(e,n,a,o,h)}function bg(e,n,a){var o=n.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(h=n.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return Rg(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&lu(n,d!==null?d.cachePool:null),d!==null?Sp(n,d):zh(),hg(n);else return n.lanes=n.childLanes=536870912,Rg(e,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(lu(n,d.cachePool),Sp(n,d),sr(),n.memoizedState=null):(e!==null&&lu(n,null),zh(),sr());return Le(e,n,h,a),n.child}function Rg(e,n,a,o){var h=Uh();return h=h===null?null:{parent:Se._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&lu(n,null),zh(),hg(n),e!==null&&_l(e,n,o,!0),null}function bu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function uf(e,n,a,o,h){return da(n),a=Hh(e,n,a,o,void 0,h),o=Gh(),e!==null&&!Ne?(Qh(e,n,h),Oi(e,n,h)):(zt&&o&&Ch(n),n.flags|=1,Le(e,n,a,h),n.child)}function wg(e,n,a,o,h,d){return da(n),n.updateQueue=null,a=Rp(n,o,a,h),bp(e),o=Gh(),e!==null&&!Ne?(Qh(e,n,d),Oi(e,n,d)):(zt&&o&&Ch(n),n.flags|=1,Le(e,n,a,d),n.child)}function Cg(e,n,a,o,h){if(da(n),n.stateNode===null){var d=ts,v=a.contextType;typeof v=="object"&&v!==null&&(d=He(v)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=lf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Lh(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?He(v):ts,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(sf(n,a,v,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&lf.enqueueReplaceState(d,d.state,null),Rl(n,o,d,h),bl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,x=ga(a,T);d.props=x;var q=d.context,Z=a.contextType;v=ts,typeof Z=="object"&&Z!==null&&(v=He(Z));var W=a.getDerivedStateFromProps;Z=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==v)&&dg(n,d,o,v),er=!1;var H=n.memoizedState;d.state=H,Rl(n,o,d,h),bl(),q=n.memoizedState,T||H!==q||er?(typeof W=="function"&&(sf(n,a,W,o),q=n.memoizedState),(x=er||fg(n,a,x,o,H,q,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=q),d.props=o,d.state=q,d.context=v,o=x):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,kh(e,n),v=n.memoizedProps,Z=ga(a,v),d.props=Z,W=n.pendingProps,H=d.context,q=a.contextType,x=ts,typeof q=="object"&&q!==null&&(x=He(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||H!==x)&&dg(n,d,o,x),er=!1,H=n.memoizedState,d.state=H,Rl(n,o,d,h),bl();var G=n.memoizedState;v!==W||H!==G||er||e!==null&&e.dependencies!==null&&au(e.dependencies)?(typeof T=="function"&&(sf(n,a,T,o),G=n.memoizedState),(Z=er||fg(n,a,Z,o,H,G,x)||e!==null&&e.dependencies!==null&&au(e.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,G,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,G,x)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=G),d.props=o,d.state=G,d.context=x,o=Z):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,bu(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=cs(n,e.child,null,h),n.child=cs(n,null,a,h)):Le(e,n,a,h),n.memoizedState=d.state,e=n.child):e=Oi(e,n,h),e}function Dg(e,n,a,o){return gl(),n.flags|=256,Le(e,n,a,o),n.child}var cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hf(e){return{baseLanes:e,cachePool:pp()}}function ff(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Cn),e}function xg(e,n,a){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?ar(n):sr(),zt){var T=ue,x;if(x=T){t:{for(x=T,T=Zn;x.nodeType!==8;){if(!T){T=null;break t}if(x=Un(x.nextSibling),x===null){T=null;break t}}T=x}T!==null?(n.memoizedState={dehydrated:T,treeContext:oa!==null?{id:wi,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},x=on(18,null,null,0),x.stateNode=T,x.return=n,n.child=x,Je=n,ue=null,x=!0):x=!1}x||ha(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return $f(T)?n.lanes=32:n.lanes=536870912,null;Ni(n)}return T=o.children,o=o.fallback,h?(sr(),h=n.mode,T=Ru({mode:"hidden",children:T},h),o=la(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,h=n.child,h.memoizedState=hf(a),h.childLanes=ff(e,v,a),n.memoizedState=cf,o):(ar(n),df(n,T))}if(x=e.memoizedState,x!==null&&(T=x.dehydrated,T!==null)){if(d)n.flags&256?(ar(n),n.flags&=-257,n=mf(e,n,a)):n.memoizedState!==null?(sr(),n.child=e.child,n.flags|=128,n=null):(sr(),h=o.fallback,T=n.mode,o=Ru({mode:"visible",children:o.children},T),h=la(h,T,a,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,cs(n,e.child,null,a),o=n.child,o.memoizedState=hf(a),o.childLanes=ff(e,v,a),n.memoizedState=cf,n=h);else if(ar(n),$f(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,o=Error(s(419)),o.stack="",o.digest=v,yl({value:o,source:null,stack:null}),n=mf(e,n,a)}else if(Ne||_l(e,n,a,!1),v=(a&e.childLanes)!==0,Ne||v){if(v=ee,v!==null&&(o=a&-a,o=(o&42)!==0?1:Yi(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==x.retryLane))throw x.retryLane=o,Wa(e,o),dn(v,e,o),Eg;T.data==="$?"||Of(),n=mf(e,n,a)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,ue=Un(T.nextSibling),Je=n,zt=!0,ca=null,Zn=!1,e!==null&&(bn[Rn++]=wi,bn[Rn++]=Ci,bn[Rn++]=oa,wi=e.id,Ci=e.overflow,oa=n),n=df(n,o.children),n.flags|=4096);return n}return h?(sr(),h=o.fallback,T=n.mode,x=e.child,q=x.sibling,o=Ri(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,q!==null?h=Ri(q,h):(h=la(h,T,a,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,T=e.child.memoizedState,T===null?T=hf(a):(x=T.cachePool,x!==null?(q=Se._currentValue,x=x.parent!==q?{parent:q,pool:q}:x):x=pp(),T={baseLanes:T.baseLanes|a,cachePool:x}),h.memoizedState=T,h.childLanes=ff(e,v,a),n.memoizedState=cf,o):(ar(n),a=e.child,e=a.sibling,a=Ri(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function df(e,n){return n=Ru({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ru(e,n){return e=on(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function mf(e,n,a){return cs(n,e.child,null,a),e=df(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ig(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Nh(e.return,n,a)}function pf(e,n,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Ng(e,n,a){var o=n.pendingProps,h=o.revealOrder,d=o.tail;if(Le(e,n,o.children,a),o=be.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ig(e,a,n);else if(e.tag===19)Ig(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(at(be,o),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Tu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),pf(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Tu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}pf(n,!0,a,null,d);break;case"together":pf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Oi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),hr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(_l(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Ri(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ri(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function gf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&au(e)))}function C1(e,n,a){switch(n.tag){case 3:te(n,n.stateNode.containerInfo),tr(n,Se,e.memoizedState.cache),gl();break;case 27:case 5:Qi(n);break;case 4:te(n,n.stateNode.containerInfo);break;case 10:tr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ar(n),n.flags|=128,null):(a&n.child.childLanes)!==0?xg(e,n,a):(ar(n),e=Oi(e,n,a),e!==null?e.sibling:null);ar(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(_l(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ng(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(be,be.current),o)break;return null;case 22:case 23:return n.lanes=0,bg(e,n,a);case 24:tr(n,Se,e.memoizedState.cache)}return Oi(e,n,a)}function Og(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ne=!0;else{if(!gf(e,a)&&(n.flags&128)===0)return Ne=!1,C1(e,n,a);Ne=(e.flags&131072)!==0}else Ne=!1,zt&&(n.flags&1048576)!==0&&op(n,ru,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")bh(o)?(e=ga(o,e),n.tag=1,n=Cg(null,n,o,e,a)):(n.tag=0,n=uf(null,n,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===ot){n.tag=11,n=Tg(null,n,o,e,a);break t}else if(h===O){n.tag=14,n=Ag(null,n,o,e,a);break t}}throw n=Ht(o)||o,Error(s(306,n,""))}}return n;case 0:return uf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=ga(o,n.pendingProps),Cg(e,n,o,h,a);case 3:t:{if(te(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var d=n.memoizedState;h=d.element,kh(e,n),Rl(n,o,null,a);var v=n.memoizedState;if(o=v.cache,tr(n,Se,o),o!==d.cache&&Oh(n,[Se],a,!0),bl(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Dg(e,n,o,a);break t}else if(o!==h){h=An(Error(s(424)),n),yl(h),n=Dg(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Un(e.firstChild),Je=n,zt=!0,ca=null,Zn=!0,a=cg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(gl(),o===h){n=Oi(e,n,a);break t}Le(e,n,o,a)}n=n.child}return n;case 26:return bu(e,n),e===null?(a=Py(n.type,null,n.pendingProps,null))?n.memoizedState=a:zt||(a=n.type,e=n.pendingProps,o=Bu(St.current).createElement(a),o[Ee]=n,o[pe]=e,Be(o,a,e),he(o),n.stateNode=o):n.memoizedState=Py(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Qi(n),e===null&&zt&&(o=n.stateNode=My(n.type,n.pendingProps,St.current),Je=n,Zn=!0,h=ue,pr(n.type)?(Xf=h,ue=Un(o.firstChild)):ue=h),Le(e,n,n.pendingProps.children,a),bu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=ue)&&(o=eT(o,n.type,n.pendingProps,Zn),o!==null?(n.stateNode=o,Je=n,ue=Un(o.firstChild),Zn=!1,h=!0):h=!1),h||ha(n)),Qi(n),h=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,Qf(h,d)?o=null:v!==null&&Qf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Hh(e,n,v1,null,null,a),Yl._currentValue=h),bu(e,n),Le(e,n,o,a),n.child;case 6:return e===null&&zt&&((e=a=ue)&&(a=nT(a,n.pendingProps,Zn),a!==null?(n.stateNode=a,Je=n,ue=null,e=!0):e=!1),e||ha(n)),null;case 13:return xg(e,n,a);case 4:return te(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=cs(n,null,o,a):Le(e,n,o,a),n.child;case 11:return Tg(e,n,n.type,n.pendingProps,a);case 7:return Le(e,n,n.pendingProps,a),n.child;case 8:return Le(e,n,n.pendingProps.children,a),n.child;case 12:return Le(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,tr(n,n.type,o.value),Le(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,da(n),h=He(h),o=o(h),n.flags|=1,Le(e,n,o,a),n.child;case 14:return Ag(e,n,n.type,n.pendingProps,a);case 15:return Sg(e,n,n.type,n.pendingProps,a);case 19:return Ng(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=Ru(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Ri(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return bg(e,n,a);case 24:return da(n),o=He(Se),e===null?(h=Uh(),h===null&&(h=ee,d=Mh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:o,cache:h},Lh(n),tr(n,Se,h)):((e.lanes&a)!==0&&(kh(e,n),Rl(n,null,null,a),bl()),h=e.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),tr(n,Se,o)):(o=d.cache,tr(n,Se,o),o!==h.cache&&Oh(n,[Se],a,!0))),Le(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Mi(e){e.flags|=4}function Mg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zy(n)){if(n=wn.current,n!==null&&((Pt&4194048)===Pt?Jn!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||n!==Jn))throw Al=Ph,gp;e.flags|=8192}}function wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?$s():536870912,e.lanes|=n,ms|=n)}function Ol(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ae(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function D1(e,n,a){var o=n.pendingProps;switch(Dh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),xi(Se),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(pl(n)?Mi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hp())),ae(n),null;case 26:return a=n.memoizedState,e===null?(Mi(n),a!==null?(ae(n),Mg(n,a)):(ae(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Mi(n),ae(n),Mg(n,a)):(ae(n),n.flags&=-16777217):(e.memoizedProps!==o&&Mi(n),ae(n),n.flags&=-16777217),null;case 27:fi(n),a=St.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Mi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ae(n),null}e=gt.current,pl(n)?up(n):(e=My(h,o,a),n.stateNode=e,Mi(n))}return ae(n),null;case 5:if(fi(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Mi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ae(n),null}if(e=gt.current,pl(n))up(n);else{switch(h=Bu(St.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Ee]=n,e[pe]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(Be(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Mi(n)}}return ae(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Mi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=St.current,pl(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||wy(e.nodeValue,a)),e||ha(n)}else e=Bu(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return ae(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pl(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else gl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),h=!1}else h=hp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ni(n),n):(Ni(n),null)}if(Ni(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),wu(n,n.updateQueue),ae(n),null;case 4:return Bn(),e===null&&zf(n.stateNode.containerInfo),ae(n),null;case 10:return xi(n.type),ae(n),null;case 19:if(ut(be),h=n.memoizedState,h===null)return ae(n),null;if(o=(n.flags&128)!==0,d=h.rendering,d===null)if(o)Ol(h,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Tu(e),d!==null){for(n.flags|=128,Ol(h,!1),e=d.updateQueue,n.updateQueue=e,wu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)lp(a,e),a=a.sibling;return at(be,be.current&1|2),n.child}e=e.sibling}h.tail!==null&&gn()>xu&&(n.flags|=128,o=!0,Ol(h,!1),n.lanes=4194304)}else{if(!o)if(e=Tu(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,wu(n,e),Ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!zt)return ae(n),null}else 2*gn()-h.renderingStartTime>xu&&a!==536870912&&(n.flags|=128,o=!0,Ol(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(e=h.last,e!==null?e.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=gn(),n.sibling=null,e=be.current,at(be,o?e&1|2:e&1),n):(ae(n),null);case 22:case 23:return Ni(n),Fh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),a=n.updateQueue,a!==null&&wu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&ut(ma),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),xi(Se),ae(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function x1(e,n){switch(Dh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xi(Se),Bn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return fi(n),null;case 13:if(Ni(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));gl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ut(be),null;case 4:return Bn(),null;case 10:return xi(n.type),null;case 22:case 23:return Ni(n),Fh(),e!==null&&ut(ma),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xi(Se),null;case 25:return null;default:return null}}function Vg(e,n){switch(Dh(n),n.tag){case 3:xi(Se),Bn();break;case 26:case 27:case 5:fi(n);break;case 4:Bn();break;case 13:Ni(n);break;case 19:ut(be);break;case 10:xi(n.type);break;case 22:case 23:Ni(n),Fh(),e!==null&&ut(ma);break;case 24:xi(Se)}}function Ml(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(T){Wt(n,n.return,T)}}function lr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var x=a,q=T;try{q()}catch(Z){Wt(h,x,Z)}}}o=o.next}while(o!==d)}}catch(Z){Wt(n,n.return,Z)}}function Ug(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Ap(n,a)}catch(o){Wt(e,e.return,o)}}}function Pg(e,n,a){a.props=ga(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Wt(e,n,o)}}function Vl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Wt(e,n,h)}}function Wn(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,n,h)}else a.current=null}function Lg(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function yf(e,n,a){try{var o=e.stateNode;X1(o,e.type,a,n),o[pe]=n}catch(h){Wt(e,e.return,h)}}function kg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pr(e.type)||e.tag===4}function _f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||kg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ku));else if(o!==4&&(o===27&&pr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(vf(e,n,a),e=e.sibling;e!==null;)vf(e,n,a),e=e.sibling}function Cu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&pr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Cu(e,n,a),e=e.sibling;e!==null;)Cu(e,n,a),e=e.sibling}function Bg(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Be(n,o,a),n[Ee]=e,n[pe]=a}catch(d){Wt(e,e.return,d)}}var Vi=!1,de=!1,Ef=!1,jg=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function I1(e,n){if(e=e.containerInfo,Hf=Gu,e=Zm(e),yh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,x=-1,q=0,Z=0,W=e,H=null;e:for(;;){for(var G;W!==a||h!==0&&W.nodeType!==3||(T=v+h),W!==d||o!==0&&W.nodeType!==3||(x=v+o),W.nodeType===3&&(v+=W.nodeValue.length),(G=W.firstChild)!==null;)H=W,W=G;for(;;){if(W===e)break e;if(H===a&&++q===h&&(T=v),H===d&&++Z===o&&(x=v),(G=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=G}a=T===-1||x===-1?null:{start:T,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gf={focusedElem:e,selectionRange:a},Gu=!1,Oe=n;Oe!==null;)if(n=Oe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Oe=e;else for(;Oe!==null;){switch(n=Oe,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var Tt=ga(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(Tt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Wt(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Kf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Oe=e;break}Oe=n.return}}function zg(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:or(e,a),o&4&&Ml(5,a);break;case 1:if(or(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){Wt(a,a.return,v)}else{var h=ga(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Wt(a,a.return,v)}}o&64&&Ug(a),o&512&&Vl(a,a.return);break;case 3:if(or(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ap(e,n)}catch(v){Wt(a,a.return,v)}}break;case 27:n===null&&o&4&&Bg(a);case 26:case 5:or(e,a),n===null&&o&4&&Lg(a),o&512&&Vl(a,a.return);break;case 12:or(e,a);break;case 13:or(e,a),o&4&&Hg(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=B1.bind(null,a),iT(e,a))));break;case 22:if(o=a.memoizedState!==null||Vi,!o){n=n!==null&&n.memoizedState!==null||de,h=Vi;var d=de;Vi=o,(de=n)&&!d?ur(e,a,(a.subtreeFlags&8772)!==0):or(e,a),Vi=h,de=d}break;case 30:break;default:or(e,a)}}function Fg(e){var n=e.alternate;n!==null&&(e.alternate=null,Fg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,tn=!1;function Ui(e,n,a){for(a=a.child;a!==null;)qg(e,n,a),a=a.sibling}function qg(e,n,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:de||Wn(a,n),Ui(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||Wn(a,n);var o=ie,h=tn;pr(a.type)&&(ie=a.stateNode,tn=!1),Ui(e,n,a),ql(a.stateNode),ie=o,tn=h;break;case 5:de||Wn(a,n);case 6:if(o=ie,h=tn,ie=null,Ui(e,n,a),ie=o,tn=h,ie!==null)if(tn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(a.stateNode)}catch(d){Wt(a,n,d)}else try{ie.removeChild(a.stateNode)}catch(d){Wt(a,n,d)}break;case 18:ie!==null&&(tn?(e=ie,Ny(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Zl(e)):Ny(ie,a.stateNode));break;case 4:o=ie,h=tn,ie=a.stateNode.containerInfo,tn=!0,Ui(e,n,a),ie=o,tn=h;break;case 0:case 11:case 14:case 15:de||lr(2,a,n),de||lr(4,a,n),Ui(e,n,a);break;case 1:de||(Wn(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Pg(a,n,o)),Ui(e,n,a);break;case 21:Ui(e,n,a);break;case 22:de=(o=de)||a.memoizedState!==null,Ui(e,n,a),de=o;break;default:Ui(e,n,a)}}function Hg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zl(e)}catch(a){Wt(n,n.return,a)}}function N1(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new jg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new jg),n;default:throw Error(s(435,e.tag))}}function Tf(e,n){var a=N1(e);n.forEach(function(o){var h=j1.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function un(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(pr(T.type)){ie=T.stateNode,tn=!1;break t}break;case 5:ie=T.stateNode,tn=!1;break t;case 3:case 4:ie=T.stateNode.containerInfo,tn=!0;break t}T=T.return}if(ie===null)throw Error(s(160));qg(d,v,h),ie=null,tn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Gg(n,e),n=n.sibling}var Vn=null;function Gg(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),cn(e),o&4&&(lr(3,e,e.return),Ml(3,e),lr(5,e,e.return));break;case 1:un(n,e),cn(e),o&512&&(de||a===null||Wn(a,a.return)),o&64&&Vi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Vn;if(un(n,e),cn(e),o&512&&(de||a===null||Wn(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Gr]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,o,a),d[Ee]=e,he(d),o=d;break t;case"link":var v=By("link","href",h).get(o+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(o),Be(d,o,a),h.head.appendChild(d);break;case"meta":if(v=By("meta","content",h).get(o+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(o),Be(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Ee]=e,he(d),o=d}e.stateNode=o}else jy(h,e.type,e.stateNode);else e.stateNode=ky(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?jy(h,e.type,e.stateNode):ky(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&yf(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(n,e),cn(e),o&512&&(de||a===null||Wn(a,a.return)),a!==null&&o&4&&yf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(n,e),cn(e),o&512&&(de||a===null||Wn(a,a.return)),e.flags&32){h=e.stateNode;try{_n(h,"")}catch(G){Wt(e,e.return,G)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,yf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Ef=!0);break;case 6:if(un(n,e),cn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(G){Wt(e,e.return,G)}}break;case 3:if(Fu=null,h=Vn,Vn=ju(n.containerInfo),un(n,e),Vn=h,cn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Zl(n.containerInfo)}catch(G){Wt(e,e.return,G)}Ef&&(Ef=!1,Qg(e));break;case 4:o=Vn,Vn=ju(e.stateNode.containerInfo),un(n,e),cn(e),Vn=o;break;case 12:un(n,e),cn(e);break;case 13:un(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cf=gn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tf(e,o)));break;case 22:h=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,q=Vi,Z=de;if(Vi=q||h,de=Z||x,un(n,e),de=Z,Vi=q,cn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||x||Vi||de||ya(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){x=a=n;try{if(d=x.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=x.stateNode;var W=x.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){Wt(x,x.return,G)}}}else if(n.tag===6){if(a===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(G){Wt(x,x.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Tf(e,a))));break;case 19:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tf(e,o)));break;case 30:break;case 21:break;default:un(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(kg(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=_f(e);Cu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var T=_f(e);Cu(e,T,v);break;case 3:case 4:var x=a.stateNode.containerInfo,q=_f(e);vf(e,q,x);break;default:throw Error(s(161))}}catch(Z){Wt(e,e.return,Z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Qg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Qg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function or(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zg(e,n.alternate,n),n=n.sibling}function ya(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:lr(4,n,n.return),ya(n);break;case 1:Wn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Pg(n,n.return,a),ya(n);break;case 27:ql(n.stateNode);case 26:case 5:Wn(n,n.return),ya(n);break;case 22:n.memoizedState===null&&ya(n);break;case 30:ya(n);break;default:ya(n)}e=e.sibling}}function ur(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:ur(h,d,a),Ml(4,d);break;case 1:if(ur(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Wt(o,o.return,q)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Tp(x[h],T)}catch(q){Wt(o,o.return,q)}}a&&v&64&&Ug(d),Vl(d,d.return);break;case 27:Bg(d);case 26:case 5:ur(h,d,a),a&&o===null&&v&4&&Lg(d),Vl(d,d.return);break;case 12:ur(h,d,a);break;case 13:ur(h,d,a),a&&v&4&&Hg(h,d);break;case 22:d.memoizedState===null&&ur(h,d,a),Vl(d,d.return);break;case 30:break;default:ur(h,d,a)}n=n.sibling}}function Af(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&vl(a))}function Sf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&vl(e))}function ti(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yg(e,n,a,o),n=n.sibling}function Yg(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ti(e,n,a,o),h&2048&&Ml(9,n);break;case 1:ti(e,n,a,o);break;case 3:ti(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&vl(e)));break;case 12:if(h&2048){ti(e,n,a,o),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Wt(n,n.return,x)}}else ti(e,n,a,o);break;case 13:ti(e,n,a,o);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?ti(e,n,a,o):Ul(e,n):d._visibility&2?ti(e,n,a,o):(d._visibility|=2,hs(e,n,a,o,(n.subtreeFlags&10256)!==0)),h&2048&&Af(v,n);break;case 24:ti(e,n,a,o),h&2048&&Sf(n.alternate,n);break;default:ti(e,n,a,o)}}function hs(e,n,a,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,v=n,T=a,x=o,q=v.flags;switch(v.tag){case 0:case 11:case 15:hs(d,v,T,x,h),Ml(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?hs(d,v,T,x,h):Ul(d,v):(Z._visibility|=2,hs(d,v,T,x,h)),h&&q&2048&&Af(v.alternate,v);break;case 24:hs(d,v,T,x,h),h&&q&2048&&Sf(v.alternate,v);break;default:hs(d,v,T,x,h)}n=n.sibling}}function Ul(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:Ul(a,o),h&2048&&Af(o.alternate,o);break;case 24:Ul(a,o),h&2048&&Sf(o.alternate,o);break;default:Ul(a,o)}n=n.sibling}}var Pl=8192;function fs(e){if(e.subtreeFlags&Pl)for(e=e.child;e!==null;)Kg(e),e=e.sibling}function Kg(e){switch(e.tag){case 26:fs(e),e.flags&Pl&&e.memoizedState!==null&&gT(Vn,e.memoizedState,e.memoizedProps);break;case 5:fs(e);break;case 3:case 4:var n=Vn;Vn=ju(e.stateNode.containerInfo),fs(e),Vn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Pl,Pl=16777216,fs(e),Pl=n):fs(e));break;default:fs(e)}}function $g(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ll(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Oe=o,Zg(o,e)}$g(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xg(e),e=e.sibling}function Xg(e){switch(e.tag){case 0:case 11:case 15:Ll(e),e.flags&2048&&lr(9,e,e.return);break;case 3:Ll(e);break;case 12:Ll(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Du(e)):Ll(e);break;default:Ll(e)}}function Du(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Oe=o,Zg(o,e)}$g(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:lr(8,n,n.return),Du(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Du(n));break;default:Du(n)}e=e.sibling}}function Zg(e,n){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:lr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:vl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Oe=o;else t:for(a=e;Oe!==null;){o=Oe;var h=o.sibling,d=o.return;if(Fg(o),o===a){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}var O1={getCacheForType:function(e){var n=He(Se),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},M1=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ee=null,Nt=null,Pt=0,Yt=0,hn=null,cr=!1,ds=!1,bf=!1,Pi=0,ce=0,hr=0,_a=0,Rf=0,Cn=0,ms=0,kl=null,en=null,wf=!1,Cf=0,xu=1/0,Iu=null,fr=null,ke=0,dr=null,ps=null,gs=0,Df=0,xf=null,Jg=null,Bl=0,If=null;function fn(){if((Qt&2)!==0&&Pt!==0)return Pt&-Pt;if(X.T!==null){var e=is;return e!==0?e:Lf()}return Ki()}function Wg(){Cn===0&&(Cn=(Pt&536870912)===0||zt?Ks():536870912);var e=wn.current;return e!==null&&(e.flags|=32),Cn}function dn(e,n,a){(e===ee&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(ys(e,0),mr(e,Pt,Cn,!1)),mi(e,a),((Qt&2)===0||e!==ee)&&(e===ee&&((Qt&2)===0&&(_a|=a),ce===4&&mr(e,Pt,Cn,!1)),ei(e))}function ty(e,n,a){if((Qt&6)!==0)throw Error(s(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Hr(e,n),h=o?P1(e,n):Mf(e,n,!0),d=o;do{if(h===0){ds&&!o&&mr(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!V1(a)){h=Mf(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=e;h=kl;var x=T.current.memoizedState.isDehydrated;if(x&&(ys(T,v).flags|=256),v=Mf(T,v,!1),v!==2){if(bf&&!x){T.errorRecoveryDisabledLanes|=d,_a|=d,h=4;break t}d=en,en=h,d!==null&&(en===null?en=d:en.push.apply(en,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ys(e,0),mr(e,n,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:mr(o,n,Cn,!cr);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Cf+300-gn(),10<h)){if(mr(o,n,Cn,!cr),Va(o,0,!0)!==0)break t;o.timeoutHandle=xy(ey.bind(null,o,a,en,Iu,wf,n,Cn,_a,ms,cr,d,2,-0,0),h);break t}ey(o,a,en,Iu,wf,n,Cn,_a,ms,cr,d,0,-0,0)}}break}while(!0);ei(e)}function ey(e,n,a,o,h,d,v,T,x,q,Z,W,H,G){if(e.timeoutHandle=-1,W=n.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:pT},Kg(n),W=yT(),W!==null)){e.cancelPendingCommit=W(oy.bind(null,e,n,d,a,o,h,v,T,x,Z,1,H,G)),mr(e,d,v,!q);return}oy(e,n,d,a,o,h,v,T,x)}function V1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!ln(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function mr(e,n,a,o){n&=~Rf,n&=~_a,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var d=31-qe(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&jn(e,a,n)}function Nu(){return(Qt&6)===0?(jl(0),!1):!0}function Nf(){if(Nt!==null){if(Yt===0)var e=Nt.return;else e=Nt,Di=fa=null,Yh(e),us=null,Il=0,e=Nt;for(;e!==null;)Vg(e.alternate,e),e=e.return;Nt=null}}function ys(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,J1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Nf(),ee=e,Nt=a=Ri(e.current,null),Pt=n,Yt=0,hn=null,cr=!1,ds=Hr(e,n),bf=!1,ms=Cn=Rf=_a=hr=ce=0,en=kl=null,wf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-qe(o),d=1<<h;n|=e[h],o&=~d}return Pi=n,Wo(),a}function ny(e,n){Ct=null,X.H=_u,n===Tl||n===ou?(n=vp(),Yt=3):n===gp?(n=vp(),Yt=4):Yt=n===Eg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Nt===null&&(ce=1,Su(e,An(n,e.current)))}function iy(){var e=X.H;return X.H=_u,e===null?_u:e}function ry(){var e=X.A;return X.A=O1,e}function Of(){ce=4,cr||(Pt&4194048)!==Pt&&wn.current!==null||(ds=!0),(hr&134217727)===0&&(_a&134217727)===0||ee===null||mr(ee,Pt,Cn,!1)}function Mf(e,n,a){var o=Qt;Qt|=2;var h=iy(),d=ry();(ee!==e||Pt!==n)&&(Iu=null,ys(e,n)),n=!1;var v=ce;t:do try{if(Yt!==0&&Nt!==null){var T=Nt,x=hn;switch(Yt){case 8:Nf(),v=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var q=Yt;if(Yt=0,hn=null,_s(e,T,x,q),a&&ds){v=0;break t}break;default:q=Yt,Yt=0,hn=null,_s(e,T,x,q)}}U1(),v=ce;break}catch(Z){ny(e,Z)}while(!0);return n&&e.shellSuspendCounter++,Di=fa=null,Qt=o,X.H=h,X.A=d,Nt===null&&(ee=null,Pt=0,Wo()),v}function U1(){for(;Nt!==null;)ay(Nt)}function P1(e,n){var a=Qt;Qt|=2;var o=iy(),h=ry();ee!==e||Pt!==n?(Iu=null,xu=gn()+500,ys(e,n)):ds=Hr(e,n);t:do try{if(Yt!==0&&Nt!==null){n=Nt;var d=hn;e:switch(Yt){case 1:Yt=0,hn=null,_s(e,n,d,1);break;case 2:case 9:if(yp(d)){Yt=0,hn=null,sy(n);break}n=function(){Yt!==2&&Yt!==9||ee!==e||(Yt=7),ei(e)},d.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:yp(d)?(Yt=0,hn=null,sy(n)):(Yt=0,hn=null,_s(e,n,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||zy(v)){Yt=0,hn=null;var x=T.sibling;if(x!==null)Nt=x;else{var q=T.return;q!==null?(Nt=q,Ou(q)):Nt=null}break e}}Yt=0,hn=null,_s(e,n,d,5);break;case 6:Yt=0,hn=null,_s(e,n,d,6);break;case 8:Nf(),ce=6;break t;default:throw Error(s(462))}}L1();break}catch(Z){ny(e,Z)}while(!0);return Di=fa=null,X.H=o,X.A=h,Qt=a,Nt!==null?0:(ee=null,Pt=0,Wo(),ce)}function L1(){for(;Nt!==null&&!Hs();)ay(Nt)}function ay(e){var n=Og(e.alternate,e,Pi);e.memoizedProps=e.pendingProps,n===null?Ou(e):Nt=n}function sy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=wg(a,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=wg(a,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:Yh(n);default:Vg(a,n),n=Nt=lp(n,Pi),n=Og(a,n,Pi)}e.memoizedProps=e.pendingProps,n===null?Ou(e):Nt=n}function _s(e,n,a,o){Di=fa=null,Yh(n),us=null,Il=0;var h=n.return;try{if(w1(e,h,n,a,Pt)){ce=1,Su(e,An(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;ce=1,Su(e,An(a,e.current)),Nt=null;return}n.flags&32768?(zt||o===1?e=!0:ds||(Pt&536870912)!==0?e=!1:(cr=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ly(n,e)):Ou(n)}function Ou(e){var n=e;do{if((n.flags&32768)!==0){ly(n,cr);return}e=n.return;var a=D1(n.alternate,n,Pi);if(a!==null){Nt=a;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);ce===0&&(ce=5)}function ly(e,n){do{var a=x1(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);ce=6,Nt=null}function oy(e,n,a,o,h,d,v,T,x){e.cancelPendingCommit=null;do Mu();while(ke!==0);if((Qt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Ah,Xs(e,a,d,v,T,x),e===ee&&(Nt=ee=null,Pt=0),ps=n,dr=e,gs=a,Df=d,xf=h,Jg=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,z1(jr,function(){return dy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=X.T,X.T=null,h=lt.p,lt.p=2,v=Qt,Qt|=4;try{I1(e,n,a)}finally{Qt=v,lt.p=h,X.T=o}}ke=1,uy(),cy(),hy()}}function uy(){if(ke===1){ke=0;var e=dr,n=ps,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var o=lt.p;lt.p=2;var h=Qt;Qt|=4;try{Gg(n,e);var d=Gf,v=Zm(e.containerInfo),T=d.focusedElem,x=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Xm(T.ownerDocument.documentElement,T)){if(x!==null&&yh(T)){var q=x.start,Z=x.end;if(Z===void 0&&(Z=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(Z,T.value.length);else{var W=T.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var G=H.getSelection(),Tt=T.textContent.length,_t=Math.min(x.start,Tt),Zt=x.end===void 0?_t:Math.min(x.end,Tt);!G.extend&&_t>Zt&&(v=Zt,Zt=_t,_t=v);var B=$m(T,_t),U=$m(T,Zt);if(B&&U&&(G.rangeCount!==1||G.anchorNode!==B.node||G.anchorOffset!==B.offset||G.focusNode!==U.node||G.focusOffset!==U.offset)){var F=W.createRange();F.setStart(B.node,B.offset),G.removeAllRanges(),_t>Zt?(G.addRange(F),G.extend(U.node,U.offset)):(F.setEnd(U.node,U.offset),G.addRange(F))}}}}for(W=[],G=T;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var J=W[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Gu=!!Hf,Gf=Hf=null}finally{Qt=h,lt.p=o,X.T=a}}e.current=n,ke=2}}function cy(){if(ke===2){ke=0;var e=dr,n=ps,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var o=lt.p;lt.p=2;var h=Qt;Qt|=4;try{zg(e,n.alternate,n)}finally{Qt=h,lt.p=o,X.T=a}}ke=3}}function hy(){if(ke===4||ke===3){ke=0,Do();var e=dr,n=ps,a=gs,o=Jg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,ps=dr=null,fy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(fr=null),Ua(a),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(oe,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=X.T,h=lt.p,lt.p=2,X.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{X.T=n,lt.p=h}}(gs&3)!==0&&Mu(),ei(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===If?Bl++:(Bl=0,If=e):Bl=0,jl(0)}}function fy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,vl(n)))}function Mu(e){return uy(),cy(),hy(),dy()}function dy(){if(ke!==5)return!1;var e=dr,n=Df;Df=0;var a=Ua(gs),o=X.T,h=lt.p;try{lt.p=32>a?32:a,X.T=null,a=xf,xf=null;var d=dr,v=gs;if(ke=0,ps=dr=null,gs=0,(Qt&6)!==0)throw Error(s(331));var T=Qt;if(Qt|=4,Xg(d.current),Yg(d,d.current,v,a),Qt=T,jl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(oe,d)}catch{}return!0}finally{lt.p=h,X.T=o,fy(e,n)}}function my(e,n,a){n=An(a,n),n=of(e.stateNode,n,2),e=ir(e,n,2),e!==null&&(mi(e,2),ei(e))}function Wt(e,n,a){if(e.tag===3)my(e,e,a);else for(;n!==null;){if(n.tag===3){my(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(fr===null||!fr.has(o))){e=An(a,e),a=_g(2),o=ir(n,a,2),o!==null&&(vg(a,o,n,e),mi(o,2),ei(o));break}}n=n.return}}function Vf(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new M1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(bf=!0,h.add(a),e=k1.bind(null,e,n,a),n.then(e,e))}function k1(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Pt&a)===a&&(ce===4||ce===3&&(Pt&62914560)===Pt&&300>gn()-Cf?(Qt&2)===0&&ys(e,0):Rf|=a,ms===Pt&&(ms=0)),ei(e)}function py(e,n){n===0&&(n=$s()),e=Wa(e,n),e!==null&&(mi(e,n),ei(e))}function B1(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),py(e,a)}function j1(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),py(e,a)}function z1(e,n){return kr(e,n)}var Vu=null,vs=null,Uf=!1,Uu=!1,Pf=!1,va=0;function ei(e){e!==vs&&e.next===null&&(vs===null?Vu=vs=e:vs=vs.next=e),Uu=!0,Uf||(Uf=!0,q1())}function jl(e,n){if(!Pf&&Uu){Pf=!0;do for(var a=!1,o=Vu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-qe(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,vy(o,d))}else d=Pt,d=Va(o,o===ee?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Hr(o,d)||(a=!0,vy(o,d));o=o.next}while(a);Pf=!1}}function F1(){gy()}function gy(){Uu=Uf=!1;var e=0;va!==0&&(Z1()&&(e=va),va=0);for(var n=gn(),a=null,o=Vu;o!==null;){var h=o.next,d=yy(o,n);d===0?(o.next=null,a===null?Vu=h:a.next=h,h===null&&(vs=a)):(a=o,(e!==0||(d&3)!==0)&&(Uu=!0)),o=h}jl(e)}function yy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-qe(d),T=1<<v,x=h[v];x===-1?((T&a)===0||(T&o)!==0)&&(h[v]=Ys(T,n)):x<=n&&(e.expiredLanes|=T),d&=~T}if(n=ee,a=Pt,a=Va(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Br(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hr(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Br(o),Ua(a)){case 2:case 8:a=Oa;break;case 32:a=jr;break;case 268435456:a=Ma;break;default:a=jr}return o=_y.bind(null,e),a=kr(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Br(o),e.callbackPriority=2,e.callbackNode=null,2}function _y(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Mu()&&e.callbackNode!==a)return null;var o=Pt;return o=Va(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ty(e,o,n),yy(e,gn()),e.callbackNode!=null&&e.callbackNode===a?_y.bind(null,e):null)}function vy(e,n){if(Mu())return null;ty(e,n,!0)}function q1(){W1(function(){(Qt&6)!==0?kr(Gs,F1):gy()})}function Lf(){return va===0&&(va=Ks()),va}function Ey(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:za(""+e)}function Ty(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function H1(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var d=Ey((h[pe]||null).action),v=o.submitter;v&&(n=(n=v[pe]||null)?Ey(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var T=new Fa("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(va!==0){var x=v?Ty(h,v):new FormData(h);nf(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(T.preventDefault(),x=v?Ty(h,v):new FormData(h),nf(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var kf=0;kf<Th.length;kf++){var Bf=Th[kf],G1=Bf.toLowerCase(),Q1=Bf[0].toUpperCase()+Bf.slice(1);Mn(G1,"on"+Q1)}Mn(tp,"onAnimationEnd"),Mn(ep,"onAnimationIteration"),Mn(np,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(u1,"onTransitionRun"),Mn(c1,"onTransitionStart"),Mn(h1,"onTransitionCancel"),Mn(ip,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function Ay(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var v=o.length-1;0<=v;v--){var T=o[v],x=T.instance,q=T.currentTarget;if(T=T.listener,x!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=q;try{d(h)}catch(Z){Au(Z)}h.currentTarget=null,d=x}else for(v=0;v<o.length;v++){if(T=o[v],x=T.instance,q=T.currentTarget,T=T.listener,x!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=q;try{d(h)}catch(Z){Au(Z)}h.currentTarget=null,d=x}}}}function Ot(e,n){var a=n[Js];a===void 0&&(a=n[Js]=new Set);var o=e+"__bubble";a.has(o)||(Sy(n,e,2,!1),a.add(o))}function jf(e,n,a){var o=0;n&&(o|=4),Sy(a,e,o,n)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function zf(e){if(!e[Pu]){e[Pu]=!0,Ws.forEach(function(a){a!=="selectionchange"&&(Y1.has(a)||jf(a,!1,e),jf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Pu]||(n[Pu]=!0,jf("selectionchange",!1,n))}}function Sy(e,n,a,o){switch(Yy(n)){case 2:var h=ET;break;case 8:h=TT;break;default:h=ed}a=h.bind(null,n,a,e),h=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Ff(e,n,a,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=o.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=pi(T),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){o=d=v;continue t}T=T.parentNode}}o=o.return}ko(function(){var q=d,Z=vn(a),W=[];t:{var H=rp.get(e);if(H!==void 0){var G=Fa,Tt=e;switch(e){case"keypress":if(Qn(a)===0)break t;case"keydown":case"keyup":G=Ka;break;case"focusin":Tt="focus",G=Ga;break;case"focusout":Tt="blur",G=Ga;break;case"beforeblur":case"afterblur":G=Ga;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Qo;break;case tp:case ep:case np:G=Qa;break;case ip:G=Ko;break;case"scroll":case"scrollend":G=Bo;break;case"wheel":G=$a;break;case"copy":case"cut":case"paste":G=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=hl;break;case"toggle":case"beforetoggle":G=Xo}var _t=(n&4)!==0,Zt=!_t&&(e==="scroll"||e==="scrollend"),B=_t?H!==null?H+"Capture":null:H;_t=[];for(var U=q,F;U!==null;){var J=U;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||B===null||(J=Jr(U,B),J!=null&&_t.push(Fl(U,J,F))),Zt)break;U=U.return}0<_t.length&&(H=new G(H,Tt,null,a,Z),W.push({event:H,listeners:_t}))}}if((n&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",H&&a!==vi&&(Tt=a.relatedTarget||a.fromElement)&&(pi(Tt)||Tt[yn]))break t;if((G||H)&&(H=Z.window===Z?Z:(H=Z.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Tt=a.relatedTarget||a.toElement,G=q,Tt=Tt?pi(Tt):null,Tt!==null&&(Zt=u(Tt),_t=Tt.tag,Tt!==Zt||_t!==5&&_t!==27&&_t!==6)&&(Tt=null)):(G=null,Tt=q),G!==Tt)){if(_t=Tn,J="onMouseLeave",B="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(_t=hl,J="onPointerLeave",B="onPointerEnter",U="pointer"),Zt=G==null?H:Fn(G),F=Tt==null?H:Fn(Tt),H=new _t(J,U+"leave",G,a,Z),H.target=Zt,H.relatedTarget=F,J=null,pi(Z)===q&&(_t=new _t(B,U+"enter",Tt,a,Z),_t.target=F,_t.relatedTarget=Zt,J=_t),Zt=J,G&&Tt)e:{for(_t=G,B=Tt,U=0,F=_t;F;F=Es(F))U++;for(F=0,J=B;J;J=Es(J))F++;for(;0<U-F;)_t=Es(_t),U--;for(;0<F-U;)B=Es(B),F--;for(;U--;){if(_t===B||B!==null&&_t===B.alternate)break e;_t=Es(_t),B=Es(B)}_t=null}else _t=null;G!==null&&by(W,H,G,_t,!1),Tt!==null&&Zt!==null&&by(W,Zt,Tt,_t,!0)}}t:{if(H=q?Fn(q):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ht=qm;else if(Ae(H))if(Hm)ht=s1;else{ht=r1;var It=i1}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&rl(q.elementType)&&(ht=qm):ht=a1;if(ht&&(ht=ht(e,q))){bi(W,ht,a,Z);break t}It&&It(e,H,q),e==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Ji(H,"number",H.value)}switch(It=q?Fn(q):window,e){case"focusin":(Ae(It)||It.contentEditable==="true")&&(Xa=It,_h=q,ml=null);break;case"focusout":ml=_h=Xa=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,Jm(W,a,Z);break;case"selectionchange":if(o1)break;case"keydown":case"keyup":Jm(W,a,Z)}var dt;if($n)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Vt?Q(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(Vt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Vt&&(dt=sl()):(Gn=Z,Wi="value"in Gn?Gn.value:Gn.textContent,Vt=!0)),It=Lu(q,vt),0<It.length&&(vt=new ul(vt,e,null,a,Z),W.push({event:vt,listeners:It}),dt?vt.data=dt:(dt=st(a),dt!==null&&(vt.data=dt)))),(dt=g?Te(e,a):Ut(e,a))&&(vt=Lu(q,"onBeforeInput"),0<vt.length&&(It=new ul("onBeforeInput","beforeinput",null,a,Z),W.push({event:It,listeners:vt}),It.data=dt)),H1(W,e,q,a,Z)}Ay(W,n)})}function Fl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Lu(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Jr(e,a),h!=null&&o.unshift(Fl(e,h,d)),h=Jr(e,n),h!=null&&o.push(Fl(e,h,d))),e.tag===3)return o;e=e.return}return[]}function Es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function by(e,n,a,o,h){for(var d=n._reactName,v=[];a!==null&&a!==o;){var T=a,x=T.alternate,q=T.stateNode;if(T=T.tag,x!==null&&x===o)break;T!==5&&T!==26&&T!==27||q===null||(x=q,h?(q=Jr(a,d),q!=null&&v.unshift(Fl(a,q,x))):h||(q=Jr(a,d),q!=null&&v.push(Fl(a,q,x)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var K1=/\r\n?/g,$1=/\u0000|\uFFFD/g;function Ry(e){return(typeof e=="string"?e:""+e).replace(K1,`
`).replace($1,"")}function wy(e,n){return n=Ry(n),Ry(e)===n}function ku(){}function Xt(e,n,a,o,h,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||_n(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&_n(e,""+o);break;case"className":qn(e,"class",o);break;case"tabIndex":qn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(e,a,o);break;case"style":il(e,o,d);break;case"data":if(n!=="object"){qn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=za(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=za(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ku);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=za(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Zi(e,"popover",o);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Zi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hh.get(a)||a,Zi(e,a,o))}}function qf(e,n,a,o,h,d){switch(a){case"style":il(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?_n(e,o):(typeof o=="number"||typeof o=="bigint")&&_n(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=e[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Zi(e,a,o)}}}function Be(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,d,v,a,null)}}h&&Xt(e,n,"srcSet",a.srcSet,a,null),o&&Xt(e,n,"src",a.src,a,null);return;case"input":Ot("invalid",e);var T=d=v=h=null,x=null,q=null;for(o in a)if(a.hasOwnProperty(o)){var Z=a[o];if(Z!=null)switch(o){case"name":h=Z;break;case"type":v=Z;break;case"checked":x=Z;break;case"defaultChecked":q=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:Xt(e,n,o,Z,a,null)}}$r(e,d,T,x,q,v,h,!1),ja(e);return;case"select":Ot("invalid",e),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:Xt(e,n,h,T,a,null)}n=d,a=v,e.multiple=!!o,n!=null?_i(e,!!o,n,!1):a!=null&&_i(e,!!o,a,!0);return;case"textarea":Ot("invalid",e),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(e,n,v,T,a,null)}Xr(e,o,h,d),ja(e);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(o=a[x],o!=null))switch(x){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,n,x,o,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<zl.length;o++)Ot(zl[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(o=a[q],o!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,q,o,a,null)}return;default:if(rl(n)){for(Z in a)a.hasOwnProperty(Z)&&(o=a[Z],o!==void 0&&qf(e,n,Z,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Xt(e,n,T,o,a,null))}function X1(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,x=null,q=null,Z=null;for(G in a){var W=a[G];if(a.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":x=W;default:o.hasOwnProperty(G)||Xt(e,n,G,null,o,W)}}for(var H in o){var G=o[H];if(W=a[H],o.hasOwnProperty(H)&&(G!=null||W!=null))switch(H){case"type":d=G;break;case"name":h=G;break;case"checked":q=G;break;case"defaultChecked":Z=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==W&&Xt(e,n,H,G,o,W)}}sn(e,v,T,x,q,Z,d,h);return;case"select":G=v=T=H=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":G=x;default:o.hasOwnProperty(d)||Xt(e,n,d,null,o,x)}for(h in o)if(d=o[h],x=a[h],o.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==x&&Xt(e,n,h,d,o,x)}n=T,a=v,o=G,H!=null?_i(e,!!a,H,!1):!!o!=!!a&&(n!=null?_i(e,!!a,n,!0):_i(e,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(e,n,T,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xt(e,n,v,h,o,d)}Kt(e,H,G);return;case"option":for(var Tt in a)if(H=a[Tt],a.hasOwnProperty(Tt)&&H!=null&&!o.hasOwnProperty(Tt))switch(Tt){case"selected":e.selected=!1;break;default:Xt(e,n,Tt,null,o,H)}for(x in o)if(H=o[x],G=a[x],o.hasOwnProperty(x)&&H!==G&&(H!=null||G!=null))switch(x){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xt(e,n,x,H,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)H=a[_t],a.hasOwnProperty(_t)&&H!=null&&!o.hasOwnProperty(_t)&&Xt(e,n,_t,null,o,H);for(q in o)if(H=o[q],G=a[q],o.hasOwnProperty(q)&&H!==G&&(H!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Xt(e,n,q,H,o,G)}return;default:if(rl(n)){for(var Zt in a)H=a[Zt],a.hasOwnProperty(Zt)&&H!==void 0&&!o.hasOwnProperty(Zt)&&qf(e,n,Zt,void 0,o,H);for(Z in o)H=o[Z],G=a[Z],!o.hasOwnProperty(Z)||H===G||H===void 0&&G===void 0||qf(e,n,Z,H,o,G);return}}for(var B in a)H=a[B],a.hasOwnProperty(B)&&H!=null&&!o.hasOwnProperty(B)&&Xt(e,n,B,null,o,H);for(W in o)H=o[W],G=a[W],!o.hasOwnProperty(W)||H===G||H==null&&G==null||Xt(e,n,W,H,o,G)}var Hf=null,Gf=null;function Bu(e){return e.nodeType===9?e:e.ownerDocument}function Cy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yf=null;function Z1(){var e=window.event;return e&&e.type==="popstate"?e===Yf?!1:(Yf=e,!0):(Yf=null,!1)}var xy=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,W1=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(e){return Iy.resolve(null).then(e).catch(tT)}:xy;function tT(e){setTimeout(function(){throw e})}function pr(e){return e==="head"}function Ny(e,n){var a=n,o=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&ql(v.documentElement),a&2&&ql(v.body),a&4)for(a=v.head,ql(a),v=a.firstChild;v;){var T=v.nextSibling,x=v.nodeName;v[Gr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),Zl(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);Zl(n)}function Kf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kf(a),Xi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function eT(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Gr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function nT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function $f(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function iT(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Xf=null;function Oy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function My(e,n,a){switch(n=Bu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ql(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xi(e)}var Dn=new Map,Vy=new Set;function ju(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Li=lt.d;lt.d={f:rT,r:aT,D:sT,C:lT,L:oT,m:uT,X:hT,S:cT,M:fT};function rT(){var e=Li.f(),n=Nu();return e||n}function aT(e){var n=zn(e);n!==null&&n.tag===5&&n.type==="form"?tg(n):Li.r(e)}var Ts=typeof document>"u"?null:document;function Uy(e,n,a){var o=Ts;if(o&&typeof n=="string"&&n){var h=ge(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Vy.has(h)||(Vy.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Be(n,"link",e),he(n),o.head.appendChild(n)))}}function sT(e){Li.D(e),Uy("dns-prefetch",e,null)}function lT(e,n){Li.C(e,n),Uy("preconnect",e,n)}function oT(e,n,a){Li.L(e,n,a);var o=Ts;if(o&&e&&n){var h='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ge(a.imageSizes)+'"]')):h+='[href="'+ge(e)+'"]';var d=h;switch(n){case"style":d=As(e);break;case"script":d=Ss(e)}Dn.has(d)||(e=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Dn.set(d,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Hl(d))||n==="script"&&o.querySelector(Gl(d))||(n=o.createElement("link"),Be(n,"link",e),he(n),o.head.appendChild(n)))}}function uT(e,n){Li.m(e,n);var a=Ts;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ge(o)+'"][href="'+ge(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ss(e)}if(!Dn.has(d)&&(e=E({rel:"modulepreload",href:e},n),Dn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gl(d)))return}o=a.createElement("link"),Be(o,"link",e),he(o),a.head.appendChild(o)}}}function cT(e,n,a){Li.S(e,n,a);var o=Ts;if(o&&e){var h=$e(o).hoistableStyles,d=As(e);n=n||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(Hl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Dn.get(d))&&Zf(e,a);var x=v=o.createElement("link");he(x),Be(x,"link",e),x._p=new Promise(function(q,Z){x.onload=q,x.onerror=Z}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,zu(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function hT(e,n){Li.X(e,n);var a=Ts;if(a&&e){var o=$e(a).hoistableScripts,h=Ss(e),d=o.get(h);d||(d=a.querySelector(Gl(h)),d||(e=E({src:e,async:!0},n),(n=Dn.get(h))&&Jf(e,n),d=a.createElement("script"),he(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function fT(e,n){Li.M(e,n);var a=Ts;if(a&&e){var o=$e(a).hoistableScripts,h=Ss(e),d=o.get(h);d||(d=a.querySelector(Gl(h)),d||(e=E({src:e,async:!0,type:"module"},n),(n=Dn.get(h))&&Jf(e,n),d=a.createElement("script"),he(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Py(e,n,a,o){var h=(h=St.current)?ju(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=As(a.href),a=$e(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=As(a.href);var d=$e(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Hl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Dn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(e,a),d||dT(h,e,a,v.state))),n&&o===null)throw Error(s(528,""));return v}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ss(a),a=$e(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function As(e){return'href="'+ge(e)+'"'}function Hl(e){return'link[rel="stylesheet"]['+e+"]"}function Ly(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function dT(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Be(n,"link",a),he(n),e.head.appendChild(n))}function Ss(e){return'[src="'+ge(e)+'"]'}function Gl(e){return"script[async]"+e}function ky(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ge(a.href)+'"]');if(o)return n.instance=o,he(o),o;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),he(o),Be(o,"style",h),zu(o,a.precedence,e),n.instance=o;case"stylesheet":h=As(a.href);var d=e.querySelector(Hl(h));if(d)return n.state.loading|=4,n.instance=d,he(d),d;o=Ly(a),(h=Dn.get(h))&&Zf(o,h),d=(e.ownerDocument||e).createElement("link"),he(d);var v=d;return v._p=new Promise(function(T,x){v.onload=T,v.onerror=x}),Be(d,"link",o),n.state.loading|=4,zu(d,a.precedence,e),n.instance=d;case"script":return d=Ss(a.src),(h=e.querySelector(Gl(d)))?(n.instance=h,he(h),h):(o=a,(h=Dn.get(d))&&(o=E({},a),Jf(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),he(h),Be(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,zu(o,a.precedence,e));return n.instance}function zu(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Zf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Jf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Fu=null;function By(e,n,a){if(Fu===null){var o=new Map,h=Fu=new Map;h.set(a,o)}else h=Fu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Gr]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function jy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function mT(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function zy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ql=null;function pT(){}function gT(e,n,a){if(Ql===null)throw Error(s(475));var o=Ql;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=As(a.href),d=e.querySelector(Hl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=qu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,he(d);return}d=e.ownerDocument||e,a=Ly(a),(h=Dn.get(h))&&Zf(a,h),d=d.createElement("link"),he(d);var v=d;v._p=new Promise(function(T,x){v.onload=T,v.onerror=x}),Be(d,"link",a),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=qu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function yT(){if(Ql===null)throw Error(s(475));var e=Ql;return e.stylesheets&&e.count===0&&Wf(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Wf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function qu(){if(this.count--,this.count===0){if(this.stylesheets)Wf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Hu=null;function Wf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Hu=new Map,n.forEach(_T,e),Hu=null,qu.call(e))}function _T(e,n){if(!(n.state.loading&4)){var a=Hu.get(e);if(a)var o=a.get(null);else{a=new Map,Hu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=n.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=qu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Yl={$$typeof:$,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function vT(e,n,a,o,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Fy(e,n,a,o,h,d,v,T,x,q,Z,W){return e=new vT(e,n,a,v,T,x,q,W),n=1,d===!0&&(n|=24),d=on(3,null,null,n),e.current=d,d.stateNode=e,n=Mh(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},Lh(d),e}function qy(e){return e?(e=ts,e):ts}function Hy(e,n,a,o,h,d){h=qy(h),o.context===null?o.context=h:o.pendingContext=h,o=nr(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=ir(e,o,n),a!==null&&(dn(a,e,n),Sl(a,e,n))}function Gy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function td(e,n){Gy(e,n),(e=e.alternate)&&Gy(e,n)}function Qy(e){if(e.tag===13){var n=Wa(e,67108864);n!==null&&dn(n,e,67108864),td(e,67108864)}}var Gu=!0;function ET(e,n,a,o){var h=X.T;X.T=null;var d=lt.p;try{lt.p=2,ed(e,n,a,o)}finally{lt.p=d,X.T=h}}function TT(e,n,a,o){var h=X.T;X.T=null;var d=lt.p;try{lt.p=8,ed(e,n,a,o)}finally{lt.p=d,X.T=h}}function ed(e,n,a,o){if(Gu){var h=nd(o);if(h===null)Ff(e,n,o,Qu,a),Ky(e,o);else if(ST(h,e,n,a,o))o.stopPropagation();else if(Ky(e,o),n&4&&-1<AT.indexOf(e)){for(;h!==null;){var d=zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=In(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var x=1<<31-qe(v);T.entanglements[1]|=x,v&=~x}ei(d),(Qt&6)===0&&(xu=gn()+500,jl(0))}}break;case 13:T=Wa(d,2),T!==null&&dn(T,d,2),Nu(),td(d,2)}if(d=nd(o),d===null&&Ff(e,n,o,Qu,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Ff(e,n,o,null,a)}}function nd(e){return e=vn(e),id(e)}var Qu=null;function id(e){if(Qu=null,e=pi(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=f(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Qu=e,null}function Yy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ah()){case Gs:return 2;case Oa:return 8;case jr:case sh:return 32;case Ma:return 268435456;default:return 32}default:return 32}}var rd=!1,gr=null,yr=null,_r=null,Kl=new Map,$l=new Map,vr=[],AT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ky(e,n){switch(e){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(n.pointerId)}}function Xl(e,n,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=zn(n),n!==null&&Qy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function ST(e,n,a,o,h){switch(n){case"focusin":return gr=Xl(gr,e,n,a,o,h),!0;case"dragenter":return yr=Xl(yr,e,n,a,o,h),!0;case"mouseover":return _r=Xl(_r,e,n,a,o,h),!0;case"pointerover":var d=h.pointerId;return Kl.set(d,Xl(Kl.get(d)||null,e,n,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,$l.set(d,Xl($l.get(d)||null,e,n,a,o,h)),!0}return!1}function $y(e){var n=pi(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){e.blockedOn=n,No(e.priority,function(){if(a.tag===13){var o=fn();o=Yi(o);var h=Wa(a,o);h!==null&&dn(h,a,o),td(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=nd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);vi=o,a.target.dispatchEvent(o),vi=null}else return n=zn(a),n!==null&&Qy(n),e.blockedOn=a,!1;n.shift()}return!0}function Xy(e,n,a){Yu(e)&&a.delete(n)}function bT(){rd=!1,gr!==null&&Yu(gr)&&(gr=null),yr!==null&&Yu(yr)&&(yr=null),_r!==null&&Yu(_r)&&(_r=null),Kl.forEach(Xy),$l.forEach(Xy)}function Ku(e,n){e.blockedOn===n&&(e.blockedOn=null,rd||(rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bT)))}var $u=null;function Zy(e){$u!==e&&($u=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$u===e&&($u=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(id(o||a)===null)continue;break}var d=zn(a);d!==null&&(e.splice(n,3),n-=3,nf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Zl(e){function n(x){return Ku(x,e)}gr!==null&&Ku(gr,e),yr!==null&&Ku(yr,e),_r!==null&&Ku(_r,e),Kl.forEach(n),$l.forEach(n);for(var a=0;a<vr.length;a++){var o=vr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<vr.length&&(a=vr[0],a.blockedOn===null);)$y(a),a.blockedOn===null&&vr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[pe]||null;if(typeof d=="function")v||Zy(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pe]||null)T=v.formAction;else if(id(h)!==null)continue}else T=v.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),Zy(a)}}}function ad(e){this._internalRoot=e}Xu.prototype.render=ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=fn();Hy(a,o,e,n,null,null)},Xu.prototype.unmount=ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Hy(e.current,2,null,e,null,null),Nu(),n[yn]=null}};function Xu(e){this._internalRoot=e}Xu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ki();e={blockedOn:null,target:e,priority:n};for(var a=0;a<vr.length&&n!==0&&n<vr[a].priority;a++);vr.splice(a,0,e),a===0&&$y(e)}};var Jy=t.version;if(Jy!=="19.1.0")throw Error(s(527,Jy,"19.1.0"));lt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var RT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{oe=Zu.inject(RT),Gt=Zu}catch{}}return Wl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=mg,d=pg,v=gg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Fy(e,1,!1,null,null,a,o,h,d,v,T,null),e[yn]=n.current,zf(e),new ad(n)},Wl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=mg,v=pg,T=gg,x=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),n=Fy(e,1,!0,n,a??null,o,h,d,v,T,x,q),n.context=qy(null),a=n.current,o=fn(),o=Yi(o),h=nr(o),h.callback=null,ir(a,h,o),a=o,n.current.lanes=a,mi(n,a),ei(n),e[yn]=n.current,zf(e),new Xu(n)},Wl.version="19.1.0",Wl}var o_;function PT(){if(o_)return od.exports;o_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),od.exports=UT(),od.exports}var LT=PT();const kT=Uv(LT);var to={},u_;function BT(){if(u_)return to;u_=1,Object.defineProperty(to,"__esModule",{value:!0}),to.parse=f,to.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,w){const C=new u,j=S.length;if(j<2)return C;const L=(w==null?void 0:w.decode)||E;let K=0;do{const nt=S.indexOf("=",K);if(nt===-1)break;const $=S.indexOf(";",K),ot=$===-1?j:$;if(nt>ot){K=S.lastIndexOf(";",nt-1)+1;continue}const rt=m(S,K,nt),ft=p(S,nt,rt),O=S.slice(rt,ft);if(C[O]===void 0){let R=m(S,nt+1,ot),D=p(S,ot,R);const V=L(S.slice(R,D));C[O]=V}K=ot+1}while(K<j);return C}function m(S,w,C){do{const j=S.charCodeAt(w);if(j!==32&&j!==9)return w}while(++w<C);return C}function p(S,w,C){for(;w>C;){const j=S.charCodeAt(--w);if(j!==32&&j!==9)return w+1}return C}function y(S,w,C){const j=(C==null?void 0:C.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const L=j(w);if(!t.test(L))throw new TypeError(`argument val is invalid: ${w}`);let K=S+"="+L;if(!C)return K;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);K+="; Max-Age="+C.maxAge}if(C.domain){if(!i.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);K+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);K+="; Path="+C.path}if(C.expires){if(!A(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);K+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(K+="; HttpOnly"),C.secure&&(K+="; Secure"),C.partitioned&&(K+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return K}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function A(S){return l.call(S)==="[object Date]"}return to}BT();var c_="popstate";function jT(r={}){function t(l,u){let{pathname:f="/",search:m="",hash:p=""}=Ca(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),bd("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){let f=l.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=l.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:co(u))}function s(l,u){kn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return FT(t,i,s,r)}function se(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function kn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zT(){return Math.random().toString(36).substring(2,10)}function h_(r,t){return{usr:r.state,key:r.key,idx:t}}function bd(r,t,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ca(t):t,state:i,key:t&&t.key||s||zT()}}function co({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ca(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function FT(r,t,i,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let L=E(),K=L==null?null:L-y;y=L,p&&p({action:m,location:j.location,delta:K})}function S(L,K){m="PUSH";let nt=bd(j.location,L,K);i&&i(nt,L),y=E()+1;let $=h_(nt,y),ot=j.createHref(nt);try{f.pushState($,"",ot)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;l.location.assign(ot)}u&&p&&p({action:m,location:j.location,delta:1})}function w(L,K){m="REPLACE";let nt=bd(j.location,L,K);i&&i(nt,L),y=E();let $=h_(nt,y),ot=j.createHref(nt);f.replaceState($,"",ot),u&&p&&p({action:m,location:j.location,delta:0})}function C(L){return qT(L)}let j={get action(){return m},get location(){return r(l,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(c_,A),p=L,()=>{l.removeEventListener(c_,A),p=null}},createHref(L){return t(l,L)},createURL:C,encodeLocation(L){let K=C(L);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:w,go(L){return f.go(L)}};return j}function qT(r,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),se(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:co(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Pv(r,t,i="/"){return HT(r,t,i,!1)}function HT(r,t,i,s){let l=typeof t=="string"?Ca(t):t,u=Bi(l.pathname||"/",i);if(u==null)return null;let f=Lv(r);GT(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=nA(u);m=tA(f[p],y,s)}return m}function Lv(r,t=[],i=[],s=""){let l=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(se(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=ki([s,p.relativePath]),E=i.concat(p);u.children&&u.children.length>0&&(se(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Lv(u.children,t,E,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:JT(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,f);else for(let p of kv(u.path))l(u,f,p)}),t}function kv(r){let t=r.split("/");if(t.length===0)return[];let[i,...s]=t,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=kv(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function GT(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:WT(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var QT=/^:[\w-]+$/,YT=3,KT=2,$T=1,XT=10,ZT=-2,f_=r=>r==="*";function JT(r,t){let i=r.split("/"),s=i.length;return i.some(f_)&&(s+=ZT),t&&(s+=KT),i.filter(l=>!f_(l)).reduce((l,u)=>l+(QT.test(u)?YT:u===""?$T:XT),s)}function WT(r,t){return r.length===t.length&&r.slice(0,-1).every((s,l)=>s===t[l])?r[r.length-1]-t[t.length-1]:0}function tA(r,t,i=!1){let{routesMeta:s}=r,l={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=pc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),S=p.route;if(!A&&y&&i&&!s[s.length-1].route.index&&(A=pc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(l,A.params),f.push({params:l,pathname:ki([u,A.pathname]),pathnameBase:sA(ki([u,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(u=ki([u,A.pathnameBase]))}return f}function pc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=eA(r.path,r.caseSensitive,r.end),l=t.match(i);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:A},S)=>{if(E==="*"){let C=m[S]||"";f=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const w=m[S];return A&&!w?y[E]=void 0:y[E]=(w||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function eA(r,t=!1,i=!0){kn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function nA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Bi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function iA(r,t="/"){let{pathname:i,search:s="",hash:l=""}=typeof r=="string"?Ca(r):r;return{pathname:i?i.startsWith("/")?i:rA(i,t):t,search:lA(s),hash:oA(l)}}function rA(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function fd(r,t,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aA(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Bv(r){let t=aA(r);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function jv(r,t,i,s=!1){let l;typeof r=="string"?l=Ca(r):(l={...r},se(!l.pathname||!l.pathname.includes("?"),fd("?","pathname","search",l)),se(!l.pathname||!l.pathname.includes("#"),fd("#","pathname","hash",l)),se(!l.search||!l.search.includes("#"),fd("#","search","hash",l)));let u=r===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=i;else{let A=t.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),A-=1;l.pathname=S.join("/")}m=A>=0?t[A]:"/"}let p=iA(l,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var ki=r=>r.join("/").replace(/\/\/+/g,"/"),sA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),lA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,oA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function uA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var zv=["POST","PUT","PATCH","DELETE"];new Set(zv);var cA=["GET",...zv];new Set(cA);var ks=Y.createContext(null);ks.displayName="DataRouter";var Pc=Y.createContext(null);Pc.displayName="DataRouterState";var Fv=Y.createContext({isTransitioning:!1});Fv.displayName="ViewTransition";var hA=Y.createContext(new Map);hA.displayName="Fetchers";var fA=Y.createContext(null);fA.displayName="Await";var ci=Y.createContext(null);ci.displayName="Navigation";var Eo=Y.createContext(null);Eo.displayName="Location";var Gi=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Gi.displayName="Route";var nm=Y.createContext(null);nm.displayName="RouteError";function dA(r,{relative:t}={}){se(To(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Y.useContext(ci),{hash:l,pathname:u,search:f}=Ao(r,{relative:t}),m=u;return i!=="/"&&(m=u==="/"?i:ki([i,u])),s.createHref({pathname:m,search:f,hash:l})}function To(){return Y.useContext(Eo)!=null}function Da(){return se(To(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Eo).location}var qv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hv(r){Y.useContext(ci).static||Y.useLayoutEffect(r)}function Lc(){let{isDataRoute:r}=Y.useContext(Gi);return r?wA():mA()}function mA(){se(To(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(ks),{basename:t,navigator:i}=Y.useContext(ci),{matches:s}=Y.useContext(Gi),{pathname:l}=Da(),u=JSON.stringify(Bv(s)),f=Y.useRef(!1);return Hv(()=>{f.current=!0}),Y.useCallback((p,y={})=>{if(kn(f.current,qv),!f.current)return;if(typeof p=="number"){i.go(p);return}let E=jv(p,JSON.parse(u),l,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:ki([t,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[t,i,u,l,r])}Y.createContext(null);function Ao(r,{relative:t}={}){let{matches:i}=Y.useContext(Gi),{pathname:s}=Da(),l=JSON.stringify(Bv(i));return Y.useMemo(()=>jv(r,JSON.parse(l),s,t==="path"),[r,l,s,t])}function pA(r,t){return Gv(r,t)}function Gv(r,t,i,s){var nt;se(To(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=Y.useContext(ci),{matches:f}=Y.useContext(Gi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let $=A&&A.path||"";Qv(y,!A||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let S=Da(),w;if(t){let $=typeof t=="string"?Ca(t):t;se(E==="/"||((nt=$.pathname)==null?void 0:nt.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${$.pathname}" was given in the \`location\` prop.`),w=$}else w=S;let C=w.pathname||"/",j=C;if(E!=="/"){let $=E.replace(/^\//,"").split("/");j="/"+C.replace(/^\//,"").split("/").slice($.length).join("/")}let L=!u&&i&&i.matches&&i.matches.length>0?i.matches:Pv(r,{pathname:j});kn(A||L!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),kn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=EA(L&&L.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:ki([E,l.encodeLocation?l.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?E:ki([E,l.encodeLocation?l.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),f,i,s);return t&&K?Y.createElement(Eo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},K):K}function gA(){let r=RA(),t=uA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),i?Y.createElement("pre",{style:l},i):null,f)}var yA=Y.createElement(gA,null),_A=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?Y.createElement(Gi.Provider,{value:this.props.routeContext},Y.createElement(nm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vA({routeContext:r,match:t,children:i}){let s=Y.useContext(ks);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(Gi.Provider,{value:r},i)}function EA(r,t=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let l=r,u=i==null?void 0:i.errors;if(u!=null){let p=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);se(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,m=-1;if(i)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:A}=i,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||S){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,E)=>{let A,S=!1,w=null,C=null;i&&(A=u&&y.route.id?u[y.route.id]:void 0,w=y.route.errorElement||yA,f&&(m<0&&E===0?(Qv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,C=null):m===E&&(S=!0,C=y.route.hydrateFallbackElement||null)));let j=t.concat(l.slice(0,E+1)),L=()=>{let K;return A?K=w:S?K=C:y.route.Component?K=Y.createElement(y.route.Component,null):y.route.element?K=y.route.element:K=p,Y.createElement(vA,{match:y,routeContext:{outlet:p,matches:j,isDataRoute:i!=null},children:K})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Y.createElement(_A,{location:i.location,revalidation:i.revalidation,component:w,error:A,children:L(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):L()},null)}function im(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TA(r){let t=Y.useContext(ks);return se(t,im(r)),t}function AA(r){let t=Y.useContext(Pc);return se(t,im(r)),t}function SA(r){let t=Y.useContext(Gi);return se(t,im(r)),t}function rm(r){let t=SA(r),i=t.matches[t.matches.length-1];return se(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function bA(){return rm("useRouteId")}function RA(){var s;let r=Y.useContext(nm),t=AA("useRouteError"),i=rm("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[i]}function wA(){let{router:r}=TA("useNavigate"),t=rm("useNavigate"),i=Y.useRef(!1);return Hv(()=>{i.current=!0}),Y.useCallback(async(l,u={})=>{kn(i.current,qv),i.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...u}))},[r,t])}var d_={};function Qv(r,t,i){!t&&!d_[r]&&(d_[r]=!0,kn(!1,i))}Y.memo(CA);function CA({routes:r,future:t,state:i}){return Gv(r,void 0,i,t)}function ii(r){se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DA({basename:r="/",children:t=null,location:i,navigationType:s="POP",navigator:l,static:u=!1}){se(!To(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Y.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof i=="string"&&(i=Ca(i));let{pathname:p="/",search:y="",hash:E="",state:A=null,key:S="default"}=i,w=Y.useMemo(()=>{let C=Bi(p,f);return C==null?null:{location:{pathname:C,search:y,hash:E,state:A,key:S},navigationType:s}},[f,p,y,E,A,S,s]);return kn(w!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:Y.createElement(ci.Provider,{value:m},Y.createElement(Eo.Provider,{children:t,value:w}))}function Yv({children:r,location:t}){return pA(Rd(r),t)}function Rd(r,t=[]){let i=[];return Y.Children.forEach(r,(s,l)=>{if(!Y.isValidElement(s))return;let u=[...t,l];if(s.type===Y.Fragment){i.push.apply(i,Rd(s.props.children,u));return}se(s.type===ii,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),se(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Rd(s.props.children,u)),i.push(f)}),i}var lc="get",oc="application/x-www-form-urlencoded";function kc(r){return r!=null&&typeof r.tagName=="string"}function xA(r){return kc(r)&&r.tagName.toLowerCase()==="button"}function IA(r){return kc(r)&&r.tagName.toLowerCase()==="form"}function NA(r){return kc(r)&&r.tagName.toLowerCase()==="input"}function OA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function MA(r,t){return r.button===0&&(!t||t==="_self")&&!OA(r)}var Ju=null;function VA(){if(Ju===null)try{new FormData(document.createElement("form"),0),Ju=!1}catch{Ju=!0}return Ju}var UA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dd(r){return r!=null&&!UA.has(r)?(kn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oc}"`),null):r}function PA(r,t){let i,s,l,u,f;if(IA(r)){let m=r.getAttribute("action");s=m?Bi(m,t):null,i=r.getAttribute("method")||lc,l=dd(r.getAttribute("enctype"))||oc,u=new FormData(r)}else if(xA(r)||NA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Bi(p,t):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||lc,l=dd(r.getAttribute("formenctype"))||dd(m.getAttribute("enctype"))||oc,u=new FormData(m,r),!VA()){let{name:y,type:E,value:A}=r;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,A)}}else{if(kc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=lc,s=null,l=oc,f=r}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:i.toLowerCase(),encType:l,formData:u,body:f}}function am(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function LA(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function BA(r,t,i){let s=await Promise.all(r.map(async l=>{let u=t.routes[l.route.id];if(u){let f=await LA(u,i);return f.links?f.links():[]}return[]}));return qA(s.flat(1).filter(kA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function m_(r,t,i,s,l,u){let f=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,m=(p,y)=>{var E;return i[y].pathname!==p.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{var A;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((A=i[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function jA(r,t,{includeHydrateFallback:i}={}){return zA(r.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function zA(r){return[...new Set(r)]}function FA(r){let t={},i=Object.keys(r).sort();for(let s of i)t[s]=r[s];return t}function qA(r,t){let i=new Set;return new Set(t),r.reduce((s,l)=>{let u=JSON.stringify(FA(l));return i.has(u)||(i.add(u),s.push({key:u,link:l})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HA=new Set([100,101,204,205]);function GA(r,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":t&&Bi(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Kv(){let r=Y.useContext(ks);return am(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function QA(){let r=Y.useContext(Pc);return am(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sm=Y.createContext(void 0);sm.displayName="FrameworkContext";function $v(){let r=Y.useContext(sm);return am(r,"You must render this element inside a <HydratedRouter> element"),r}function YA(r,t){let i=Y.useContext(sm),[s,l]=Y.useState(!1),[u,f]=Y.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=t,S=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let j=K=>{K.forEach(nt=>{f(nt.isIntersecting)})},L=new IntersectionObserver(j,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[r]),Y.useEffect(()=>{if(s){let j=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(j)}}},[s]);let w=()=>{l(!0)},C=()=>{l(!1),f(!1)};return i?r!=="intent"?[u,S,{}]:[u,S,{onFocus:eo(m,w),onBlur:eo(p,C),onMouseEnter:eo(y,w),onMouseLeave:eo(E,C),onTouchStart:eo(A,w)}]:[!1,S,{}]}function eo(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function KA({page:r,...t}){let{router:i}=Kv(),s=Y.useMemo(()=>Pv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?Y.createElement(XA,{page:r,matches:s,...t}):null}function $A(r){let{manifest:t,routeModules:i}=$v(),[s,l]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return BA(r,t,i).then(f=>{u||l(f)}),()=>{u=!0}},[r,t,i]),s}function XA({page:r,matches:t,...i}){let s=Da(),{manifest:l,routeModules:u}=$v(),{basename:f}=Kv(),{loaderData:m,matches:p}=QA(),y=Y.useMemo(()=>m_(r,t,p,l,s,"data"),[r,t,p,l,s]),E=Y.useMemo(()=>m_(r,t,p,l,s,"assets"),[r,t,p,l,s]),A=Y.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let C=new Set,j=!1;if(t.forEach(K=>{var $;let nt=l.routes[K.route.id];!nt||!nt.hasLoader||(!y.some(ot=>ot.route.id===K.route.id)&&K.route.id in m&&(($=u[K.route.id])!=null&&$.shouldRevalidate)||nt.hasClientLoader?j=!0:C.add(K.route.id))}),C.size===0)return[];let L=GA(r,f);return j&&C.size>0&&L.searchParams.set("_routes",t.filter(K=>C.has(K.route.id)).map(K=>K.route.id).join(",")),[L.pathname+L.search]},[f,m,s,l,y,t,r,u]),S=Y.useMemo(()=>jA(E,l),[E,l]),w=$A(E);return Y.createElement(Y.Fragment,null,A.map(C=>Y.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...i})),S.map(C=>Y.createElement("link",{key:C,rel:"modulepreload",href:C,...i})),w.map(({key:C,link:j})=>Y.createElement("link",{key:C,...j})))}function ZA(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Xv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xv&&(window.__reactRouterVersion="7.6.0")}catch{}function JA({basename:r,children:t,window:i}){let s=Y.useRef();s.current==null&&(s.current=jT({window:i,v5Compat:!0}));let l=s.current,[u,f]=Y.useState({action:l.action,location:l.location}),m=Y.useCallback(p=>{Y.startTransition(()=>f(p))},[f]);return Y.useLayoutEffect(()=>l.listen(m),[l,m]),Y.createElement(DA,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:l})}var Zv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sa=Y.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:A,...S},w){let{basename:C}=Y.useContext(ci),j=typeof y=="string"&&Zv.test(y),L,K=!1;if(typeof y=="string"&&j&&(L=y,Xv))try{let D=new URL(window.location.href),V=y.startsWith("//")?new URL(D.protocol+y):new URL(y),P=Bi(V.pathname,C);V.origin===D.origin&&P!=null?y=P+V.search+V.hash:K=!0}catch{kn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let nt=dA(y,{relative:l}),[$,ot,rt]=YA(s,S),ft=eS(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:l,viewTransition:A});function O(D){t&&t(D),D.defaultPrevented||ft(D)}let R=Y.createElement("a",{...S,...rt,href:L||nt,onClick:K||u?t:O,ref:ZA(w,ot),target:p,"data-discover":!j&&i==="render"?"true":void 0});return $&&!j?Y.createElement(Y.Fragment,null,R,Y.createElement(KA,{page:nt})):R});Sa.displayName="Link";var gc=Y.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let A=Ao(f,{relative:y.relative}),S=Da(),w=Y.useContext(Pc),{navigator:C,basename:j}=Y.useContext(ci),L=w!=null&&sS(A)&&m===!0,K=C.encodeLocation?C.encodeLocation(A).pathname:A.pathname,nt=S.pathname,$=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(nt=nt.toLowerCase(),$=$?$.toLowerCase():null,K=K.toLowerCase()),$&&j&&($=Bi($,j)||$);const ot=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let rt=nt===K||!l&&nt.startsWith(K)&&nt.charAt(ot)==="/",ft=$!=null&&($===K||!l&&$.startsWith(K)&&$.charAt(K.length)==="/"),O={isActive:rt,isPending:ft,isTransitioning:L},R=rt?t:void 0,D;typeof s=="function"?D=s(O):D=[s,rt?"active":null,ft?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(O):u;return Y.createElement(Sa,{...y,"aria-current":R,className:D,ref:E,style:V,to:f,viewTransition:m},typeof p=="function"?p(O):p)});gc.displayName="NavLink";var WA=Y.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:l,state:u,method:f=lc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:A,...S},w)=>{let C=rS(),j=aS(m,{relative:y}),L=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&Zv.test(m),nt=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let ot=$.nativeEvent.submitter,rt=(ot==null?void 0:ot.getAttribute("formmethod"))||f;C(ot||$.currentTarget,{fetcherKey:t,method:rt,navigate:i,replace:l,state:u,relative:y,preventScrollReset:E,viewTransition:A})};return Y.createElement("form",{ref:w,method:L,action:j,onSubmit:s?p:nt,...S,"data-discover":!K&&r==="render"?"true":void 0})});WA.displayName="Form";function tS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jv(r){let t=Y.useContext(ks);return se(t,tS(r)),t}function eS(r,{target:t,replace:i,state:s,preventScrollReset:l,relative:u,viewTransition:f}={}){let m=Lc(),p=Da(),y=Ao(r,{relative:u});return Y.useCallback(E=>{if(MA(E,t)){E.preventDefault();let A=i!==void 0?i:co(p)===co(y);m(r,{replace:A,state:s,preventScrollReset:l,relative:u,viewTransition:f})}},[p,m,y,i,s,t,r,l,u,f])}var nS=0,iS=()=>`__${String(++nS)}__`;function rS(){let{router:r}=Jv("useSubmit"),{basename:t}=Y.useContext(ci),i=bA();return Y.useCallback(async(s,l={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=PA(s,t);if(l.navigate===!1){let E=l.fetcherKey||iS();await r.fetch(E,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,i])}function aS(r,{relative:t}={}){let{basename:i}=Y.useContext(ci),s=Y.useContext(Gi);se(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...Ao(r||".",{relative:t})},f=Da();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:ki([i,u.pathname])),co(u)}function sS(r,t={}){let i=Y.useContext(Fv);se(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Jv("useViewTransitionState"),l=Ao(r,{relative:t.relative});if(!i.isTransitioning)return!1;let u=Bi(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=Bi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return pc(l.pathname,f)!=null||pc(l.pathname,u)!=null}[...HA];const lS="https://via.placeholder.com/80?text=Sun",oS="https://via.placeholder.com/42?text=Cart",uS="https://via.placeholder.com/42?text=Admin",cS=({cartCount:r})=>N.jsxs("header",{className:"navbar",children:[N.jsx("div",{className:"navbar-left",children:N.jsx(gc,{to:"/products",className:({isActive:t})=>t?"products-link active":"products-link",children:"Products"})}),N.jsx("div",{className:"navbar-center",children:N.jsxs(Sa,{to:"/",className:"playsummer-link",children:[N.jsx("img",{src:"public/sun.png",alt:"Sun",className:"sun-icon",onError:t=>t.target.src=lS}),N.jsx("h1",{className:"playsummer-title",children:"PlaySummer"})]})}),N.jsxs("div",{className:"icon-container",children:[N.jsxs(Sa,{to:"/cart",className:"icon-link",children:[N.jsx("img",{src:"public/cart-icon.png",alt:"Cart",className:"icon cart-icon",onError:t=>t.target.src=oS}),r>0&&N.jsx("span",{className:"cart-count",children:r})]}),N.jsx(Sa,{to:"/admin",className:"icon-link",children:N.jsx("img",{src:"public/admin-icon.png",alt:"Admin",className:"icon admin-icon",onError:t=>t.target.src=uS})})]})]}),hS=()=>N.jsx("footer",{className:"footer",children:N.jsx("p",{children:" 2025 PlaySummer. All rights reserved."})}),fS=()=>{};var p_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},dS=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[i++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[i++],f=r[i++],m=r[i++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[i++],f=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return t.join("")},t0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,m=f?r[l+1]:0,p=l+2<r.length,y=p?r[l+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,w=y&63;p||(w=64,f||(S=64)),s.push(i[E],i[A],i[S],i[w])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Wv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):dS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=i[r.charAt(l++)],m=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,u==null||m==null||y==null||A==null)throw new mS;const S=u<<2|m>>4;if(s.push(S),y!==64){const w=m<<4&240|y>>2;if(s.push(w),A!==64){const C=y<<6&192|A;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class mS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pS=function(r){const t=Wv(r);return t0.encodeByteArray(t,!0)},yc=function(r){return pS(r).replace(/\./g,"")},gS=function(r){try{return t0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=()=>yS().__FIREBASE_DEFAULTS__,vS=()=>{if(typeof process>"u"||typeof p_>"u")return;const r=p_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ES=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&gS(r[1]);return t&&JSON.parse(t)},lm=()=>{try{return fS()||_S()||vS()||ES()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},TS=r=>{var t,i;return(i=(t=lm())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},e0=r=>{const t=TS(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},n0=()=>{var r;return(r=lm())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(r){return r.endsWith(".cloudworkstations.dev")}async function i0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[yc(JSON.stringify(i)),yc(JSON.stringify(f)),""].join(".")}const ao={};function SS(){const r={prod:[],emulator:[]};for(const t of Object.keys(ao))ao[t]?r.emulator.push(t):r.prod.push(t);return r}function bS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let g_=!1;function jc(r,t){if(typeof window>"u"||typeof document>"u"||!Bc(window.location.host)||ao[r]===t||ao[r]||g_)return;ao[r]=t;function i(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=SS().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="absolute",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,w){S.setAttribute("width","24"),S.setAttribute("id",w),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{g_=!0,f()},S}function E(S,w){S.setAttribute("id",w),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=bS(s),w=i("text"),C=document.getElementById(w)||document.createElement("span"),j=i("learnmore"),L=document.getElementById(j)||document.createElement("a"),K=i("preprendIcon"),nt=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const $=S.element;m($),E(L,j);const ot=y();p(nt,K),$.append(nt,C,L,ot),document.body.appendChild($)}u?(C.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wS(){var r;const t=(r=lm())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CS(){return!wS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DS(){try{return typeof indexedDB=="object"}catch{return!1}}function xS(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="FirebaseError";class xa extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=IS,Object.setPrototypeOf(this,xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,a0.prototype.create)}}class a0{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,u=this.errors[t],f=u?NS(u,s):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new xa(l,m,s)}}function NS(r,t){return r.replace(OS,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const OS=/\{\$([^}]+)}/g;function _c(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const u=r[l],f=t[l];if(y_(u)&&y_(f)){if(!_c(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function y_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(r){return r&&r._delegate?r._delegate:r}class Is{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new AS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(US(t))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=Ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ea){return this.instances.has(t)}getOptions(t=Ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(l)}return l}onInit(t,i){var s;const l=this.normalizeInstanceIdentifier(i),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&t(f,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ea){return this.component?this.component.multipleInstances?t:Ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VS(r){return r===Ea?void 0:r}function US(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new MS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const LS={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},kS=kt.INFO,BS={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},jS=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=BS[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class s0{constructor(t){this.name=t,this._logLevel=kS,this._logHandler=jS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?LS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const zS=(r,t)=>t.some(i=>r instanceof i);let __,v_;function FS(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qS(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l0=new WeakMap,wd=new WeakMap,o0=new WeakMap,md=new WeakMap,om=new WeakMap;function HS(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{i(Ar(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&l0.set(i,r)}).catch(()=>{}),om.set(t,r),t}function GS(r){if(wd.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{i(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});wd.set(r,t)}let Cd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return wd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||o0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ar(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function QS(r){Cd=r(Cd)}function YS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(pd(this),t,...i);return o0.set(s,t.sort?t.sort():[t]),Ar(s)}:qS().includes(r)?function(...t){return r.apply(pd(this),t),Ar(l0.get(this))}:function(...t){return Ar(r.apply(pd(this),t))}}function KS(r){return typeof r=="function"?YS(r):(r instanceof IDBTransaction&&GS(r),zS(r,FS())?new Proxy(r,Cd):r)}function Ar(r){if(r instanceof IDBRequest)return HS(r);if(md.has(r))return md.get(r);const t=KS(r);return t!==r&&(md.set(r,t),om.set(t,r)),t}const pd=r=>om.get(r);function $S(r,t,{blocked:i,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(r,t),m=Ar(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Ar(f.result),p.oldVersion,p.newVersion,Ar(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const XS=["get","getKey","getAll","getAllKeys","count"],ZS=["put","add","delete","clear"],gd=new Map;function E_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(gd.get(t))return gd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=ZS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||XS.includes(i)))return;const u=async function(f,...m){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),l&&p.done]))[0]};return gd.set(t,u),u}QS(r=>({...r,get:(t,i,s)=>E_(t,i)||r.get(t,i,s),has:(t,i)=>!!E_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(WS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function WS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Dd="@firebase/app",T_="0.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new s0("@firebase/app"),tb="@firebase/app-compat",eb="@firebase/analytics-compat",nb="@firebase/analytics",ib="@firebase/app-check-compat",rb="@firebase/app-check",ab="@firebase/auth",sb="@firebase/auth-compat",lb="@firebase/database",ob="@firebase/data-connect",ub="@firebase/database-compat",cb="@firebase/functions",hb="@firebase/functions-compat",fb="@firebase/installations",db="@firebase/installations-compat",mb="@firebase/messaging",pb="@firebase/messaging-compat",gb="@firebase/performance",yb="@firebase/performance-compat",_b="@firebase/remote-config",vb="@firebase/remote-config-compat",Eb="@firebase/storage",Tb="@firebase/storage-compat",Ab="@firebase/firestore",Sb="@firebase/vertexai",bb="@firebase/firestore-compat",Rb="firebase",wb="11.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="[DEFAULT]",Cb={[Dd]:"fire-core",[tb]:"fire-core-compat",[nb]:"fire-analytics",[eb]:"fire-analytics-compat",[rb]:"fire-app-check",[ib]:"fire-app-check-compat",[ab]:"fire-auth",[sb]:"fire-auth-compat",[lb]:"fire-rtdb",[ob]:"fire-data-connect",[ub]:"fire-rtdb-compat",[cb]:"fire-fn",[hb]:"fire-fn-compat",[fb]:"fire-iid",[db]:"fire-iid-compat",[mb]:"fire-fcm",[pb]:"fire-fcm-compat",[gb]:"fire-perf",[yb]:"fire-perf-compat",[_b]:"fire-rc",[vb]:"fire-rc-compat",[Eb]:"fire-gcs",[Tb]:"fire-gcs-compat",[Ab]:"fire-fst",[bb]:"fire-fst-compat",[Sb]:"fire-vertex","fire-js":"fire-js",[Rb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,Db=new Map,Id=new Map;function A_(r,t){try{r.container.addComponent(t)}catch(i){zi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function ho(r){const t=r.name;if(Id.has(t))return zi.debug(`There were multiple attempts to register component ${t}.`),!1;Id.set(t,r);for(const i of vc.values())A_(i,r);for(const i of Db.values())A_(i,r);return!0}function u0(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function c0(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new a0("app","Firebase",xb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=wb;function f0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:xd,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw Sr.create("bad-app-name",{appName:String(l)});if(i||(i=n0()),!i)throw Sr.create("no-options");const u=vc.get(l);if(u){if(_c(i,u.options)&&_c(s,u.config))return u;throw Sr.create("duplicate-app",{appName:l})}const f=new PS(l);for(const p of Id.values())f.addComponent(p);const m=new Ib(i,s,f);return vc.set(l,m),m}function d0(r=xd){const t=vc.get(r);if(!t&&r===xd&&n0())return f0();if(!t)throw Sr.create("no-app",{appName:r});return t}function br(r,t,i){var s;let l=(s=Cb[r])!==null&&s!==void 0?s:r;i&&(l+=`-${i}`);const u=l.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${l}" with version "${t}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zi.warn(m.join(" "));return}ho(new Is(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="firebase-heartbeat-database",Ob=1,fo="firebase-heartbeat-store";let yd=null;function m0(){return yd||(yd=$S(Nb,Ob,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(fo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Sr.create("idb-open",{originalErrorMessage:r.message})})),yd}async function Mb(r){try{const i=(await m0()).transaction(fo),s=await i.objectStore(fo).get(p0(r));return await i.done,s}catch(t){if(t instanceof xa)zi.warn(t.message);else{const i=Sr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zi.warn(i.message)}}}async function S_(r,t){try{const s=(await m0()).transaction(fo,"readwrite");await s.objectStore(fo).put(t,p0(r)),await s.done}catch(i){if(i instanceof xa)zi.warn(i.message);else{const s=Sr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});zi.warn(s.message)}}}function p0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=1024,Ub=30;class Pb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new kb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=b_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>Ub){const f=Bb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){zi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=b_(),{heartbeatsToSend:s,unsentEntries:l}=Lb(this._heartbeatsCache.heartbeats),u=yc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return zi.warn(i),""}}}function b_(){return new Date().toISOString().substring(0,10)}function Lb(r,t=Vb){const i=[];let s=r.slice();for(const l of r){const u=i.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),R_(i)>t){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),R_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class kb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DS()?xS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Mb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return S_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return S_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function R_(r){return yc(JSON.stringify({version:2,heartbeats:r})).length}function Bb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(r){ho(new Is("platform-logger",t=>new JS(t),"PRIVATE")),ho(new Is("heartbeat",t=>new Pb(t),"PRIVATE")),br(Dd,T_,r),br(Dd,T_,"esm2017"),br("fire-js","")}jb("");var zb="firebase",Fb="11.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br(zb,Fb,"app");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rr,g0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function D(){}D.prototype=R.prototype,O.D=R.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function(V,P,k){for(var I=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)I[Ht-2]=arguments[Ht];return R.prototype[P].apply(V,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,R,D){D||(D=0);var V=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)V[P]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(P=0;16>P;++P)V[P]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=O.g[0],D=O.g[1],P=O.g[2];var k=O.g[3],I=R+(k^D&(P^k))+V[0]+3614090360&4294967295;R=D+(I<<7&4294967295|I>>>25),I=k+(P^R&(D^P))+V[1]+3905402710&4294967295,k=R+(I<<12&4294967295|I>>>20),I=P+(D^k&(R^D))+V[2]+606105819&4294967295,P=k+(I<<17&4294967295|I>>>15),I=D+(R^P&(k^R))+V[3]+3250441966&4294967295,D=P+(I<<22&4294967295|I>>>10),I=R+(k^D&(P^k))+V[4]+4118548399&4294967295,R=D+(I<<7&4294967295|I>>>25),I=k+(P^R&(D^P))+V[5]+1200080426&4294967295,k=R+(I<<12&4294967295|I>>>20),I=P+(D^k&(R^D))+V[6]+2821735955&4294967295,P=k+(I<<17&4294967295|I>>>15),I=D+(R^P&(k^R))+V[7]+4249261313&4294967295,D=P+(I<<22&4294967295|I>>>10),I=R+(k^D&(P^k))+V[8]+1770035416&4294967295,R=D+(I<<7&4294967295|I>>>25),I=k+(P^R&(D^P))+V[9]+2336552879&4294967295,k=R+(I<<12&4294967295|I>>>20),I=P+(D^k&(R^D))+V[10]+4294925233&4294967295,P=k+(I<<17&4294967295|I>>>15),I=D+(R^P&(k^R))+V[11]+2304563134&4294967295,D=P+(I<<22&4294967295|I>>>10),I=R+(k^D&(P^k))+V[12]+1804603682&4294967295,R=D+(I<<7&4294967295|I>>>25),I=k+(P^R&(D^P))+V[13]+4254626195&4294967295,k=R+(I<<12&4294967295|I>>>20),I=P+(D^k&(R^D))+V[14]+2792965006&4294967295,P=k+(I<<17&4294967295|I>>>15),I=D+(R^P&(k^R))+V[15]+1236535329&4294967295,D=P+(I<<22&4294967295|I>>>10),I=R+(P^k&(D^P))+V[1]+4129170786&4294967295,R=D+(I<<5&4294967295|I>>>27),I=k+(D^P&(R^D))+V[6]+3225465664&4294967295,k=R+(I<<9&4294967295|I>>>23),I=P+(R^D&(k^R))+V[11]+643717713&4294967295,P=k+(I<<14&4294967295|I>>>18),I=D+(k^R&(P^k))+V[0]+3921069994&4294967295,D=P+(I<<20&4294967295|I>>>12),I=R+(P^k&(D^P))+V[5]+3593408605&4294967295,R=D+(I<<5&4294967295|I>>>27),I=k+(D^P&(R^D))+V[10]+38016083&4294967295,k=R+(I<<9&4294967295|I>>>23),I=P+(R^D&(k^R))+V[15]+3634488961&4294967295,P=k+(I<<14&4294967295|I>>>18),I=D+(k^R&(P^k))+V[4]+3889429448&4294967295,D=P+(I<<20&4294967295|I>>>12),I=R+(P^k&(D^P))+V[9]+568446438&4294967295,R=D+(I<<5&4294967295|I>>>27),I=k+(D^P&(R^D))+V[14]+3275163606&4294967295,k=R+(I<<9&4294967295|I>>>23),I=P+(R^D&(k^R))+V[3]+4107603335&4294967295,P=k+(I<<14&4294967295|I>>>18),I=D+(k^R&(P^k))+V[8]+1163531501&4294967295,D=P+(I<<20&4294967295|I>>>12),I=R+(P^k&(D^P))+V[13]+2850285829&4294967295,R=D+(I<<5&4294967295|I>>>27),I=k+(D^P&(R^D))+V[2]+4243563512&4294967295,k=R+(I<<9&4294967295|I>>>23),I=P+(R^D&(k^R))+V[7]+1735328473&4294967295,P=k+(I<<14&4294967295|I>>>18),I=D+(k^R&(P^k))+V[12]+2368359562&4294967295,D=P+(I<<20&4294967295|I>>>12),I=R+(D^P^k)+V[5]+4294588738&4294967295,R=D+(I<<4&4294967295|I>>>28),I=k+(R^D^P)+V[8]+2272392833&4294967295,k=R+(I<<11&4294967295|I>>>21),I=P+(k^R^D)+V[11]+1839030562&4294967295,P=k+(I<<16&4294967295|I>>>16),I=D+(P^k^R)+V[14]+4259657740&4294967295,D=P+(I<<23&4294967295|I>>>9),I=R+(D^P^k)+V[1]+2763975236&4294967295,R=D+(I<<4&4294967295|I>>>28),I=k+(R^D^P)+V[4]+1272893353&4294967295,k=R+(I<<11&4294967295|I>>>21),I=P+(k^R^D)+V[7]+4139469664&4294967295,P=k+(I<<16&4294967295|I>>>16),I=D+(P^k^R)+V[10]+3200236656&4294967295,D=P+(I<<23&4294967295|I>>>9),I=R+(D^P^k)+V[13]+681279174&4294967295,R=D+(I<<4&4294967295|I>>>28),I=k+(R^D^P)+V[0]+3936430074&4294967295,k=R+(I<<11&4294967295|I>>>21),I=P+(k^R^D)+V[3]+3572445317&4294967295,P=k+(I<<16&4294967295|I>>>16),I=D+(P^k^R)+V[6]+76029189&4294967295,D=P+(I<<23&4294967295|I>>>9),I=R+(D^P^k)+V[9]+3654602809&4294967295,R=D+(I<<4&4294967295|I>>>28),I=k+(R^D^P)+V[12]+3873151461&4294967295,k=R+(I<<11&4294967295|I>>>21),I=P+(k^R^D)+V[15]+530742520&4294967295,P=k+(I<<16&4294967295|I>>>16),I=D+(P^k^R)+V[2]+3299628645&4294967295,D=P+(I<<23&4294967295|I>>>9),I=R+(P^(D|~k))+V[0]+4096336452&4294967295,R=D+(I<<6&4294967295|I>>>26),I=k+(D^(R|~P))+V[7]+1126891415&4294967295,k=R+(I<<10&4294967295|I>>>22),I=P+(R^(k|~D))+V[14]+2878612391&4294967295,P=k+(I<<15&4294967295|I>>>17),I=D+(k^(P|~R))+V[5]+4237533241&4294967295,D=P+(I<<21&4294967295|I>>>11),I=R+(P^(D|~k))+V[12]+1700485571&4294967295,R=D+(I<<6&4294967295|I>>>26),I=k+(D^(R|~P))+V[3]+2399980690&4294967295,k=R+(I<<10&4294967295|I>>>22),I=P+(R^(k|~D))+V[10]+4293915773&4294967295,P=k+(I<<15&4294967295|I>>>17),I=D+(k^(P|~R))+V[1]+2240044497&4294967295,D=P+(I<<21&4294967295|I>>>11),I=R+(P^(D|~k))+V[8]+1873313359&4294967295,R=D+(I<<6&4294967295|I>>>26),I=k+(D^(R|~P))+V[15]+4264355552&4294967295,k=R+(I<<10&4294967295|I>>>22),I=P+(R^(k|~D))+V[6]+2734768916&4294967295,P=k+(I<<15&4294967295|I>>>17),I=D+(k^(P|~R))+V[13]+1309151649&4294967295,D=P+(I<<21&4294967295|I>>>11),I=R+(P^(D|~k))+V[4]+4149444226&4294967295,R=D+(I<<6&4294967295|I>>>26),I=k+(D^(R|~P))+V[11]+3174756917&4294967295,k=R+(I<<10&4294967295|I>>>22),I=P+(R^(k|~D))+V[2]+718787259&4294967295,P=k+(I<<15&4294967295|I>>>17),I=D+(k^(P|~R))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+k&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var D=R-this.blockSize,V=this.B,P=this.h,k=0;k<R;){if(P==0)for(;k<=D;)l(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<R;)if(V[P++]=O.charCodeAt(k++),P==this.blockSize){l(this,V),P=0;break}}else for(;k<R;)if(V[P++]=O[k++],P==this.blockSize){l(this,V),P=0;break}}this.h=P,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var D=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=D&255,D/=256;for(this.u(O),O=Array(16),R=D=0;4>R;++R)for(var V=0;32>V;V+=8)O[D++]=this.g[R]>>>V&255;return O};function u(O,R){var D=m;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=R(O)}function f(O,R){this.h=R;for(var D=[],V=!0,P=O.length-1;0<=P;P--){var k=O[P]|0;V&&k==R||(D[P]=k,V=!1)}this.g=D}var m={};function p(O){return-128<=O&&128>O?u(O,function(R){return new f([R|0],0>R?-1:0)}):new f([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return L(y(-O));for(var R=[],D=1,V=0;O>=D;V++)R[V]=O/D|0,D*=4294967296;return new f(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return L(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=y(Math.pow(R,8)),V=A,P=0;P<O.length;P+=8){var k=Math.min(8,O.length-P),I=parseInt(O.substring(P,P+k),R);8>k?(k=y(Math.pow(R,k)),V=V.j(k).add(y(I))):(V=V.j(D),V=V.add(y(I)))}return V}var A=p(0),S=p(1),w=p(16777216);r=f.prototype,r.m=function(){if(j(this))return-L(this).m();for(var O=0,R=1,D=0;D<this.g.length;D++){var V=this.i(D);O+=(0<=V?V:4294967296+V)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(C(this))return"0";if(j(this))return"-"+L(this).toString(O);for(var R=y(Math.pow(O,6)),D=this,V="";;){var P=ot(D,R).g;D=K(D,P.j(R));var k=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=P,C(D))return k+V;for(;6>k.length;)k="0"+k;V=k+V}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function C(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function j(O){return O.h==-1}r.l=function(O){return O=K(this,O),j(O)?-1:C(O)?0:1};function L(O){for(var R=O.g.length,D=[],V=0;V<R;V++)D[V]=~O.g[V];return new f(D,~O.h).add(S)}r.abs=function(){return j(this)?L(this):this},r.add=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],V=0,P=0;P<=R;P++){var k=V+(this.i(P)&65535)+(O.i(P)&65535),I=(k>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);V=I>>>16,k&=65535,I&=65535,D[P]=I<<16|k}return new f(D,D[D.length-1]&-2147483648?-1:0)};function K(O,R){return O.add(L(R))}r.j=function(O){if(C(this)||C(O))return A;if(j(this))return j(O)?L(this).j(L(O)):L(L(this).j(O));if(j(O))return L(this.j(L(O)));if(0>this.l(w)&&0>O.l(w))return y(this.m()*O.m());for(var R=this.g.length+O.g.length,D=[],V=0;V<2*R;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(var P=0;P<O.g.length;P++){var k=this.i(V)>>>16,I=this.i(V)&65535,Ht=O.i(P)>>>16,Jt=O.i(P)&65535;D[2*V+2*P]+=I*Jt,nt(D,2*V+2*P),D[2*V+2*P+1]+=k*Jt,nt(D,2*V+2*P+1),D[2*V+2*P+1]+=I*Ht,nt(D,2*V+2*P+1),D[2*V+2*P+2]+=k*Ht,nt(D,2*V+2*P+2)}for(V=0;V<R;V++)D[V]=D[2*V+1]<<16|D[2*V];for(V=R;V<2*R;V++)D[V]=0;return new f(D,0)};function nt(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function $(O,R){this.g=O,this.h=R}function ot(O,R){if(C(R))throw Error("division by zero");if(C(O))return new $(A,A);if(j(O))return R=ot(L(O),R),new $(L(R.g),L(R.h));if(j(R))return R=ot(O,L(R)),new $(L(R.g),R.h);if(30<O.g.length){if(j(O)||j(R))throw Error("slowDivide_ only works with positive integers.");for(var D=S,V=R;0>=V.l(O);)D=rt(D),V=rt(V);var P=ft(D,1),k=ft(V,1);for(V=ft(V,2),D=ft(D,2);!C(V);){var I=k.add(V);0>=I.l(O)&&(P=P.add(D),k=I),V=ft(V,1),D=ft(D,1)}return R=K(O,P.j(R)),new $(P,R)}for(P=A;0<=O.l(R);){for(D=Math.max(1,Math.floor(O.m()/R.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),k=y(D),I=k.j(R);j(I)||0<I.l(O);)D-=V,k=y(D),I=k.j(R);C(k)&&(k=S),P=P.add(k),O=K(O,I)}return new $(P,O)}r.A=function(O){return ot(this,O).h},r.and=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],V=0;V<R;V++)D[V]=this.i(V)&O.i(V);return new f(D,this.h&O.h)},r.or=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],V=0;V<R;V++)D[V]=this.i(V)|O.i(V);return new f(D,this.h|O.h)},r.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],V=0;V<R;V++)D[V]=this.i(V)^O.i(V);return new f(D,this.h^O.h)};function rt(O){for(var R=O.g.length+1,D=[],V=0;V<R;V++)D[V]=O.i(V)<<1|O.i(V-1)>>>31;return new f(D,O.h)}function ft(O,R){var D=R>>5;R%=32;for(var V=O.g.length-D,P=[],k=0;k<V;k++)P[k]=0<R?O.i(k+D)>>>R|O.i(k+D+1)<<32-R:O.i(k+D);return new f(P,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,g0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Rr=f}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y0,no,_0,uc,Nd,v0,E0,T0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function l(c,g){if(g)t:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in _))break t;_=_[z]}c=c[c.length-1],b=_[c],g=g(b),g!=b&&g!=null&&t(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,b=!1,z={next:function(){if(!b&&_<c.length){var Q=_++;return{value:g(Q,c[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}l("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function A(c,g,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function S(c,g,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,S.apply(null,arguments)}function w(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function C(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,z,Q){for(var st=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)st[Vt-2]=arguments[Vt];return g.prototype[z].apply(b,st)}}function j(c){const g=c.length;if(0<g){const _=Array(g);for(let b=0;b<g;b++)_[b]=c[b];return _}return[]}function L(c,g){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const z=c.length||0,Q=b.length||0;c.length=z+Q;for(let st=0;st<Q;st++)c[z+st]=b[st]}else c.push(b)}}class K{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function nt(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ot(c){return ot[" "](c),c}ot[" "]=function(){};var rt=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ft(c,g,_){for(const b in c)g.call(_,c[b],b,c)}function O(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function R(c){const g={};for(const _ in c)g[_]=c[_];return g}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let _,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(_ in b)c[_]=b[_];for(let Q=0;Q<D.length;Q++)_=D[Q],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function P(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function I(){var c=jt;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ht{constructor(){this.h=this.g=null}add(g,_){const b=Jt.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Jt=new K(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,mt=!1,jt=new Ht,M=()=>{const c=m.Promise.resolve(void 0);lt=()=>{c.then(et)}};var et=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){k(_)}var g=Jt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}mt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function xt(c,g){if(at.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(rt){t:{try{ot(g.nodeName);var z=!0;break t}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:St[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xt.aa.h.call(this)}}C(xt,at);var St={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),te=0;function Bn(c,g,_,b,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=z,this.key=++te,this.da=this.fa=!1}function Qi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fi(c){this.src=c,this.g={},this.h=0}fi.prototype.add=function(c,g,_,b,z){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var st=kr(c,g,b,z);return-1<st?(g=c[st],_||(g.fa=!1)):(g=new Bn(g,this.src,Q,!!b,z),g.fa=_,c.push(g)),g};function Lr(c,g){var _=g.type;if(_ in c.g){var b=c.g[_],z=Array.prototype.indexOf.call(b,g,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(b,z,1),Q&&(Qi(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function kr(c,g,_,b){for(var z=0;z<c.length;++z){var Q=c[z];if(!Q.da&&Q.listener==g&&Q.capture==!!_&&Q.ha==b)return z}return-1}var Br="closure_lm_"+(1e6*Math.random()|0),Hs={};function Do(c,g,_,b,z){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)Do(c,g[Q],_,b,z);return null}return _=xo(_),c&&c[De]?c.K(g,_,y(b)?!!b.capture:!1,z):gn(c,g,_,!1,b,z)}function gn(c,g,_,b,z,Q){if(!g)throw Error("Invalid event type");var st=y(z)?!!z.capture:!!z,Vt=Ma(c);if(Vt||(c[Br]=Vt=new fi(c)),_=Vt.add(g,_,b,st,Q),_.proxy)return _;if(b=ah(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)gt||(z=st),z===void 0&&(z=!1),c.addEventListener(g.toString(),b,z);else if(c.attachEvent)c.attachEvent(jr(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ah(){function c(_){return g.call(c.src,c.listener,_)}const g=sh;return c}function Gs(c,g,_,b,z){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)Gs(c,g[Q],_,b,z);else b=y(b)?!!b.capture:!!b,_=xo(_),c&&c[De]?(c=c.i,g=String(g).toString(),g in c.g&&(Q=c.g[g],_=kr(Q,_,b,z),-1<_&&(Qi(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ma(c))&&(g=c.g[g.toString()],c=-1,g&&(c=kr(g,_,b,z)),(_=-1<c?g[c]:null)&&Oa(_))}function Oa(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[De])Lr(g.i,c);else{var _=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(_,b,c.capture):g.detachEvent?g.detachEvent(jr(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=Ma(g))?(Lr(_,c),_.h==0&&(_.src=null,g[Br]=null)):Qi(c)}}}function jr(c){return c in Hs?Hs[c]:Hs[c]="on"+c}function sh(c,g){if(c.da)c=!0;else{g=new xt(g,this);var _=c.listener,b=c.ha||c.src;c.fa&&Oa(c),c=_.call(b,g)}return c}function Ma(c){return c=c[Br],c instanceof fi?c:null}var Qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function xo(c){return typeof c=="function"?c:(c[Qs]||(c[Qs]=function(g){return c.handleEvent(g)}),c[Qs])}function oe(){ut.call(this),this.i=new fi(this),this.M=this,this.F=null}C(oe,ut),oe.prototype[De]=!0,oe.prototype.removeEventListener=function(c,g,_,b){Gs(this,c,g,_,b)};function Gt(c,g){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new at(g,c);else if(g instanceof at)g.target=g.target||c;else{var z=g;g=new at(b,c),V(g,z)}if(z=!0,_)for(var Q=_.length-1;0<=Q;Q--){var st=g.g=_[Q];z=an(st,b,!0,g)&&z}if(st=g.g=c,z=an(st,b,!0,g)&&z,z=an(st,b,!1,g)&&z,_)for(Q=0;Q<_.length;Q++)st=g.g=_[Q],z=an(st,b,!1,g)&&z}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],b=0;b<_.length;b++)Qi(_[b]);delete c.g[g],c.h--}}this.F=null},oe.prototype.K=function(c,g,_,b){return this.i.add(String(c),g,!1,_,b)},oe.prototype.L=function(c,g,_,b){return this.i.add(String(c),g,!0,_,b)};function an(c,g,_,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,Q=0;Q<g.length;++Q){var st=g[Q];if(st&&!st.da&&st.capture==_){var Vt=st.listener,Te=st.ha||st.src;st.fa&&Lr(c.i,st),z=Vt.call(Te,b)!==!1&&z}}return z&&!b.defaultPrevented}function qe(c,g,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Io(c){c.g=qe(()=>{c.g=null,c.i&&(c.i=!1,Io(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class lh extends ut{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Io(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(c){ut.call(this),this.h=c,this.g={}}C(zr,ut);var Fr=[];function qr(c){ft(c.g,function(g,_){this.g.hasOwnProperty(_)&&Oa(g)},c),c.g={}}zr.prototype.N=function(){zr.aa.N.call(this),qr(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=m.JSON.stringify,Va=m.JSON.parse,Hr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ys(){}Ys.prototype.h=null;function Ks(c){return c.h||(c.h=c.i())}function $s(){}var di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){at.call(this,"d")}C(mi,at);function Xs(){at.call(this,"c")}C(Xs,at);var jn={},Zs=null;function Yi(){return Zs=Zs||new oe}jn.La="serverreachability";function Ua(c){at.call(this,jn.La,c)}C(Ua,at);function Ki(c){const g=Yi();Gt(g,new Ua(g))}jn.STAT_EVENT="statevent";function No(c,g){at.call(this,jn.STAT_EVENT,c),this.stat=g}C(No,at);function ne(c){const g=Yi();Gt(g,new No(g,c))}jn.Ma="timingevent";function Ee(c,g){at.call(this,jn.Ma,c),this.size=g}C(Ee,at);function pe(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function Js(c,g,_,b,z,Q){c.info(function(){if(c.g)if(Q)for(var st="",Vt=Q.split("&"),Te=0;Te<Vt.length;Te++){var Ut=Vt[Te].split("=");if(1<Ut.length){var Ie=Ut[0];Ut=Ut[1];var Ae=Ie.split("_");st=2<=Ae.length&&Ae[1]=="type"?st+(Ie+"="+Ut+"&"):st+(Ie+"=redacted&")}}else st=null;else st=Q;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+g+`
`+_+`
`+st})}function oh(c,g,_,b,z,Q,st){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+g+`
`+_+`
`+Q+" "+st})}function $i(c,g,_,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Gr(c,_)+(b?" "+b:"")})}function Oo(c,g){c.info(function(){return"TIMEOUT: "+g})}yn.prototype.info=function(){};function Gr(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var st=1;st<z.length;st++)z[st]=""}}}}return In(_)}catch{return g}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Fn(){}C(Fn,Ys),Fn.prototype.g=function(){return new XMLHttpRequest},Fn.prototype.i=function(){return{}},zn=new Fn;function $e(c,g,_,b){this.j=c,this.i=g,this.l=_,this.R=b||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var Ws={},Pa={};function Nn(c,g,_){c.L=1,c.v=Xr(sn(g)),c.m=_,c.P=!0,gi(c,null)}function gi(c,g){c.F=Date.now(),Qr(c),c.A=sn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),al(_.i,"t",b),c.C=0,_=c.j.J,c.h=new he,c.g=Ko(c.j,_?g:null,!c.m),0<c.O&&(c.M=new lh(S(c.Y,c,c.g),c.O)),g=c.U,_=c.g,b=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Fr[0]=z.toString()),z=Fr);for(var Q=0;Q<z.length;Q++){var st=Do(_,z[Q],b||g.handleEvent,!1,g.h||g);if(!st)break;g.g[st.key]=st}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Ki(),Js(c.i,c.u,c.A,c.l,c.R,c.m)}$e.prototype.ca=function(c){c=c.target;const g=this.M;g&&Tn(c)==3?g.j():this.Y(c)},$e.prototype.Y=function(c){try{if(c==this.g)t:{const Ae=Tn(this.g);var g=this.g.Ba();const bi=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||jo(this.g)))){this.J||Ae!=4||g==7||(g==8||0>=bi?Ki(3):Ki(2)),Zi(this);var _=this.g.Z();this.X=_;e:if(Mo(this)){var b=jo(this.g);c="";var z=b.length,Q=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),qn(this);var st="";break e}this.h.i=new m.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(Q&&g==z-1)});b.length=0,this.h.g+=c,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=_==200,oh(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Te=this.g;if((Vt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(Vt)){var Ut=Vt;break e}}Ut=null}if(_=Ut)$i(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yr(this,_);else{this.o=!1,this.s=3,ne(12),Ue(this),qn(this);break t}}if(this.P){_=!0;let Pe;for(;!this.J&&this.C<st.length;)if(Pe=Vo(this,st),Pe==Pa){Ae==4&&(this.s=4,ne(14),_=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==Ws){this.s=4,ne(15),$i(this.i,this.l,st,"[Invalid Chunk]"),_=!1;break}else $i(this.i,this.l,Pe,null),Yr(this,Pe);if(Mo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||st.length!=0||this.h.h||(this.s=1,ne(16),_=!1),this.o=this.o&&_,!_)$i(this.i,this.l,st,"[Invalid Chunked Response]"),Ue(this),qn(this);else if(0<st.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),ra(Ie),Ie.M=!0,ne(11))}}else $i(this.i,this.l,st,null),Yr(this,st);Ae==4&&Ue(this),this.o&&!this.J&&(Ae==4?Go(this.j,this):(this.o=!1,Qr(this)))}else dh(this.g),_==400&&0<st.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Ue(this),qn(this)}}}catch{}finally{}};function Mo(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vo(c,g){var _=c.C,b=g.indexOf(`
`,_);return b==-1?Pa:(_=Number(g.substring(_,b)),isNaN(_)?Ws:(b+=1,b+_>g.length?Pa:(g=g.slice(b,b+_),c.C=b+_,g)))}$e.prototype.cancel=function(){this.J=!0,Ue(this)};function Qr(c){c.S=Date.now()+c.I,Uo(c,c.I)}function Uo(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pe(S(c.ba,c),g)}function Zi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}$e.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Oo(this.i,this.A),this.L!=2&&(Ki(),ne(17)),Ue(this),this.s=2,qn(this)):Uo(this,this.S-c)};function qn(c){c.j.G==0||c.J||Go(c.j,c)}function Ue(c){Zi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,qr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Yr(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||tl(_.h,c))){if(!c.K&&tl(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ka(_),Qa(_);else break t;cl(_),ne(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(S(_.Za,_),6e3));if(1>=ka(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Si(_,11)}else if((c.K||_.g==c)&&Ka(_),!nt(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let Ut=z[g];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Ie=Ut[3];Ie!=null&&(_.la=Ie,_.j.info("VER="+_.la));const Ae=Ut[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const bi=Ut[5];bi!=null&&typeof bi=="number"&&0<bi&&(b=1.5*bi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Pe=c.g;if(Pe){const Xn=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var Q=b.h;Q.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ba(Q,Q.h),Q.h=null))}if(b.D){const fl=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(b.ya=fl,Kt(b.I,b.D,fl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var st=c;if(b.qa=Yo(b,b.J?b.ia:null,b.W),st.K){Xe(b.h,st);var Vt=st,Te=b.L;Te&&(Vt.I=Te),Vt.B&&(Zi(Vt),Qr(Vt)),b.g=st}else qo(b);0<_.i.length&&Ya(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Si(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Si(_,7):ol(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}Ki(4)}catch{}}var Po=class{constructor(c,g){this.g=c,this.map=g}};function yi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function La(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ka(c){return c.h?1:c.g?c.g.size:0}function tl(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ba(c,g){c.g?c.g.add(g):c.h=g}function Xe(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}yi.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function el(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return j(c.i)}function uh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,b=0;b<_;b++)g.push(c[b]);return g}g=[],_=0;for(b in c)g[_++]=c[b];return g}function ja(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const b in c)g[_++]=b;return g}}}function nl(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=ja(c),b=uh(c),z=b.length,Q=0;Q<z;Q++)g.call(void 0,b[Q],_&&_[Q],c)}var Kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ch(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),z=null;if(0<=b){var Q=c[_].substring(0,b);z=c[_].substring(b+1)}else Q=c[_];g(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ge(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ge){this.h=c.h,$r(this,c.j),this.o=c.o,this.g=c.g,Ji(this,c.s),this.l=c.l;var g=c.i,_=new vi;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),_i(this,_),this.m=c.m}else c&&(g=String(c).match(Kr))?(this.h=!1,$r(this,g[1]||"",!0),this.o=_n(g[2]||""),this.g=_n(g[3]||"",!0),Ji(this,g[4]),this.l=_n(g[5]||"",!0),_i(this,g[6]||"",!0),this.m=_n(g[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}ge.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Zr(g,il,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Zr(g,il,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Zr(_,_.charAt(0)=="/"?hh:rl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Zr(_,za)),c.join("")};function sn(c){return new ge(c)}function $r(c,g,_){c.j=_?_n(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ji(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function _i(c,g,_){g instanceof vi?(c.i=g,ko(c.i,c.h)):(_||(g=Zr(g,fh)),c.i=new vi(g,c.h))}function Kt(c,g,_){c.i.set(g,_)}function Xr(c){return Kt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function _n(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zr(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Lo),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var il=/[#\/\?@]/g,rl=/[#\?:]/g,hh=/[#\?]/g,fh=/[#\?@]/g,za=/#/g;function vi(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function vn(c){c.g||(c.g=new Map,c.h=0,c.i&&ch(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=vi.prototype,r.add=function(c,g){vn(this),this.i=null,c=Hn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Ei(c,g){vn(c),g=Hn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ti(c,g){return vn(c),g=Hn(c,g),c.g.has(g)}r.forEach=function(c,g){vn(this),this.g.forEach(function(_,b){_.forEach(function(z){c.call(g,z,b,this)},this)},this)},r.na=function(){vn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let b=0;b<g.length;b++){const z=c[b];for(let Q=0;Q<z.length;Q++)_.push(g[b])}return _},r.V=function(c){vn(this);let g=[];if(typeof c=="string")Ti(this,c)&&(g=g.concat(this.g.get(Hn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return vn(this),this.i=null,c=Hn(this,c),Ti(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function al(c,g,_){Ei(c,g),0<_.length&&(c.i=null,c.g.set(Hn(c,g),j(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var b=g[_];const Q=encodeURIComponent(String(b)),st=this.V(b);for(b=0;b<st.length;b++){var z=Q;st[b]!==""&&(z+="="+encodeURIComponent(String(st[b]))),c.push(z)}}return this.i=c.join("&")};function Hn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ko(c,g){g&&!c.j&&(vn(c),c.i=null,c.g.forEach(function(_,b){var z=b.toLowerCase();b!=z&&(Ei(this,b),al(this,z,_))},c)),c.j=g}function Jr(c,g){const _=new yn;if(m.Image){const b=new Image;b.onload=w(En,_,"TestLoadImage: loaded",!0,g,b),b.onerror=w(En,_,"TestLoadImage: error",!1,g,b),b.onabort=w(En,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=w(En,_,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function On(c,g){const _=new yn,b=new AbortController,z=setTimeout(()=>{b.abort(),En(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(z),Q.ok?En(_,"TestPingServer: ok",!0,g):En(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),En(_,"TestPingServer: error",!1,g)})}function En(c,g,_,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(_)}catch{}}function Wr(){this.g=new Hr}function Gn(c,g,_){const b=_||"";try{nl(c,function(z,Q){let st=z;y(z)&&(st=In(z)),g.push(b+Q+"="+encodeURIComponent(st))})}catch(z){throw g.push(b+"type="+encodeURIComponent("_badmap")),z}}function Wi(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Wi,Ys),Wi.prototype.g=function(){return new Ai(this.l,this.j)},Wi.prototype.i=function(c){return function(){return c}}({});function Ai(c,g){oe.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ai,oe),r=Ai.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Yn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Qn(this):Yn(this),this.readyState==3&&sl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Qn(this))},r.Qa=function(c){this.g&&(this.response=c,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ll(c){let g="";return ft(c,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function xe(c,g,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=ll(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Kt(c,g,_))}function Ft(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ft,oe);var Fa=/^https?$/i,ta=["POST","PUT"];r=Ft.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Ks(this.o):Ks(zn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){Bo(this,Q);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)_.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ta,g,void 0))||b||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,st]of _)this.g.setRequestHeader(Q,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Bo(this,Q)}};function Bo(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,qa(c),Kn(c)}function qa(c){c.A||(c.A=!0,Gt(c,"complete"),Gt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Gt(this,"complete"),Gt(this,"abort"),Kn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),Ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ha(this):this.bb())},r.bb=function(){Ha(this)};function Ha(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Tn(c)!=4||c.Z()!=2)){if(c.u&&Tn(c)==4)qe(c.Ea,0,c);else if(Gt(c,"readystatechange"),Tn(c)==4){c.h=!1;try{const st=c.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var b;if(b=st===0){var z=String(c.D).match(Kr)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),b=!Fa.test(z?z.toLowerCase():"")}_=b}if(_)Gt(c,"complete"),Gt(c,"success");else{c.m=6;try{var Q=2<Tn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",qa(c)}}finally{Kn(c)}}}}function Kn(c,g){if(c.g){ea(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Gt(c,"ready");try{_.onreadystatechange=b}catch{}}}function ea(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Tn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Va(g)}};function jo(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function dh(c){const g={};c=(c.g&&2<=Tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(nt(c[b]))continue;var _=P(c[b]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=g[z]||[];g[z]=Q,Q.push(_)}O(g,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Ga(c){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,c),this.cb=na("retryDelaySeedMs",1e4,c),this.Wa=na("forwardChannelMaxRetries",2,c),this.wa=na("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new yi(c&&c.concurrentRequestLimit),this.Da=new Wr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ga.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,b){ne(0),this.W=c,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Yo(this,null,this.W),Ya(this)};function ol(c){if(zo(c),c.G==3){var g=c.U++,_=sn(c.I);if(Kt(_,"SID",c.K),Kt(_,"RID",g),Kt(_,"TYPE","terminate"),ia(c,_),g=new $e(c,c.j,g),g.L=2,g.v=Xr(sn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Ko(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Qr(g)}Qo(c)}function Qa(c){c.g&&(ra(c),c.g.cancel(),c.g=null)}function zo(c){Qa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ka(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ya(c){if(!La(c.h)&&!c.s){c.s=!0;var g=c.Ga;lt||M(),mt||(lt(),mt=!0),jt.add(g,c),c.B=0}}function mh(c,g){return ka(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pe(S(c.Ga,c,g),hl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new $e(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=Fo(this,z,g),_=sn(this.I),Kt(_,"RID",c),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),ia(this,_),Q&&(this.O?g="headers="+encodeURIComponent(String(ll(Q)))+"&"+g:this.m&&xe(_,this.m,Q)),Ba(this.h,z),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",g),Kt(_,"SID","null"),z.T=!0,Nn(z,_,null)):Nn(z,_,g),this.G=2}}else this.G==3&&(c?ul(this,c):this.i.length==0||La(this.h)||ul(this))};function ul(c,g){var _;g?_=g.l:_=c.U++;const b=sn(c.I);Kt(b,"SID",c.K),Kt(b,"RID",_),Kt(b,"AID",c.T),ia(c,b),c.m&&c.o&&xe(b,c.m,c.o),_=new $e(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Fo(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ba(c.h,_),Nn(_,b,g)}function ia(c,g){c.H&&ft(c.H,function(_,b){Kt(g,b,_)}),c.l&&nl({},function(_,b){Kt(g,b,_)})}function Fo(c,g,_){_=Math.min(c.i.length,_);var b=c.l?S(c.l.Na,c.l,c):null;t:{var z=c.i;let Q=-1;for(;;){const st=["count="+_];Q==-1?0<_?(Q=z[0].g,st.push("ofs="+Q)):Q=0:st.push("ofs="+Q);let Vt=!0;for(let Te=0;Te<_;Te++){let Ut=z[Te].g;const Ie=z[Te].map;if(Ut-=Q,0>Ut)Q=Math.max(0,z[Te].g-100),Vt=!1;else try{Gn(Ie,st,"req"+Ut+"_")}catch{b&&b(Ie)}}if(Vt){b=st.join("&");break t}}}return c=c.i.splice(0,_),g.D=c,b}function qo(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;lt||M(),mt||(lt(),mt=!0),jt.add(g,c),c.v=0}}function cl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pe(S(c.Fa,c),hl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ho(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pe(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),Qa(this),Ho(this))};function ra(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ho(c){c.g=new $e(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=sn(c.qa);Kt(g,"RID","rpc"),Kt(g,"SID",c.K),Kt(g,"AID",c.T),Kt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Kt(g,"TO",c.ja),Kt(g,"TYPE","xmlhttp"),ia(c,g),c.m&&c.o&&xe(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Xr(sn(g)),_.m=null,_.P=!0,gi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Qa(this),cl(this),ne(19))};function Ka(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Go(c,g){var _=null;if(c.g==g){Ka(c),ra(c),c.g=null;var b=2}else if(tl(c.h,g))_=g.D,Xe(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;b=Yi(),Gt(b,new Ee(b,_)),Ya(c)}else qo(c);else if(z=g.s,z==3||z==0&&0<g.X||!(b==1&&mh(c,g)||b==2&&cl(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),z){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function hl(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Si(c,g){if(c.j.info("Error code "+g),g==2){var _=S(c.fb,c),b=c.Xa;const z=!b;b=new ge(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||$r(b,"https"),Xr(b),z?Jr(b.toString(),_):On(b.toString(),_)}else ne(2);c.G=0,c.l&&c.l.sa(g),Qo(c),zo(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function Qo(c){if(c.G=0,c.ka=[],c.l){const g=el(c.h);(g.length!=0||c.i.length!=0)&&(L(c.ka,g),L(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function Yo(c,g,_){var b=_ instanceof ge?sn(_):new ge(_);if(b.g!="")g&&(b.g=g+"."+b.g),Ji(b,b.s);else{var z=m.location;b=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var Q=new ge(null);b&&$r(Q,b),g&&(Q.g=g),z&&Ji(Q,z),_&&(Q.l=_),b=Q}return _=c.D,g=c.ya,_&&g&&Kt(b,_,g),Kt(b,"VER",c.la),ia(c,b),b}function Ko(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ft(new Wi({eb:_})):new Ft(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function $o(){}r=$o.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function $a(){}$a.prototype.g=function(c,g){return new Ze(c,g)};function Ze(c,g){oe.call(this),this.g=new Ga(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!nt(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!nt(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new $n(this)}C(Ze,oe),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){ol(this.g)},Ze.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=In(c),c=_);g.i.push(new Po(g.Ya++,c)),g.G==3&&Ya(g)},Ze.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,Ze.aa.N.call(this)};function Xo(c){mi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const _ in g){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}C(Xo,mi);function Zo(){Xs.call(this),this.status=1}C(Zo,Xs);function $n(c){this.g=c}C($n,$o),$n.prototype.ua=function(){Gt(this.g,"a")},$n.prototype.ta=function(c){Gt(this.g,new Xo(c))},$n.prototype.sa=function(c){Gt(this.g,new Zo)},$n.prototype.ra=function(){Gt(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,T0=function(){return new $a},E0=function(){return Yi()},v0=jn,Nd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,uc=Xi,pi.COMPLETE="complete",_0=pi,$s.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",oe.prototype.listen=oe.prototype.K,no=$s,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,y0=Ft}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const C_="@firebase/firestore",D_="4.7.13";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="11.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new s0("@firebase/firestore");function bs(){return ba.logLevel}function ct(r,...t){if(ba.logLevel<=kt.DEBUG){const i=t.map(um);ba.debug(`Firestore (${Bs}): ${r}`,...i)}}function Fi(r,...t){if(ba.logLevel<=kt.ERROR){const i=t.map(um);ba.error(`Firestore (${Bs}): ${r}`,...i)}}function Ns(r,...t){if(ba.logLevel<=kt.WARN){const i=t.map(um);ba.warn(`Firestore (${Bs}): ${r}`,...i)}}function um(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,A0(r,s,i)}function A0(r,t,i){let s=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Fi(s),new Error(s)}function qt(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||A0(t,l,s)}function Rt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends xa{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class Hb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Gb{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let u=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new wr,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new wr)}},0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new S0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class Qb{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Yb{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new Qb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,c0(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const s=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const l=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new x_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new x_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=$b(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<i&&(s+=t.charAt(l[u]%62))}return s}}function Dt(r,t){return r<t?-1:r>t?1:0}function Od(r,t){let i=0;for(;i<r.length&&i<t.length;){const s=r.codePointAt(i),l=t.codePointAt(i);if(s!==l){if(s<128&&l<128)return Dt(s,l);{const u=b0(),f=Xb(u.encode(I_(r,i)),u.encode(I_(t,i)));return f!==0?f:Dt(s,l)}}i+=s>65535?2:1}return Dt(r.length,t.length)}function I_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function Xb(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return Dt(r[i],t[i]);return Dt(r.length,t.length)}function Os(r,t,i){return r.length===t.length&&r.every((s,l)=>i(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=-62135596800,O_=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(t){return we.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*O_);return new we(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new pt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<N_)throw new pt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O_}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-N_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new we(0,0))}static max(){return new bt(new we(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="__name__";class ni{constructor(t,i,s){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&Et(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ni?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const u=ni.compareSegments(t.get(l),i.get(l));if(u!==0)return u}return Dt(t.length,i.length)}static compareSegments(t,i){const s=ni.isNumericId(t),l=ni.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?ni.extractNumericId(t).compare(ni.extractNumericId(i)):Od(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Rr.fromString(t.substring(4,t.length-2))}}class re extends ni{construct(t,i,s){return new re(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new pt(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new re(i)}static emptyPath(){return new re([])}}const Zb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ni{construct(t,i,s){return new ze(t,i,s)}static isValidIdentifier(t){return Zb.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M_}static keyField(){return new ze([M_])}static fromServerFormat(t){const i=[];let s="",l=0;const u=()=>{if(s.length===0)throw new pt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new pt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(s+=m,l++):(u(),l++)}if(u(),f)throw new pt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(re.fromString(t))}static fromName(t){return new yt(re.fromString(t).popFirst(5))}static empty(){return new yt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new re(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=-1;function Jb(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(s===1e9?new we(i+1,0):new we(i,s));return new Dr(l,yt.empty(),t)}function Wb(r){return new Dr(r.readTime,r.key,mo)}class Dr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Dr(bt.min(),yt.empty(),mo)}static max(){return new Dr(bt.max(),yt.empty(),mo)}}function tR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(r.documentKey,t.documentKey),i!==0?i:Dt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(r){if(r.code!==it.FAILED_PRECONDITION||r.message!==eR)throw r;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new tt((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):tt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):tt.reject(i)}static resolve(t){return new tt((i,s)=>{i(t)})}static reject(t){return new tt((i,s)=>{s(t)})}static waitFor(t){return new tt((i,s)=>{let l=0,u=0,f=!1;t.forEach(m=>{++l,m.next(()=>{++u,f&&u===l&&i()},p=>s(p))}),f=!0,u===l&&i()})}static or(t){let i=tt.resolve(!1);for(const s of t)i=i.next(l=>l?tt.resolve(l):s());return i}static forEach(t,i){const s=[];return t.forEach((l,u)=>{s.push(i.call(this,l,u))}),this.waitFor(s)}static mapArray(t,i){return new tt((s,l)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;i(t[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>l(E))}})}static doWhile(t,i){return new tt((s,l)=>{const u=()=>{t()===!0?i().next(()=>{u()},l):s()};u()})}}function iR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function zs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}zc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=-1;function Fc(r){return r==null}function Ec(r){return r===0&&1/r==-1/0}function rR(r){return typeof r=="number"&&Number.isInteger(r)&&!Ec(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="";function aR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=V_(t)),t=sR(r.get(i),t);return V_(t)}function sR(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":i+="";break;case w0:i+="";break;default:i+=u}}return i}function V_(r){return r+w0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Vr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function C0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,i){this.comparator=t,this.root=i||je.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new tc(this.root,t,this.comparator,!0)}}class tc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?s(t.key,i):1,i&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,i,s,l,u){this.key=t,this.value=i,this.color=s??je.RED,this.left=l??je.EMPTY,this.right=u??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,u){return new je(t??this.key,i??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,i,s),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return je.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,s,l,u){return this}insert(t,i,s){return new je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(t){return new P_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ce(this.comparator);return i.data=t,i}}class P_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new pn([])}unionWith(t){let i=new Ce(ze.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new pn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Os(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new D0("Invalid base64 string: "+u):u}}(t);return new Fe(i)}static fromUint8Array(t){const i=function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u}(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const lR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const i=lR.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ir(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="server_timestamp",I0="__type__",N0="__previous_value__",O0="__local_write_time__";function hm(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[I0])===null||i===void 0?void 0:i.stringValue)===x0}function qc(r){const t=r.mapValue.fields[N0];return hm(t)?qc(t):t}function po(r){const t=xr(r.mapValue.fields[O0].timestampValue);return new we(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t,i,s,l,u,f,m,p,y,E){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Tc="(default)";class go{constructor(t,i){this.projectId=t,this.database=i||Tc}static empty(){return new go("","")}get isDefaultDatabase(){return this.database===Tc}isEqual(t){return t instanceof go&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="__type__",uR="__max__",ec={mapValue:{}},V0="__vector__",Ac="value";function Nr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?hm(r)?4:hR(r)?9007199254740991:cR(r)?10:11:Et(28295,{value:r})}function li(r,t){if(r===t)return!0;const i=Nr(r);if(i!==Nr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return po(r).isEqual(po(t));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=xr(l.timestampValue),m=xr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,u){return Ir(l.bytesValue).isEqual(Ir(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,u){return me(l.geoPointValue.latitude)===me(u.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(u.geoPointValue.longitude)}(r,t);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return me(l.integerValue)===me(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=me(l.doubleValue),m=me(u.doubleValue);return f===m?Ec(f)===Ec(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return Os(r.arrayValue.values||[],t.arrayValue.values||[],li);case 10:case 11:return function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(U_(f)!==U_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!li(f[p],m[p])))return!1;return!0}(r,t);default:return Et(52216,{left:r})}}function yo(r,t){return(r.values||[]).find(i=>li(i,t))!==void 0}function Ms(r,t){if(r===t)return 0;const i=Nr(r),s=Nr(t);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=me(u.integerValue||u.doubleValue),p=me(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return L_(r.timestampValue,t.timestampValue);case 4:return L_(po(r),po(t));case 5:return Od(r.stringValue,t.stringValue);case 6:return function(u,f){const m=Ir(u),p=Ir(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Dt(m[y],p[y]);if(E!==0)return E}return Dt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Dt(me(u.latitude),me(f.latitude));return m!==0?m:Dt(me(u.longitude),me(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return k_(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,y,E;const A=u.fields||{},S=f.fields||{},w=(m=A[Ac])===null||m===void 0?void 0:m.arrayValue,C=(p=S[Ac])===null||p===void 0?void 0:p.arrayValue,j=Dt(((y=w==null?void 0:w.values)===null||y===void 0?void 0:y.length)||0,((E=C==null?void 0:C.values)===null||E===void 0?void 0:E.length)||0);return j!==0?j:k_(w,C)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===ec.mapValue&&f===ec.mapValue)return 0;if(u===ec.mapValue)return 1;if(f===ec.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const S=Od(p[A],E[A]);if(S!==0)return S;const w=Ms(m[p[A]],y[E[A]]);if(w!==0)return w}return Dt(p.length,E.length)}(r.mapValue,t.mapValue);default:throw Et(23264,{Pe:i})}}function L_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const i=xr(r),s=xr(t),l=Dt(i.seconds,s.seconds);return l!==0?l:Dt(i.nanos,s.nanos)}function k_(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const u=Ms(i[l],s[l]);if(u)return u}return Dt(i.length,s.length)}function Vs(r){return Md(r)}function Md(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=xr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Ir(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return yt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",l=!0;for(const u of i.values||[])l?l=!1:s+=",",s+=Md(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${Md(i.fields[f])}`;return l+"}"}(r.mapValue):Et(61005,{value:r})}function cc(r){switch(Nr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qc(r);return t?16+cc(t):16;case 5:return 2*r.stringValue.length;case 6:return Ir(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,u)=>l+cc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Vr(s.fields,(u,f)=>{l+=u.length+cc(f)}),l}(r.mapValue);default:throw Et(13486,{value:r})}}function Vd(r){return!!r&&"integerValue"in r}function fm(r){return!!r&&"arrayValue"in r}function B_(r){return!!r&&"nullValue"in r}function j_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hc(r){return!!r&&"mapValue"in r}function cR(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[M0])===null||i===void 0?void 0:i.stringValue)===V0}function so(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Vr(r.mapValue.fields,(i,s)=>t.mapValue.fields[i]=so(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=so(r.arrayValue.values[i]);return t}return Object.assign({},r)}function hR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===uR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.value=t}static empty(){return new rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!hc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=so(i)}setAll(t){let i=ze.emptyPath(),s={},l=[];t.forEach((f,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,s,l),s={},l=[],i=m.popLast()}f?s[m.lastSegment()]=so(f):l.push(m.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,s,l)}delete(t){const i=this.field(t.popLast());hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Vr(i,(l,u)=>t[l]=u);for(const l of s)delete t[l]}clone(){return new rn(so(this.value))}}function U0(r){const t=[];return Vr(r.fields,(i,s)=>{const l=new ze([i]);if(hc(s)){const u=U0(s.mapValue).fields;if(u.length===0)t.push(l);else for(const f of u)t.push(l.child(f))}else t.push(l)}),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,i,s,l,u,f,m){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ke(t,0,bt.min(),bt.min(),bt.min(),rn.empty(),0)}static newFoundDocument(t,i,s,l){return new Ke(t,1,i,bt.min(),s,l,0)}static newNoDocument(t,i){return new Ke(t,2,i,bt.min(),bt.min(),rn.empty(),0)}static newUnknownDocument(t,i){return new Ke(t,3,i,bt.min(),bt.min(),rn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,i){this.position=t,this.inclusive=i}}function z_(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],f=r.position[l];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),i.key):s=Ms(f,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function F_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!li(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,i="asc"){this.field=t,this.dir=i}}function fR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{}class Re extends P0{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new mR(t,i,s):i==="array-contains"?new yR(t,s):i==="in"?new _R(t,s):i==="not-in"?new vR(t,s):i==="array-contains-any"?new ER(t,s):new Re(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new pR(t,s):new gR(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ms(i,this.value)):i!==null&&Nr(this.value)===Nr(i)&&this.matchesComparison(Ms(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends P0{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new oi(t,i)}matches(t){return L0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function L0(r){return r.op==="and"}function k0(r){return dR(r)&&L0(r)}function dR(r){for(const t of r.filters)if(t instanceof oi)return!1;return!0}function Ud(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+Vs(r.value);if(k0(r))return r.filters.map(t=>Ud(t)).join(",");{const t=r.filters.map(i=>Ud(i)).join(",");return`${r.op}(${t})`}}function B0(r,t){return r instanceof Re?function(s,l){return l instanceof Re&&s.op===l.op&&s.field.isEqual(l.field)&&li(s.value,l.value)}(r,t):r instanceof oi?function(s,l){return l instanceof oi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((u,f,m)=>u&&B0(f,l.filters[m]),!0):!1}(r,t):void Et(19439)}function j0(r){return r instanceof Re?function(i){return`${i.field.canonicalString()} ${i.op} ${Vs(i.value)}`}(r):r instanceof oi?function(i){return i.op.toString()+" {"+i.getFilters().map(j0).join(" ,")+"}"}(r):"Filter"}class mR extends Re{constructor(t,i,s){super(t,i,s),this.key=yt.fromName(s.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class pR extends Re{constructor(t,i){super(t,"in",i),this.keys=z0("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class gR extends Re{constructor(t,i){super(t,"not-in",i),this.keys=z0("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function z0(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>yt.fromName(s.referenceValue))}class yR extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return fm(i)&&yo(i.arrayValue,this.value)}}class _R extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&yo(this.value.arrayValue,i)}}class vR extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!yo(this.value.arrayValue,i)}}class ER extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>yo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,i=null,s=[],l=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function q_(r,t=null,i=[],s=[],l=null,u=null,f=null){return new TR(r,t,i,s,l,u,f)}function dm(r){const t=Rt(r);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>Ud(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Fc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Vs(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Vs(s)).join(",")),t.Ie=i}return t.Ie}function mm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!fR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!B0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!F_(r.startAt,t.startAt)&&F_(r.endAt,t.endAt)}function Pd(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,i=null,s=[],l=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function AR(r,t,i,s,l,u,f,m){return new Hc(r,t,i,s,l,u,f,m)}function F0(r){return new Hc(r)}function H_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function SR(r){return r.collectionGroup!==null}function lo(r){const t=Rt(r);if(t.Ee===null){t.Ee=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),i.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ce(ze.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new bc(u,s))}),i.has(ze.keyField().canonicalString())||t.Ee.push(new bc(ze.keyField(),s))}return t.Ee}function ai(r){const t=Rt(r);return t.de||(t.de=bR(t,lo(r))),t.de}function bR(r,t){if(r.limitType==="F")return q_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new bc(l.field,u)});const i=r.endAt?new Sc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Sc(r.startAt.position,r.startAt.inclusive):null;return q_(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function Ld(r,t,i){return new Hc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Gc(r,t){return mm(ai(r),ai(t))&&r.limitType===t.limitType}function q0(r){return`${dm(ai(r))}|lt:${r.limitType}`}function Rs(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>j0(l)).join(", ")}]`),Fc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>Vs(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>Vs(l)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function Qc(r,t){return t.isFoundDocument()&&function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,l){for(const u of lo(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(f,m,p){const y=z_(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,lo(s),l)||s.endAt&&!function(f,m,p){const y=z_(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,lo(s),l))}(r,t)}function RR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function H0(r){return(t,i)=>{let s=!1;for(const l of lo(r)){const u=wR(l,t,i);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function wR(r,t,i){const s=r.field.isKeyField()?yt.comparator(t.key,i.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Ms(p,y):Et(42886)}(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Vr(this.inner,(i,s)=>{for(const[l,u]of s)t(l,u)})}isEmpty(){return C0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new le(yt.comparator);function qi(){return CR}const G0=new le(yt.comparator);function io(...r){let t=G0;for(const i of r)t=t.insert(i.key,i);return t}function Q0(r){let t=G0;return r.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function Aa(){return oo()}function Y0(){return oo()}function oo(){return new Ia(r=>r.toString(),(r,t)=>r.isEqual(t))}const DR=new le(yt.comparator),xR=new Ce(yt.comparator);function Mt(...r){let t=xR;for(const i of r)t=t.add(i);return t}const IR=new Ce(Dt);function NR(){return IR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(t)?"-0":t}}function K0(r){return{integerValue:""+r}}function OR(r,t){return rR(t)?K0(t):pm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this._=void 0}}function MR(r,t,i){return r instanceof Rc?function(l,u){const f={fields:{[I0]:{stringValue:x0},[O0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&hm(u)&&(u=qc(u)),u&&(f.fields[N0]=u),{mapValue:f}}(i,t):r instanceof _o?X0(r,t):r instanceof vo?Z0(r,t):function(l,u){const f=$0(l,u),m=G_(f)+G_(l.Re);return Vd(f)&&Vd(l.Re)?K0(m):pm(l.serializer,m)}(r,t)}function VR(r,t,i){return r instanceof _o?X0(r,t):r instanceof vo?Z0(r,t):i}function $0(r,t){return r instanceof wc?function(s){return Vd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Rc extends Yc{}class _o extends Yc{constructor(t){super(),this.elements=t}}function X0(r,t){const i=J0(t);for(const s of r.elements)i.some(l=>li(l,s))||i.push(s);return{arrayValue:{values:i}}}class vo extends Yc{constructor(t){super(),this.elements=t}}function Z0(r,t){let i=J0(t);for(const s of r.elements)i=i.filter(l=>!li(l,s));return{arrayValue:{values:i}}}class wc extends Yc{constructor(t,i){super(),this.serializer=t,this.Re=i}}function G_(r){return me(r.integerValue||r.doubleValue)}function J0(r){return fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function UR(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof _o&&l instanceof _o||s instanceof vo&&l instanceof vo?Os(s.elements,l.elements,li):s instanceof wc&&l instanceof wc?li(s.Re,l.Re):s instanceof Rc&&l instanceof Rc}(r.transform,t.transform)}class PR{constructor(t,i){this.version=t,this.transformResults=i}}class Ln{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ln}static exists(t){return new Ln(void 0,t)}static updateTime(t){return new Ln(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Kc{}function W0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new gm(r.key,Ln.none()):new So(r.key,r.data,Ln.none());{const i=r.data,s=rn.empty();let l=new Ce(ze.comparator);for(let u of t.fields)if(!l.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new Ur(r.key,s,new pn(l.toArray()),Ln.none())}}function LR(r,t,i){r instanceof So?function(l,u,f){const m=l.value.clone(),p=Y_(l.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,i):r instanceof Ur?function(l,u,f){if(!fc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Y_(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(tE(l)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,i):function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,i)}function uo(r,t,i,s){return r instanceof So?function(u,f,m,p){if(!fc(u.precondition,f))return m;const y=u.value.clone(),E=K_(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,i,s):r instanceof Ur?function(u,f,m,p){if(!fc(u.precondition,f))return m;const y=K_(u.fieldTransforms,p,f),E=f.data;return E.setAll(tE(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,t,i,s):function(u,f,m){return fc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,i)}function kR(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=$0(s.transform,l||null);u!=null&&(i===null&&(i=rn.empty()),i.set(s.field,u))}return i||null}function Q_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Os(s,l,(u,f)=>UR(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class So extends Kc{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ur extends Kc{constructor(t,i,s,l,u=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tE(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}}),t}function Y_(r,t,i){const s=new Map;qt(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let l=0;l<i.length;l++){const u=r[l],f=u.transform,m=t.data.field(u.field);s.set(u.field,VR(f,m,i[l]))}return s}function K_(r,t,i){const s=new Map;for(const l of r){const u=l.transform,f=i.data.field(l.field);s.set(l.field,MR(u,f,t))}return s}class gm extends Kc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BR extends Kc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&LR(u,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=uo(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=uo(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=Y0();return this.mutations.forEach(l=>{const u=t.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=i.has(l.key)?null:m;const p=W0(f,m);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Mt())}isEqual(t){return this.batchId===t.batchId&&Os(this.mutations,t.mutations,(i,s)=>Q_(i,s))&&Os(this.baseMutations,t.baseMutations,(i,s)=>Q_(i,s))}}class ym{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){qt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return DR}();const u=t.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new ym(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Lt;function qR(r){switch(r){case it.OK:return Et(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function eE(r){if(r===void 0)return Fi("GRPC error has no .code"),it.UNKNOWN;switch(r){case ve.OK:return it.OK;case ve.CANCELLED:return it.CANCELLED;case ve.UNKNOWN:return it.UNKNOWN;case ve.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case ve.INTERNAL:return it.INTERNAL;case ve.UNAVAILABLE:return it.UNAVAILABLE;case ve.UNAUTHENTICATED:return it.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case ve.NOT_FOUND:return it.NOT_FOUND;case ve.ALREADY_EXISTS:return it.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return it.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case ve.ABORTED:return it.ABORTED;case ve.OUT_OF_RANGE:return it.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return it.UNIMPLEMENTED;case ve.DATA_LOSS:return it.DATA_LOSS;default:return Et(39323,{code:r})}}(Lt=ve||(ve={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new Rr([4294967295,4294967295],0);function $_(r){const t=b0().encode(r),i=new g0;return i.update(t),new Uint8Array(i.digest())}function X_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Rr([i,s],0),new Rr([l,u],0)]}class _m{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ro(`Invalid padding: ${i}`);if(s<0)throw new ro(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new ro(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=Rr.fromNumber(this.pe)}we(t,i,s){let l=t.add(i.multiply(Rr.fromNumber(s)));return l.compare(HR)===1&&(l=new Rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=$_(t),[s,l]=X_(i);for(let u=0;u<this.hashCount;u++){const f=this.we(s,l,u);if(!this.be(f))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new _m(u,l,i);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const i=$_(t),[s,l]=X_(i);for(let u=0;u<this.hashCount;u++){const f=this.we(s,l,u);this.Se(f)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,i,s,l,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,bo.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new $c(bt.min(),l,new le(Dt),qi(),Mt())}}class bo{constructor(t,i,s,l,u){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new bo(s,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t,i,s,l){this.De=t,this.removedTargetIds=i,this.key=s,this.ve=l}}class nE{constructor(t,i){this.targetId=t,this.Ce=i}}class iE{constructor(t,i,s=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Z_{constructor(){this.Fe=0,this.Me=J_(),this.xe=Fe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Mt(),i=Mt(),s=Mt();return this.Me.forEach((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:Et(38017,{changeType:u})}}),new bo(this.xe,this.Oe,t,i,s)}Qe(){this.Ne=!1,this.Me=J_()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class GR{constructor(t){this.ze=t,this.je=new Map,this.He=qi(),this.Je=nc(),this.Ye=nc(),this.Ze=new le(Dt)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const s=this.rt(i);switch(t.state){case 0:this.it(i)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((s,l)=>{this.it(l)&&i(l)})}ot(t){const i=t.targetId,s=t.Ce.count,l=this._t(i);if(l){const u=l.target;if(Pd(u))if(s===0){const f=new yt(u.path);this.tt(i,f,Ke.newNoDocument(f,bt.min()))}else qt(s===1,20013,{expectedCount:s});else{const f=this.ut(i);if(f!==s){const m=this.ct(t),p=m?this.lt(m,t,f):1;if(p!==0){this.st(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=i;let f,m;try{f=Ir(s).toUint8Array()}catch(p){if(p instanceof D0)return Ns("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new _m(f,l,u)}catch(p){return Ns(p instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(t,i,s){return i.Ce.count===s-this.Tt(t,i.targetId)?0:2}Tt(t,i){const s=this.ze.getRemoteKeysForTarget(i);let l=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(i,u,null),l++)}),l}It(t){const i=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Pd(m.target)){const p=new yt(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Ke.newNoDocument(p,t))}u.Le&&(i.set(f,u.qe()),u.Qe())}});let s=Mt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const l=new $c(t,i,this.Ze,this.He,s);return this.He=qi(),this.Je=nc(),this.Ye=nc(),this.Ze=new le(Dt),l}et(t,i){if(!this.it(t))return;const s=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,i)?l.$e(i,1):l.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),s&&(this.He=this.He.insert(i,s))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new Z_,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new Ce(Dt),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new Ce(Dt),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Z_),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function nc(){return new le(yt.comparator)}function J_(){return new le(yt.comparator)}const QR={asc:"ASCENDING",desc:"DESCENDING"},YR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KR={and:"AND",or:"OR"};class $R{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function kd(r,t){return r.useProto3Json||Fc(t)?t:{value:t}}function Cc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function XR(r,t){return Cc(r,t.toTimestamp())}function si(r){return qt(!!r,49232),bt.fromTimestamp(function(i){const s=xr(i);return new we(s.seconds,s.nanos)}(r))}function vm(r,t){return Bd(r,t).canonicalString()}function Bd(r,t){const i=function(l){return new re(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?i:i.child(t)}function aE(r){const t=re.fromString(r);return qt(cE(t),10190,{key:t.toString()}),t}function jd(r,t){return vm(r.databaseId,t.path)}function _d(r,t){const i=aE(t);if(i.get(1)!==r.databaseId.projectId)throw new pt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new pt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new yt(lE(i))}function sE(r,t){return vm(r.databaseId,t)}function ZR(r){const t=aE(r);return t.length===4?re.emptyPath():lE(t)}function zd(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lE(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function W_(r,t,i){return{name:jd(r,t),fields:i.value.mapValue.fields}}function JR(r,t){let i;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(qt(E===void 0||typeof E=="string",58123),Fe.fromBase64String(E||"")):(qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Fe.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const E=y.code===void 0?it.UNKNOWN:eE(y.code);return new pt(E,y.message||"")}(f);i=new iE(s,l,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=_d(r,s.document.name),u=si(s.document.updateTime),f=s.document.createTime?si(s.document.createTime):bt.min(),m=new rn({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(l,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];i=new dc(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=_d(r,s.document),u=s.readTime?si(s.readTime):bt.min(),f=Ke.newNoDocument(l,u),m=s.removedTargetIds||[];i=new dc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=_d(r,s.document),u=s.removedTargetIds||[];i=new dc([],u,l,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new FR(l,u),m=s.targetId;i=new nE(m,f)}}return i}function WR(r,t){let i;if(t instanceof So)i={update:W_(r,t.key,t.value)};else if(t instanceof gm)i={delete:jd(r,t.key)};else if(t instanceof Ur)i={update:W_(r,t.key,t.data),updateMask:o2(t.fieldMask)};else{if(!(t instanceof BR))return Et(16599,{ft:t.type});i={verify:jd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Rc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _o)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wc)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Et(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(i.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:XR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)}(r,t.precondition)),i}function t2(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map(i=>function(l,u){let f=l.updateTime?si(l.updateTime):si(u);return f.isEqual(bt.min())&&(f=si(u)),new PR(f,l.transformResults||[])}(i,t))):[]}function e2(r,t){return{documents:[sE(r,t.path)]}}function n2(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=sE(r,l);const u=function(y){if(y.length!==0)return uE(oi.create(y,"and"))}(t.filters);u&&(i.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(S){return{field:ws(S.field),direction:a2(S.dir)}}(E))}(t.orderBy);f&&(i.structuredQuery.orderBy=f);const m=kd(r,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:i,parent:l}}function i2(r){let t=ZR(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){qt(s===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];i.where&&(u=function(A){const S=oE(A);return S instanceof oi&&k0(S)?S.getFilters():[S]}(i.where));let f=[];i.orderBy&&(f=function(A){return A.map(S=>function(C){return new bc(Cs(C.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(S))}(i.orderBy));let m=null;i.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,Fc(S)?null:S}(i.limit));let p=null;i.startAt&&(p=function(A){const S=!!A.before,w=A.values||[];return new Sc(w,S)}(i.startAt));let y=null;return i.endAt&&(y=function(A){const S=!A.before,w=A.values||[];return new Sc(w,S)}(i.endAt)),AR(t,l,f,u,m,"F",p,y)}function r2(r,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function oE(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Cs(i.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Cs(i.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Cs(i.unaryFilter.field);return Re.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Cs(i.unaryFilter.field);return Re.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(r):r.fieldFilter!==void 0?function(i){return Re.create(Cs(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return oi.create(i.compositeFilter.filters.map(s=>oE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(i.compositeFilter.op))}(r):Et(30097,{filter:r})}function a2(r){return QR[r]}function s2(r){return YR[r]}function l2(r){return KR[r]}function ws(r){return{fieldPath:r.canonicalString()}}function Cs(r){return ze.fromServerFormat(r.fieldPath)}function uE(r){return r instanceof Re?function(i){if(i.op==="=="){if(j_(i.value))return{unaryFilter:{field:ws(i.field),op:"IS_NAN"}};if(B_(i.value))return{unaryFilter:{field:ws(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(j_(i.value))return{unaryFilter:{field:ws(i.field),op:"IS_NOT_NAN"}};if(B_(i.value))return{unaryFilter:{field:ws(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ws(i.field),op:s2(i.op),value:i.value}}}(r):r instanceof oi?function(i){const s=i.getFilters().map(l=>uE(l));return s.length===1?s[0]:{compositeFilter:{op:l2(i.op),filters:s}}}(r):Et(54877,{filter:r})}function o2(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function cE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(t,i,s,l,u=bt.min(),f=bt.min(),m=Fe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Tr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t){this.wt=t}}function c2(r){const t=i2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ld(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.yn=new f2}addToCollectionParentIndex(t,i){return this.yn.add(i),tt.resolve()}getCollectionParents(t,i){return tt.resolve(this.yn.getEntries(i))}addFieldIndex(t,i){return tt.resolve()}deleteFieldIndex(t,i){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,i){return tt.resolve()}getDocumentsMatchingTarget(t,i){return tt.resolve(null)}getIndexType(t,i){return tt.resolve(0)}getFieldIndexes(t,i){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,i){return tt.resolve(Dr.min())}getMinOffsetFromCollectionGroup(t,i){return tt.resolve(Dr.min())}updateCollectionGroup(t,i,s){return tt.resolve()}updateIndexEntries(t,i){return tt.resolve()}}class f2{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Ce(re.comparator),u=!l.has(s);return this.index[i]=l.add(s),u}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ce(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hE=41943040;class nn{static withCacheSize(t){return new nn(t,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(hE,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Us(0)}static ir(){return new Us(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="LruGarbageCollector",d2=1048576;function nv([r,t],[i,s]){const l=Dt(r,i);return l===0?Dt(t,s):l}class m2{constructor(t){this.cr=t,this.buffer=new Ce(nv),this.lr=0}hr(){return++this.lr}Pr(t){const i=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();nv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class p2{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){ct(ev,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){zs(i)?ct(ev,"Ignoring IndexedDB error during garbage collection: ",i):await js(i)}await this.Ir(3e5)})}}class g2{constructor(t,i){this.Er=t,this.params=i}calculateTargetCount(t,i){return this.Er.dr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return tt.resolve(zc.le);const s=new m2(i);return this.Er.forEachTarget(t,l=>s.Pr(l.sequenceNumber)).next(()=>this.Er.Ar(t,l=>s.Pr(l))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.Er.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Er.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(tv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.Rr(t,i))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,i){let s,l,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,f=Date.now(),this.nthSequenceNumber(t,l))).next(A=>(s=A,m=Date.now(),this.removeTargets(t,s,i))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(y=Date.now(),bs()<=kt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A})))}}function y2(r,t){return new g2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.changes=new Ia(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?tt.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(s!==null&&uo(s.mutation,l,pn.empty(),we.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Mt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Mt()){const l=Aa();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,s).next(u=>{let f=io();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,i){const s=Aa();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Mt()))}populateOverlays(t,i,s){const l=[];return s.forEach(u=>{i.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(t,l).next(u=>{u.forEach((f,m)=>{i.set(f,m)})})}computeViews(t,i,s,l){let u=qi();const f=oo(),m=function(){return oo()}();return i.forEach((p,y)=>{const E=s.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof Ur)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),uo(E.mutation,y,E.mutation.getFieldMask(),we.now())):f.set(y.key,pn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),i.forEach((y,E)=>{var A;return m.set(y,new v2(E,(A=f.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(t,i){const s=oo();let l=new le((f,m)=>f-m),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||pn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const A=(l.get(m.batchId)||Mt()).add(p);l=l.insert(m.batchId,A)})}).next(()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,A=Y0();E.forEach(S=>{if(!u.has(S)){const w=W0(i.get(S),s.get(S));w!==null&&A.set(S,w),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,A))}return tt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,l){return function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):SR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next(u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-u.size):tt.resolve(Aa());let m=mo,p=u;return f.next(y=>tt.forEach(y,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(t,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,p,y,Mt())).next(E=>({batchId:m,changes:Q0(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next(s=>{let l=io();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const u=i.collectionGroup;let f=io();return this.indexManager.getCollectionParents(t,u).next(m=>tt.forEach(m,p=>{const y=function(A,S){return new Hc(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next(E=>{E.forEach((A,S)=>{f=f.insert(A,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,i,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,u,l))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Ke.newInvalidDocument(E)))});let m=io();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&uo(E.mutation,y,pn.empty(),we.now()),Qc(i,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,i){return tt.resolve(this.Fr.get(i))}saveBundleMetadata(t,i){return this.Fr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:si(l.createTime)}}(i)),tt.resolve()}getNamedQuery(t,i){return tt.resolve(this.Mr.get(i))}saveNamedQuery(t,i){return this.Mr.set(i.name,function(l){return{name:l.name,query:c2(l.bundledQuery),readTime:si(l.readTime)}}(i)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.overlays=new le(yt.comparator),this.Or=new Map}getOverlay(t,i){return tt.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Aa();return tt.forEach(i,l=>this.getOverlay(t,l).next(u=>{u!==null&&s.set(l,u)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((l,u)=>{this.St(t,i,u)}),tt.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Or.get(s);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),tt.resolve()}getOverlaysForCollection(t,i,s){const l=Aa(),u=i.length+1,f=new yt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&l.set(p.getKey(),p)}return tt.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let u=new le((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Aa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=l)););return tt.resolve(m)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Or.get(l.largestBatchId).delete(s.key);this.Or.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new zR(i,s));let u=this.Or.get(i);u===void 0&&(u=Mt(),this.Or.set(i,u)),this.Or.set(i,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.Nr=new Ce(Ve.Br),this.Lr=new Ce(Ve.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,i){const s=new Ve(t,i);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Qr(new Ve(t,i))}$r(t,i){t.forEach(s=>this.removeReference(s,i))}Ur(t){const i=new yt(new re([])),s=new Ve(i,t),l=new Ve(i,t+1),u=[];return this.Lr.forEachInRange([s,l],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const i=new yt(new re([])),s=new Ve(i,t),l=new Ve(i,t+1);let u=Mt();return this.Lr.forEachInRange([s,l],f=>{u=u.add(f.key)}),u}containsKey(t){const i=new Ve(t,0),s=this.Nr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,i){this.key=t,this.Gr=i}static Br(t,i){return yt.comparator(t.key,i.key)||Dt(t.Gr,i.Gr)}static kr(t,i){return Dt(t.Gr,i.Gr)||yt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new Ce(Ve.Br)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new jR(u,i,s,l);this.mutationQueue.push(f);for(const m of l)this.zr=this.zr.add(new Ve(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(f)}lookupMutationBatch(t,i){return tt.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Hr(s),u=l<0?0:l;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?cm:this.Jn-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ve(i,0),l=new Ve(i,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,l],f=>{const m=this.jr(f.Gr);u.push(m)}),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ce(Dt);return i.forEach(l=>{const u=new Ve(l,0),f=new Ve(l,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{s=s.add(m.Gr)})}),tt.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new Ve(new yt(u),0);let m=new Ce(Dt);return this.zr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Gr)),!0)},f),tt.resolve(this.Jr(m))}Jr(t){const i=[];return t.forEach(s=>{const l=this.jr(s);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){qt(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return tt.forEach(i.mutations,l=>{const u=new Ve(l.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.zr=s})}Xn(t){}containsKey(t,i){const s=new Ve(i,0),l=this.zr.firstAfterOrEqual(s);return tt.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}Yr(t,i){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const i=this.Hr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.Zr=t,this.docs=function(){return new le(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),u=l?l.size:0,f=this.Zr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return tt.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(t,i){let s=qi();return i.forEach(l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Ke.newInvalidDocument(l))}),tt.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let u=qi();const f=i.path,m=new yt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||tR(Wb(E),s)<=0||(l.has(E.key)||Qc(i,E))&&(u=u.insert(E.key,E.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,i,s,l){Et(9500)}Xr(t,i){return tt.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new w2(this)}getSize(t){return tt.resolve(this.size)}}class w2 extends _2{constructor(t){super(),this.vr=t}applyChanges(t){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.vr.addEntry(t,l)):this.vr.removeEntry(s)}),tt.waitFor(i)}getFromCache(t,i){return this.vr.getEntry(t,i)}getAllFromCache(t,i){return this.vr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t){this.persistence=t,this.ei=new Ia(i=>dm(i),mm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Em,this.targetCount=0,this.ri=Us.rr()}forEachTarget(t,i){return this.ei.forEach((s,l)=>i(l)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ti&&(this.ti=i),tt.resolve()}ar(t){this.ei.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ri=new Us(i),this.highestTargetId=i),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,i){return this.ar(i),this.targetCount+=1,tt.resolve()}updateTargetData(t,i){return this.ar(i),tt.resolve()}removeTargetData(t,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,i,s){let l=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),tt.waitFor(u).next(()=>l)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,i){const s=this.ei.get(i)||null;return tt.resolve(s)}addMatchingKeys(t,i,s){return this.ni.qr(i,s),tt.resolve()}removeMatchingKeys(t,i,s){this.ni.$r(i,s);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach(f=>{u.push(l.markPotentiallyOrphaned(t,f))}),tt.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.ni.Ur(i),tt.resolve()}getMatchingKeysForTargetId(t,i){const s=this.ni.Wr(i);return tt.resolve(s)}containsKey(t,i){return tt.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,i){this.ii={},this.overlays={},this.si=new zc(0),this.oi=!1,this.oi=!0,this._i=new S2,this.referenceDelegate=t(this),this.ai=new C2(this),this.indexManager=new h2,this.remoteDocumentCache=function(l){return new R2(l)}(s=>this.referenceDelegate.ui(s)),this.serializer=new u2(i),this.ci=new T2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new A2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ii[t.toKey()];return s||(s=new b2(i,this.referenceDelegate),this.ii[t.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,i,s){ct("MemoryPersistence","Starting transaction:",t);const l=new D2(this.si.next());return this.referenceDelegate.li(),s(l).next(u=>this.referenceDelegate.hi(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Pi(t,i){return tt.or(Object.values(this.ii).map(s=>()=>s.containsKey(t,i)))}}class D2 extends nR{constructor(t){super(),this.currentSequenceNumber=t}}class Tm{constructor(t){this.persistence=t,this.Ti=new Em,this.Ii=null}static Ei(t){return new Tm(t)}get di(){if(this.Ii)return this.Ii;throw Et(60996)}addReference(t,i,s){return this.Ti.addReference(s,i),this.di.delete(s.toString()),tt.resolve()}removeReference(t,i,s){return this.Ti.removeReference(s,i),this.di.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),tt.resolve()}removeTarget(t,i){this.Ti.Ur(i.targetId).forEach(l=>this.di.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(t,i))}li(){this.Ii=new Set}hi(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.di,s=>{const l=yt.fromPath(s);return this.Ai(t,l).next(u=>{u||i.removeEntry(l,bt.min())})}).next(()=>(this.Ii=null,i.apply(t)))}updateLimboDocument(t,i){return this.Ai(t,i).next(s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(t){return 0}Ai(t,i){return tt.or([()=>tt.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Pi(t,i)])}}class Dc{constructor(t,i){this.persistence=t,this.Ri=new Ia(s=>aR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=y2(this,i)}static Ei(t,i){return new Dc(t,i)}li(){}hi(t){return tt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(l=>s+l))}Vr(t){let i=0;return this.Ar(t,s=>{i++}).next(()=>i)}Ar(t,i){return tt.forEach(this.Ri,(s,l)=>this.gr(t,s,l).next(u=>u?tt.resolve():i(l)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.Xr(t,f=>this.gr(t,f,i).next(m=>{m||(s++,u.removeEntry(f,bt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.Ri.set(i,t.currentSequenceNumber),tt.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.Ri.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,i,s){return this.Ri.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,i){return this.Ri.set(i,t.currentSequenceNumber),tt.resolve()}ui(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=cc(t.data.value)),i}gr(t,i,s){return tt.or([()=>this.persistence.Pi(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.Ri.get(i);return tt.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.ls=s,this.hs=l}static Ps(t,i){let s=Mt(),l=Mt();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Am(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return CS()?8:iR(RS())>0?6:4}()}initialize(t,i){this.As=t,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(t,i,s,l){const u={result:null};return this.Rs(t,i).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(t,i,l,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new x2;return this.fs(t,i,f).next(m=>{if(u.result=m,this.Is)return this.gs(t,i,f,m.size)})}).next(()=>u.result)}gs(t,i,s,l){return s.documentReadCount<this.Es?(bs()<=kt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Rs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),tt.resolve()):(bs()<=kt.DEBUG&&ct("QueryEngine","Query:",Rs(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(bs()<=kt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Rs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(i))):tt.resolve())}Rs(t,i){if(H_(i))return tt.resolve(null);let s=ai(i);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Ld(i,null,"F"),s=ai(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Mt(...u);return this.As.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.ps(i,m);return this.ys(i,y,f,p.readTime)?this.Rs(t,Ld(i,null,"F")):this.ws(t,y,i,p)}))})))}Vs(t,i,s,l){return H_(i)||l.isEqual(bt.min())?tt.resolve(null):this.As.getDocuments(t,s).next(u=>{const f=this.ps(i,u);return this.ys(i,f,s,l)?tt.resolve(null):(bs()<=kt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Rs(i)),this.ws(t,f,i,Jb(l,mo)).next(m=>m))})}ps(t,i){let s=new Ce(H0(t));return i.forEach((l,u)=>{Qc(t,u)&&(s=s.add(u))}),s}ys(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}fs(t,i,s){return bs()<=kt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Rs(i)),this.As.getDocumentsMatchingQuery(t,i,Dr.min(),s)}ws(t,i,s,l){return this.As.getDocumentsMatchingQuery(t,s,l).next(u=>(i.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="LocalStore",N2=3e8;class O2{constructor(t,i,s,l){this.persistence=t,this.bs=i,this.serializer=l,this.Ss=new le(Dt),this.Ds=new Ia(u=>dm(u),mm),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(s)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new E2(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ss))}}function M2(r,t,i,s){return new O2(r,t,i,s)}async function dE(r,t){const i=Rt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(u=>(l=u,i.Fs(t),i.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Mt();for(const y of l){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Ms:y,removedBatchIds:f,addedBatchIds:m}))})})}function V2(r,t){const i=Rt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),u=i.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const A=y.batch,S=A.keys();let w=tt.resolve();return S.forEach(C=>{w=w.next(()=>E.getEntry(p,C)).next(j=>{const L=y.docVersions.get(C);qt(L!==null,48541),j.version.compareTo(L)<0&&(A.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),E.addEntry(j)))})}),w.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(i,s,t,u).next(()=>u.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Mt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>i.localDocuments.getDocuments(s,l))})}function mE(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.ai.getLastRemoteSnapshotVersion(i))}function U2(r,t){const i=Rt(r),s=t.snapshotVersion;let l=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=i.Cs.newChangeBuffer({trackRemovals:!0});l=i.Ss;const m=[];t.targetChanges.forEach((E,A)=>{const S=l.get(A);if(!S)return;m.push(i.ai.removeMatchingKeys(u,E.removedDocuments,A).next(()=>i.ai.addMatchingKeys(u,E.addedDocuments,A)));let w=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?w=w.withResumeToken(Fe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(E.resumeToken,s)),l=l.insert(A,w),function(j,L,K){return j.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=N2?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(S,w,E)&&m.push(i.ai.updateTargetData(u,w))});let p=qi(),y=Mt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(P2(u,f,t.documentUpdates).next(E=>{p=E.xs,y=E.Os})),!s.isEqual(bt.min())){const E=i.ai.getLastRemoteSnapshotVersion(u).next(A=>i.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return tt.waitFor(m).next(()=>f.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(i.Ss=l,u))}function P2(r,t,i){let s=Mt(),l=Mt();return i.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=qi();return i.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ct(Sm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{xs:f,Os:l}})}function L2(r,t){const i=Rt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=cm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function k2(r,t){const i=Rt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return i.ai.getTargetData(s,t).next(u=>u?(l=u,tt.resolve(l)):i.ai.allocateTargetId(s).next(f=>(l=new Tr(t,f,"TargetPurposeListen",s.currentSequenceNumber),i.ai.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=i.Ss.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(s.targetId,s),i.Ds.set(t,s.targetId)),s})}async function Fd(r,t,i){const s=Rt(r),l=s.Ss.get(t),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!zs(f))throw f;ct(Sm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ss=s.Ss.remove(t),s.Ds.delete(l.target)}function iv(r,t,i){const s=Rt(r);let l=bt.min(),u=Mt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const A=Rt(p),S=A.Ds.get(E);return S!==void 0?tt.resolve(A.Ss.get(S)):A.ai.getTargetData(y,E)}(s,f,ai(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(f,t,i?l:bt.min(),i?u:Mt())).next(m=>(B2(s,RR(t),m),{documents:m,Ns:u})))}function B2(r,t,i){let s=r.vs.get(t)||bt.min();i.forEach((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.vs.set(t,s)}class rv{constructor(){this.activeTargetIds=NR()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class j2{constructor(){this.So=new rv,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,i,s){this.Do[t]=i}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new rv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="ConnectivityMonitor";class sv{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ct(av,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){ct(av,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic=null;function qd(){return ic===null?ic=function(){return 268435456+Math.round(2147483648*Math.random())}():ic++,"0x"+ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="RestConnection",F2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q2{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+t.host,this.ko=`projects/${s}/databases/${l}`,this.qo=this.databaseId.database===Tc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Qo(t,i,s,l,u){const f=qd(),m=this.$o(t,i.toUriEncodedString());ct(vd,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,l,u);const{host:y}=new URL(m),E=Bc(y);return this.Ko(t,m,p,s,E).then(A=>(ct(vd,`Received RPC '${t}' ${f}: `,A),A),A=>{throw Ns(vd,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Wo(t,i,s,l,u,f){return this.Qo(t,i,s,l,u)}Uo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,u)=>t[u]=l),s&&s.headers.forEach((l,u)=>t[u]=l)}$o(t,i){const s=F2[t];return`${this.Lo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class G2 extends q2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,i,s,l,u){const f=qd();return new Promise((m,p)=>{const y=new y0;y.setWithCredentials(!0),y.listenOnce(_0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case uc.NO_ERROR:const A=y.getResponseJson();ct(Qe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case uc.TIMEOUT:ct(Qe,`RPC '${t}' ${f} timed out`),p(new pt(it.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const S=y.getStatus();if(ct(Qe,`RPC '${t}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let w=y.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w==null?void 0:w.error;if(C&&C.status&&C.message){const j=function(K){const nt=K.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(nt)>=0?nt:it.UNKNOWN}(C.status);p(new pt(j,C.message))}else p(new pt(it.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new pt(it.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{s_:t,streamId:f,o_:y.getLastErrorCode(),__:y.getLastError()})}}finally{ct(Qe,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(l);ct(Qe,`RPC '${t}' ${f} sending request:`,l),y.send(i,"POST",E,s,15)})}a_(t,i,s){const l=qd(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=T0(),m=E0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ct(Qe,`Creating RPC '${t}' stream ${l}: ${E}`,p);const A=f.createWebChannel(E,p);let S=!1,w=!1;const C=new H2({Go:L=>{w?ct(Qe,`Not sending because RPC '${t}' stream ${l} is closed:`,L):(S||(ct(Qe,`Opening RPC '${t}' stream ${l} transport.`),A.open(),S=!0),ct(Qe,`RPC '${t}' stream ${l} sending:`,L),A.send(L))},zo:()=>A.close()}),j=(L,K,nt)=>{L.listen(K,$=>{try{nt($)}catch(ot){setTimeout(()=>{throw ot},0)}})};return j(A,no.EventType.OPEN,()=>{w||(ct(Qe,`RPC '${t}' stream ${l} transport opened.`),C.t_())}),j(A,no.EventType.CLOSE,()=>{w||(w=!0,ct(Qe,`RPC '${t}' stream ${l} transport closed`),C.r_())}),j(A,no.EventType.ERROR,L=>{w||(w=!0,Ns(Qe,`RPC '${t}' stream ${l} transport errored. Name:`,L.name,"Message:",L.message),C.r_(new pt(it.UNAVAILABLE,"The operation could not be completed")))}),j(A,no.EventType.MESSAGE,L=>{var K;if(!w){const nt=L.data[0];qt(!!nt,16349);const $=nt,ot=($==null?void 0:$.error)||((K=$[0])===null||K===void 0?void 0:K.error);if(ot){ct(Qe,`RPC '${t}' stream ${l} received error:`,ot);const rt=ot.status;let ft=function(D){const V=ve[D];if(V!==void 0)return eE(V)}(rt),O=ot.message;ft===void 0&&(ft=it.INTERNAL,O="Unknown error status: "+rt+" with message "+ot.message),w=!0,C.r_(new pt(ft,O)),A.close()}else ct(Qe,`RPC '${t}' stream ${l} received:`,nt),C.i_(nt)}}),j(m,v0.STAT_EVENT,L=>{L.stat===Nd.PROXY?ct(Qe,`RPC '${t}' stream ${l} detected buffering proxy`):L.stat===Nd.NOPROXY&&ct(Qe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{C.n_()},0),C}}function Ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(r){return new $R(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t,i,s=1e3,l=1.5,u=6e4){this.bi=t,this.timerId=i,this.u_=s,this.c_=l,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const i=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),l=Math.max(0,i-s);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,l,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="PersistentStream";class gE{constructor(t,i,s,l,u,f,m,p){this.bi=t,this.R_=s,this.V_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new pE(t,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():i&&i.code===it.RESOURCE_EXHAUSTED?(Fi(i.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.m_===i&&this.B_(s,l)},s=>{t(()=>{const l=new pt(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(l)})})}B_(t,i){const s=this.N_(this.m_);this.stream=this.k_(t,i),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(l=>{s(()=>this.L_(l))}),this.stream.onMessage(l=>{s(()=>++this.p_==1?this.q_(l):this.onNext(l))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return ct(lv,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return i=>{this.bi.enqueueAndForget(()=>this.m_===t?i():(ct(lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q2 extends gE{constructor(t,i,s,l,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,f),this.serializer=u}k_(t,i){return this.connection.a_("Listen",t,i)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const i=JR(this.serializer,t),s=function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?si(f.readTime):bt.min()}(t);return this.listener.Q_(i,s)}U_(t){const i={};i.database=zd(this.serializer),i.addTarget=function(u,f){let m;const p=f.target;if(m=Pd(p)?{documents:e2(u,p)}:{query:n2(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=rE(u,f.resumeToken);const y=kd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(bt.min())>0){m.readTime=Cc(u,f.snapshotVersion.toTimestamp());const y=kd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=r2(this.serializer,t);s&&(i.labels=s),this.F_(i)}K_(t){const i={};i.database=zd(this.serializer),i.removeTarget=t,this.F_(i)}}class Y2 extends gE{constructor(t,i,s,l,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,i){return this.connection.a_("Write",t,i)}q_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const i=t2(t.writeResults,t.commitTime),s=si(t.commitTime);return this.listener.j_(s,i)}H_(){const t={};t.database=zd(this.serializer),this.F_(t)}G_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>WR(this.serializer,s))};this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{}class $2 extends K2{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.J_=!1}Y_(){if(this.J_)throw new pt(it.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,i,s,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(t,Bd(i,s),l,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pt(it.UNKNOWN,u.toString())})}Wo(t,i,s,l,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(t,Bd(i,s),l,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pt(it.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class X2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Fi(i),this.ea=!1):ct("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="RemoteStore";class Z2{constructor(t,i,s,l,u){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{Na(this)&&(ct(Ra,"Restarting streams for network reachability change."),await async function(p){const y=Rt(p);y.aa.add(4),await Ro(y),y.la.set("Unknown"),y.aa.delete(4),await Zc(y)}(this))})}),this.la=new X2(s,l)}}async function Zc(r){if(Na(r))for(const t of r.ua)await t(!0)}async function Ro(r){for(const t of r.ua)await t(!1)}function yE(r,t){const i=Rt(r);i._a.has(t.targetId)||(i._a.set(t.targetId,t),Cm(i)?wm(i):Fs(i).b_()&&Rm(i,t))}function bm(r,t){const i=Rt(r),s=Fs(i);i._a.delete(t),s.b_()&&_E(i,t),i._a.size===0&&(s.b_()?s.v_():Na(i)&&i.la.set("Unknown"))}function Rm(r,t){if(r.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Fs(r).U_(t)}function _E(r,t){r.ha.Ke(t),Fs(r).K_(t)}function wm(r){r.ha=new GR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r._a.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Fs(r).start(),r.la.ta()}function Cm(r){return Na(r)&&!Fs(r).w_()&&r._a.size>0}function Na(r){return Rt(r).aa.size===0}function vE(r){r.ha=void 0}async function J2(r){r.la.set("Online")}async function W2(r){r._a.forEach((t,i)=>{Rm(r,t)})}async function tw(r,t){vE(r),Cm(r)?(r.la.ia(t),wm(r)):r.la.set("Unknown")}async function ew(r,t,i){if(r.la.set("Online"),t instanceof iE&&t.state===2&&t.cause)try{await async function(l,u){const f=u.cause;for(const m of u.targetIds)l._a.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l._a.delete(m),l.ha.removeTarget(m))}(r,t)}catch(s){ct(Ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await xc(r,s)}else if(t instanceof dc?r.ha.Xe(t):t instanceof nE?r.ha.ot(t):r.ha.nt(t),!i.isEqual(bt.min()))try{const s=await mE(r.localStore);i.compareTo(s)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(y);E&&u._a.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(Fe.EMPTY_BYTE_STRING,E.snapshotVersion)),_E(u,p);const A=new Tr(E.target,p,y,E.sequenceNumber);Rm(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){ct(Ra,"Failed to raise snapshot:",s),await xc(r,s)}}async function xc(r,t,i){if(!zs(t))throw t;r.aa.add(1),await Ro(r),r.la.set("Offline"),i||(i=()=>mE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ct(Ra,"Retrying IndexedDB access"),await i(),r.aa.delete(1),await Zc(r)})}function EE(r,t){return t().catch(i=>xc(r,i,t))}async function Jc(r){const t=Rt(r),i=Or(t);let s=t.oa.length>0?t.oa[t.oa.length-1].batchId:cm;for(;nw(t);)try{const l=await L2(t.localStore,s);if(l===null){t.oa.length===0&&i.v_();break}s=l.batchId,iw(t,l)}catch(l){await xc(t,l)}TE(t)&&AE(t)}function nw(r){return Na(r)&&r.oa.length<10}function iw(r,t){r.oa.push(t);const i=Or(r);i.b_()&&i.W_&&i.G_(t.mutations)}function TE(r){return Na(r)&&!Or(r).w_()&&r.oa.length>0}function AE(r){Or(r).start()}async function rw(r){Or(r).H_()}async function aw(r){const t=Or(r);for(const i of r.oa)t.G_(i.mutations)}async function sw(r,t,i){const s=r.oa.shift(),l=ym.from(s,t,i);await EE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await Jc(r)}async function lw(r,t){t&&Or(r).W_&&await async function(s,l){if(function(f){return qR(f)&&f!==it.ABORTED}(l.code)){const u=s.oa.shift();Or(s).D_(),await EE(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l)),await Jc(s)}}(r,t),TE(r)&&AE(r)}async function ov(r,t){const i=Rt(r);i.asyncQueue.verifyOperationInProgress(),ct(Ra,"RemoteStore received new credentials");const s=Na(i);i.aa.add(3),await Ro(i),s&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.aa.delete(3),await Zc(i)}async function ow(r,t){const i=Rt(r);t?(i.aa.delete(2),await Zc(i)):t||(i.aa.add(2),await Ro(i),i.la.set("Unknown"))}function Fs(r){return r.Pa||(r.Pa=function(i,s,l){const u=Rt(i);return u.Y_(),new Q2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{jo:J2.bind(null,r),Jo:W2.bind(null,r),Zo:tw.bind(null,r),Q_:ew.bind(null,r)}),r.ua.push(async t=>{t?(r.Pa.D_(),Cm(r)?wm(r):r.la.set("Unknown")):(await r.Pa.stop(),vE(r))})),r.Pa}function Or(r){return r.Ta||(r.Ta=function(i,s,l){const u=Rt(i);return u.Y_(),new Y2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:rw.bind(null,r),Zo:lw.bind(null,r),z_:aw.bind(null,r),j_:sw.bind(null,r)}),r.ua.push(async t=>{t?(r.Ta.D_(),await Jc(r)):(await r.Ta.stop(),r.oa.length>0&&(ct(Ra,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t,i,s,l,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,u){const f=Date.now()+s,m=new Dm(t,i,f,l,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xm(r,t){if(Fi("AsyncQueue",`${t}: ${r}`),zs(r))return new pt(it.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{static emptySet(t){return new Ds(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||yt.comparator(i.key,s.key):(i,s)=>yt.comparator(i.key,s.key),this.keyedMap=io(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ds)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Ds;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.Ia=new le(yt.comparator)}track(t){const i=t.doc.key,s=this.Ia.get(i);s?t.type!==0&&s.type===3?this.Ia=this.Ia.insert(i,t):t.type===3&&s.type!==1?this.Ia=this.Ia.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Ia=this.Ia.remove(i):t.type===1&&s.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):Et(63341,{Vt:t,Ea:s}):this.Ia=this.Ia.insert(i,t)}da(){const t=[];return this.Ia.inorderTraversal((i,s)=>{t.push(s)}),t}}class Ps{constructor(t,i,s,l,u,f,m,p,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,l,u){const f=[];return i.forEach(m=>{f.push({type:0,doc:m})}),new Ps(t,i,Ds.emptySet(i),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class cw{constructor(){this.queries=cv(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,s){const l=Rt(i),u=l.queries;l.queries=cv(),u.forEach((f,m)=>{for(const p of m.Ra)p.onError(s)})})(this,new pt(it.ABORTED,"Firestore shutting down"))}}function cv(){return new Ia(r=>q0(r),Gc)}async function hw(r,t){const i=Rt(r);let s=3;const l=t.query;let u=i.queries.get(l);u?!u.Va()&&t.ma()&&(s=2):(u=new uw,s=t.ma()?0:1);try{switch(s){case 0:u.Aa=await i.onListen(l,!0);break;case 1:u.Aa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(f){const m=xm(f,`Initialization of query '${Rs(t.query)}' failed`);return void t.onError(m)}i.queries.set(l,u),u.Ra.push(t),t.ga(i.onlineState),u.Aa&&t.pa(u.Aa)&&Im(i)}async function fw(r,t){const i=Rt(r),s=t.query;let l=3;const u=i.queries.get(s);if(u){const f=u.Ra.indexOf(t);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?l=t.ma()?0:1:!u.Va()&&t.ma()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function dw(r,t){const i=Rt(r);let s=!1;for(const l of t){const u=l.query,f=i.queries.get(u);if(f){for(const m of f.Ra)m.pa(l)&&(s=!0);f.Aa=l}}s&&Im(i)}function mw(r,t,i){const s=Rt(r),l=s.queries.get(t);if(l)for(const u of l.Ra)u.onError(i);s.queries.delete(t)}function Im(r){r.fa.forEach(t=>{t.next()})}var Hd,hv;(hv=Hd||(Hd={})).ya="default",hv.Cache="cache";class pw{constructor(t,i,s){this.query=t,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ps(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ba?this.Da(t)&&(this.wa.next(t),i=!0):this.va(t,this.onlineState)&&(this.Ca(t),i=!0),this.Sa=t,i}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),i=!0),i}va(t,i){if(!t.fromCache||!this.ma())return!0;const s=i!=="Offline";return(!this.options.Fa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(t){t=Ps.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Hd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t){this.key=t}}class bE{constructor(t){this.key=t}}class gw{constructor(t,i){this.query=t,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Mt(),this.mutatedKeys=Mt(),this.Ua=H0(t),this.Ka=new Ds(this.Ua)}get Wa(){return this.qa}Ga(t,i){const s=i?i.za:new uv,l=i?i.Ka:this.Ka;let u=i?i.mutatedKeys:this.mutatedKeys,f=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((E,A)=>{const S=l.get(E),w=Qc(this.query,A)?A:null,C=!!S&&this.mutatedKeys.has(S.key),j=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let L=!1;S&&w?S.data.isEqual(w.data)?C!==j&&(s.track({type:3,doc:w}),L=!0):this.ja(S,w)||(s.track({type:2,doc:w}),L=!0,(p&&this.Ua(w,p)>0||y&&this.Ua(w,y)<0)&&(m=!0)):!S&&w?(s.track({type:0,doc:w}),L=!0):S&&!w&&(s.track({type:1,doc:S}),L=!0,(p||y)&&(m=!0)),L&&(w?(f=f.add(w),u=j?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:m,mutatedKeys:u}}ja(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const u=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const f=t.za.da();f.sort((E,A)=>function(w,C){const j=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:L})}};return j(w)-j(C)}(E.type,A.type)||this.Ua(E.doc,A.doc)),this.Ha(s),l=l!=null&&l;const m=i&&!l?this.Ja():[],p=this.$a.size===0&&this.current&&!l?1:0,y=p!==this.Qa;return this.Qa=p,f.length!==0||y?{snapshot:new Ps(this.query,t.Ka,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new uv,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Mt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const i=[];return t.forEach(s=>{this.$a.has(s)||i.push(new bE(s))}),this.$a.forEach(s=>{t.has(s)||i.push(new SE(s))}),i}Xa(t){this.qa=t.Ns,this.$a=Mt();const i=this.Ga(t.documents);return this.applyChanges(i,!0)}eu(){return Ps.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Nm="SyncEngine";class yw{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class _w{constructor(t){this.key=t,this.tu=!1}}class vw{constructor(t,i,s,l,u,f){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new Ia(m=>q0(m),Gc),this.iu=new Map,this.su=new Set,this.ou=new le(yt.comparator),this._u=new Map,this.au=new Em,this.uu={},this.cu=new Map,this.lu=Us.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Ew(r,t,i=!0){const s=IE(r);let l;const u=s.ru.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.eu()):l=await RE(s,t,i,!0),l}async function Tw(r,t){const i=IE(r);await RE(i,t,!0,!1)}async function RE(r,t,i,s){const l=await k2(r.localStore,ai(t)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,i);let m;return s&&(m=await Aw(r,t,u,f==="current",l.resumeToken)),r.isPrimaryClient&&i&&yE(r.remoteStore,l),m}async function Aw(r,t,i,s,l){r.Pu=(A,S,w)=>async function(j,L,K,nt){let $=L.view.Ga(K);$.ys&&($=await iv(j.localStore,L.query,!1).then(({documents:O})=>L.view.Ga(O,$)));const ot=nt&&nt.targetChanges.get(L.targetId),rt=nt&&nt.targetMismatches.get(L.targetId)!=null,ft=L.view.applyChanges($,j.isPrimaryClient,ot,rt);return dv(j,L.targetId,ft.Ya),ft.snapshot}(r,A,S,w);const u=await iv(r.localStore,t,!0),f=new gw(t,u.Ns),m=f.Ga(u.documents),p=bo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=f.applyChanges(m,r.isPrimaryClient,p);dv(r,i,y.Ya);const E=new yw(t,i,f);return r.ru.set(t,E),r.iu.has(i)?r.iu.get(i).push(t):r.iu.set(i,[t]),y.snapshot}async function Sw(r,t,i){const s=Rt(r),l=s.ru.get(t),u=s.iu.get(l.targetId);if(u.length>1)return s.iu.set(l.targetId,u.filter(f=>!Gc(f,t))),void s.ru.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Fd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),i&&bm(s.remoteStore,l.targetId),Gd(s,l.targetId)}).catch(js)):(Gd(s,l.targetId),await Fd(s.localStore,l.targetId,!0))}async function bw(r,t){const i=Rt(r),s=i.ru.get(t),l=i.iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),bm(i.remoteStore,s.targetId))}async function Rw(r,t,i){const s=Ow(r);try{const l=await function(f,m){const p=Rt(f),y=we.now(),E=m.reduce((w,C)=>w.add(C.key),Mt());let A,S;return p.persistence.runTransaction("Locally write mutations","readwrite",w=>{let C=qi(),j=Mt();return p.Cs.getEntries(w,E).next(L=>{C=L,C.forEach((K,nt)=>{nt.isValidDocument()||(j=j.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(w,C)).next(L=>{A=L;const K=[];for(const nt of m){const $=kR(nt,A.get(nt.key).overlayedDocument);$!=null&&K.push(new Ur(nt.key,$,U0($.value.mapValue),Ln.exists(!0)))}return p.mutationQueue.addMutationBatch(w,y,K,m)}).next(L=>{S=L;const K=L.applyToLocalDocumentSet(A,j);return p.documentOverlayCache.saveOverlays(w,L.batchId,K)})}).then(()=>({batchId:S.batchId,changes:Q0(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(f,m,p){let y=f.uu[f.currentUser.toKey()];y||(y=new le(Dt)),y=y.insert(m,p),f.uu[f.currentUser.toKey()]=y}(s,l.batchId,i),await wo(s,l.changes),await Jc(s.remoteStore)}catch(l){const u=xm(l,"Failed to persist write");i.reject(u)}}async function wE(r,t){const i=Rt(r);try{const s=await U2(i.localStore,t);t.targetChanges.forEach((l,u)=>{const f=i._u.get(u);f&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.tu=!0:l.modifiedDocuments.size>0?qt(f.tu,14607):l.removedDocuments.size>0&&(qt(f.tu,42227),f.tu=!1))}),await wo(i,s,t)}catch(s){await js(s)}}function fv(r,t,i){const s=Rt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.ru.forEach((u,f)=>{const m=f.view.ga(t);m.snapshot&&l.push(m.snapshot)}),function(f,m){const p=Rt(f);p.onlineState=m;let y=!1;p.queries.forEach((E,A)=>{for(const S of A.Ra)S.ga(m)&&(y=!0)}),y&&Im(p)}(s.eventManager,t),l.length&&s.nu.Q_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function ww(r,t,i){const s=Rt(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s._u.get(t),u=l&&l.key;if(u){let f=new le(yt.comparator);f=f.insert(u,Ke.newNoDocument(u,bt.min()));const m=Mt().add(u),p=new $c(bt.min(),new Map,new le(Dt),f,m);await wE(s,p),s.ou=s.ou.remove(u),s._u.delete(t),Om(s)}else await Fd(s.localStore,t,!1).then(()=>Gd(s,t,i)).catch(js)}async function Cw(r,t){const i=Rt(r),s=t.batch.batchId;try{const l=await V2(i.localStore,t);DE(i,s,null),CE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await wo(i,l)}catch(l){await js(l)}}async function Dw(r,t,i){const s=Rt(r);try{const l=await function(f,m){const p=Rt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(A=>(qt(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(y,A))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,t);DE(s,t,i),CE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await wo(s,l)}catch(l){await js(l)}}function CE(r,t){(r.cu.get(t)||[]).forEach(i=>{i.resolve()}),r.cu.delete(t)}function DE(r,t,i){const s=Rt(r);let l=s.uu[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(i?u.reject(i):u.resolve(),l=l.remove(t)),s.uu[s.currentUser.toKey()]=l}}function Gd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.iu.get(t))r.ru.delete(s),i&&r.nu.Tu(s,i);r.iu.delete(t),r.isPrimaryClient&&r.au.Ur(t).forEach(s=>{r.au.containsKey(s)||xE(r,s)})}function xE(r,t){r.su.delete(t.path.canonicalString());const i=r.ou.get(t);i!==null&&(bm(r.remoteStore,i),r.ou=r.ou.remove(t),r._u.delete(i),Om(r))}function dv(r,t,i){for(const s of i)s instanceof SE?(r.au.addReference(s.key,t),xw(r,s)):s instanceof bE?(ct(Nm,"Document no longer in limbo: "+s.key),r.au.removeReference(s.key,t),r.au.containsKey(s.key)||xE(r,s.key)):Et(19791,{Iu:s})}function xw(r,t){const i=t.key,s=i.path.canonicalString();r.ou.get(i)||r.su.has(s)||(ct(Nm,"New document in limbo: "+i),r.su.add(s),Om(r))}function Om(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const t=r.su.values().next().value;r.su.delete(t);const i=new yt(re.fromString(t)),s=r.lu.next();r._u.set(s,new _w(i)),r.ou=r.ou.insert(i,s),yE(r.remoteStore,new Tr(ai(F0(i.path)),s,"TargetPurposeLimboResolution",zc.le))}}async function wo(r,t,i){const s=Rt(r),l=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((m,p)=>{f.push(s.Pu(p,t,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const A=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Am.Ps(p.targetId,y);u.push(A)}}))}),await Promise.all(f),s.nu.Q_(l),await async function(p,y){const E=Rt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>tt.forEach(y,S=>tt.forEach(S.ls,w=>E.persistence.referenceDelegate.addReference(A,S.targetId,w)).next(()=>tt.forEach(S.hs,w=>E.persistence.referenceDelegate.removeReference(A,S.targetId,w)))))}catch(A){if(!zs(A))throw A;ct(Sm,"Failed to update sequence numbers: "+A)}for(const A of y){const S=A.targetId;if(!A.fromCache){const w=E.Ss.get(S),C=w.snapshotVersion,j=w.withLastLimboFreeSnapshotVersion(C);E.Ss=E.Ss.insert(S,j)}}}(s.localStore,u))}async function Iw(r,t){const i=Rt(r);if(!i.currentUser.isEqual(t)){ct(Nm,"User change. New user:",t.toKey());const s=await dE(i.localStore,t);i.currentUser=t,function(u,f){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new pt(it.CANCELLED,f))})}),u.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await wo(i,s.Ms)}}function Nw(r,t){const i=Rt(r),s=i._u.get(t);if(s&&s.tu)return Mt().add(s.key);{let l=Mt();const u=i.iu.get(t);if(!u)return l;for(const f of u){const m=i.ru.get(f);l=l.unionWith(m.view.Wa)}return l}}function IE(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=wE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ww.bind(null,t),t.nu.Q_=dw.bind(null,t.eventManager),t.nu.Tu=mw.bind(null,t.eventManager),t}function Ow(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Cw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Dw.bind(null,t),t}class Ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Xc(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,i){return null}fu(t,i){return null}Vu(t){return M2(this.persistence,new I2,t.initialUser,this.serializer)}Ru(t){return new fE(Tm.Ei,this.serializer)}Au(t){return new j2}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ic.provider={build:()=>new Ic};class Mw extends Ic{constructor(t){super(),this.cacheSizeBytes=t}mu(t,i){qt(this.persistence.referenceDelegate instanceof Dc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new p2(s,t.asyncQueue,i)}Ru(t){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new fE(s=>Dc.Ei(s,i),this.serializer)}}class Qd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Iw.bind(null,this.syncEngine),await ow(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new cw}()}createDatastore(t){const i=Xc(t.databaseInfo.databaseId),s=function(u){return new G2(u)}(t.databaseInfo);return function(u,f,m,p){return new $2(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,l,u,f,m){return new Z2(s,l,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,i=>fv(this.syncEngine,i,0),function(){return sv.C()?new sv:new z2}())}createSyncEngine(t,i){return function(l,u,f,m,p,y,E){const A=new vw(l,u,f,m,p,y);return E&&(A.hu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const u=Rt(l);ct(Ra,"RemoteStore shutting down."),u.aa.add(5),await Ro(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Qd.provider={build:()=>new Qd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Fi("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="FirestoreClient";class Uw{constructor(t,i,s,l,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=R0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ct(Mr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ct(Mr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=xm(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Td(r,t){r.asyncQueue.verifyOperationInProgress(),ct(Mr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await dE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function mv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await Pw(r);ct(Mr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(s=>ov(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>ov(t.remoteStore,l)),r._onlineComponents=t}async function Pw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(Mr,"Using user provided OfflineComponentProvider");try{await Td(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===it.FAILED_PRECONDITION||l.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Ns("Error using user provided cache. Falling back to memory cache: "+i),await Td(r,new Ic)}}else ct(Mr,"Using default OfflineComponentProvider"),await Td(r,new Mw(void 0));return r._offlineComponents}async function NE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(Mr,"Using user provided OnlineComponentProvider"),await mv(r,r._uninitializedComponentsProvider._online)):(ct(Mr,"Using default OnlineComponentProvider"),await mv(r,new Qd))),r._onlineComponents}function Lw(r){return NE(r).then(t=>t.syncEngine)}async function kw(r){const t=await NE(r),i=t.eventManager;return i.onListen=Ew.bind(null,t.syncEngine),i.onUnlisten=Sw.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Tw.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=bw.bind(null,t.syncEngine),i}function Bw(r,t,i={}){const s=new wr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new Vw({next:S=>{E.yu(),f.enqueueAndForget(()=>fw(u,A)),S.fromCache&&p.source==="server"?y.reject(new pt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),A=new pw(m,E,{includeMetadataChanges:!0,Fa:!0});return hw(u,A)}(await kw(r),r.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(r,t,i){if(!i)throw new pt(it.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function jw(r,t,i,s){if(t===!0&&s===!0)throw new pt(it.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function gv(r){if(!yt.isDocumentKey(r))throw new pt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function yv(r){if(yt.isDocumentKey(r))throw new pt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Mm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function wa(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new pt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Mm(r);throw new pt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="firestore.googleapis.com",_v=!0;class vv{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new pt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VE,this.ssl=_v}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:_v;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=hE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<d2)throw new pt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wc{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new qb;switch(s.type){case"firstParty":return new Yb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,jc("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=pv.get(i);s&&(ct("ComponentProvider","Removing Datastore"),pv.delete(i),s.terminate())}(this),Promise.resolve()}}function zw(r,t,i,s={}){var l;r=wa(r,Wc);const u=Bc(t),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${i}`;f.host!==VE&&f.host!==p&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!_c(y,m)&&(r._setSettings(y),u&&(i0(`https://${p}`),jc("Firestore",!0)),s.mockUserToken)){let E,A;if(typeof s.mockUserToken=="string")E=s.mockUserToken,A=Ye.MOCK_USER;else{E=r0(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new pt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(S)}r._authCredentials=new Hb(new S0(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new th(this.firestore,t,this._query)}}class xn{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xn(this.firestore,t,this._key)}}class Cr extends th{constructor(t,i,s){super(t,i,F0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xn(this.firestore,null,new yt(t))}withConverter(t){return new Cr(this.firestore,t,this._path)}}function eh(r,t,...i){if(r=ji(r),ME("collection","path",t),r instanceof Wc){const s=re.fromString(t,...i);return yv(s),new Cr(r,null,s)}{if(!(r instanceof xn||r instanceof Cr))throw new pt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(re.fromString(t,...i));return yv(s),new Cr(r.firestore,null,s)}}function Yd(r,t,...i){if(r=ji(r),arguments.length===1&&(t=R0.newId()),ME("doc","path",t),r instanceof Wc){const s=re.fromString(t,...i);return gv(s),new xn(r,null,new yt(s))}{if(!(r instanceof xn||r instanceof Cr))throw new pt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(re.fromString(t,...i));return gv(s),new xn(r.firestore,r instanceof Cr?r.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="AsyncQueue";class Tv{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new pE(this,"async_queue_retry"),this.ju=()=>{const s=Ed();s&&ct(Ev,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=t;const i=Ed();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const i=Ed();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new wr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!zs(t))throw t;ct(Ev,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const i=this.Hu.then(()=>(this.Wu=!0,t().catch(s=>{throw this.Ku=s,this.Wu=!1,Fi("INTERNAL UNHANDLED ERROR: ",Av(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=i,i}enqueueAfterDelay(t,i,s){this.Ju(),this.zu.indexOf(t)>-1&&(i=0);const l=Dm.createAndSchedule(this,t,i,s,u=>this.Xu(u));return this.Uu.push(l),l}Ju(){this.Ku&&Et(47125,{ec:Av(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const i of this.Uu)if(i.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const i=this.Uu.indexOf(t);this.Uu.splice(i,1)}}function Av(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Co extends Wc{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new Tv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Tv(t),this._firestoreClient=void 0,await t}}}function Fw(r,t){const i=typeof r=="object"?r:d0(),s=typeof r=="string"?r:Tc,l=u0(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=e0("firestore");u&&zw(l,...u)}return l}function UE(r){if(r._terminated)throw new pt(it.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||qw(r),r._firestoreClient}function qw(r){var t,i,s;const l=r._freezeSettings(),u=function(m,p,y,E){return new oR(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,OE(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new Uw(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ls(Fe.fromBase64String(t))}catch(i){throw new pt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ls(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new pt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new pt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new pt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=/^__.*__$/;class Gw{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Ur(t,this.data,this.fieldMask,i,this.fieldTransforms):new So(t,this.data,i,this.fieldTransforms)}}class PE{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new Ur(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function LE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{oc:r})}}class Lm{constructor(t,i,s,l,u,f){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Lm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ac({path:s,cc:!1});return l.lc(t),l}hc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ac({path:s,cc:!1});return l._c(),l}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Nc(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(LE(this.oc)&&Hw.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class Qw{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Xc(t)}dc(t,i,s,l=!1){return new Lm({oc:t,methodName:i,Ec:s,path:ze.emptyPath(),cc:!1,Ic:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kE(r){const t=r._freezeSettings(),i=Xc(r._databaseId);return new Qw(r._databaseId,!!t.ignoreUndefinedProperties,i)}function Yw(r,t,i,s,l,u={}){const f=r.dc(u.merge||u.mergeFields?2:0,t,i,l);km("Data must be an object, but it was:",f,s);const m=BE(s,f);let p,y;if(u.merge)p=new pn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const S=Kd(t,A,i);if(!f.contains(S))throw new pt(it.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);zE(E,S)||E.push(S)}p=new pn(E),y=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,y=f.fieldTransforms;return new Gw(new rn(m),p,y)}class ih extends Vm{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ih}}function Kw(r,t,i,s){const l=r.dc(1,t,i);km("Data must be an object, but it was:",l,s);const u=[],f=rn.empty();Vr(s,(p,y)=>{const E=Bm(t,p,i);y=ji(y);const A=l.hc(E);if(y instanceof ih)u.push(E);else{const S=rh(y,A);S!=null&&(u.push(E),f.set(E,S))}});const m=new pn(u);return new PE(f,m,l.fieldTransforms)}function $w(r,t,i,s,l,u){const f=r.dc(1,t,i),m=[Kd(t,s,i)],p=[l];if(u.length%2!=0)throw new pt(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Kd(t,u[S])),p.push(u[S+1]);const y=[],E=rn.empty();for(let S=m.length-1;S>=0;--S)if(!zE(y,m[S])){const w=m[S];let C=p[S];C=ji(C);const j=f.hc(w);if(C instanceof ih)y.push(w);else{const L=rh(C,j);L!=null&&(y.push(w),E.set(w,L))}}const A=new pn(y);return new PE(E,A,f.fieldTransforms)}function rh(r,t){if(jE(r=ji(r)))return km("Unsupported field value:",t,r),BE(r,t);if(r instanceof Vm)return function(s,l){if(!LE(l.oc))throw l.Tc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(s,l){const u=[];let f=0;for(const m of s){let p=rh(m,l.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,l){if((s=ji(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return OR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=we.fromDate(s);return{timestampValue:Cc(l.serializer,u)}}if(s instanceof we){const u=new we(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Cc(l.serializer,u)}}if(s instanceof Um)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ls)return{bytesValue:rE(l.serializer,s._byteString)};if(s instanceof xn){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:vm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Pm)return function(f,m){return{mapValue:{fields:{[M0]:{stringValue:V0},[Ac]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Tc("VectorValues must only contain numeric values.");return pm(m.serializer,y)})}}}}}}(s,l);throw l.Tc(`Unsupported field value: ${Mm(s)}`)}(r,t)}function BE(r,t){const i={};return C0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vr(r,(s,l)=>{const u=rh(l,t.uc(s));u!=null&&(i[s]=u)}),{mapValue:{fields:i}}}function jE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof we||r instanceof Um||r instanceof Ls||r instanceof xn||r instanceof Vm||r instanceof Pm)}function km(r,t,i){if(!jE(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const s=Mm(i);throw s==="an object"?t.Tc(r+" a custom object"):t.Tc(r+" "+s)}}function Kd(r,t,i){if((t=ji(t))instanceof nh)return t._internalPath;if(typeof t=="string")return Bm(r,t);throw Nc("Field path arguments must be of type string or ",r,!1,void 0,i)}const Xw=new RegExp("[~\\*/\\[\\]]");function Bm(r,t,i){if(t.search(Xw)>=0)throw Nc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new nh(...t.split("."))._internalPath}catch{throw Nc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Nc(r,t,i,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new pt(it.INVALID_ARGUMENT,m+r+p)}function zE(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,i,s,l,u){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Zw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(qE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Zw extends FE{data(){return super.data()}}function qE(r,t){return typeof t=="string"?Bm(r,t):t instanceof nh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ww{convertValue(t,i="none"){switch(Nr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ir(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Vr(t,(l,u)=>{s[l]=this.convertValue(u,i)}),s}convertVectorValue(t){var i,s,l;const u=(l=(s=(i=t.fields)===null||i===void 0?void 0:i[Ac].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>me(f.doubleValue));return new Pm(u)}convertGeoPoint(t){return new Um(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=qc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(po(t));default:return null}}convertTimestamp(t){const i=xr(t);return new we(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=re.fromString(t);qt(cE(s),9688,{name:t});const l=new go(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return l.isEqual(i)||Fi(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(r,t,i){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class eC extends FE{constructor(t,i,s,l,u,f){super(t,i,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(qE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class mc extends eC{data(t={}){return super.data(t)}}class nC{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new rc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new mc(this._firestore,this._userDataWriter,s.key,s,new rc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(m=>{const p=new mc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new rc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new mc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new rc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:iC(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function iC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}class rC extends Ww{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ls(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new xn(this.firestore,null,i)}}function jm(r){r=wa(r,th);const t=wa(r.firestore,Co),i=UE(t),s=new rC(t);return Jw(r._query),Bw(i,r._query).then(l=>new nC(t,s,r,l))}function aC(r,t,i,...s){r=wa(r,xn);const l=wa(r.firestore,Co),u=kE(l);let f;return f=typeof(t=ji(t))=="string"||t instanceof nh?$w(u,"updateDoc",r._key,t,i,s):Kw(u,"updateDoc",r._key,t),zm(l,[f.toMutation(r._key,Ln.exists(!0))])}function sC(r){return zm(wa(r.firestore,Co),[new gm(r._key,Ln.none())])}function lC(r,t){const i=wa(r.firestore,Co),s=Yd(r),l=tC(r.converter,t);return zm(i,[Yw(kE(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Ln.exists(!1))]).then(()=>s)}function zm(r,t){return function(s,l){const u=new wr;return s.asyncQueue.enqueueAndForget(async()=>Rw(await Lw(s),l,u)),u.promise}(UE(r),t)}(function(t,i=!0){(function(l){Bs=l})(h0),ho(new Is("firestore",(s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Co(new Gb(s.getProvider("auth-internal")),new Kb(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new go(y.options.projectId,E)}(f,l),f);return u=Object.assign({useFetchStreams:i},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),br(C_,D_,t),br(C_,D_,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="firebasestorage.googleapis.com",oC="storageBucket",uC=2*60*1e3,cC=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends xa{constructor(t,i,s=0){super(Ad(t),`Firebase Storage: ${i} (${Ad(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,hi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ad(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ui;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ui||(ui={}));function Ad(r){return"storage/"+r}function hC(){const r="An unknown error occurred, please check the error payload for server response.";return new hi(ui.UNKNOWN,r)}function fC(){return new hi(ui.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dC(){return new hi(ui.CANCELED,"User canceled the upload/download.")}function mC(r){return new hi(ui.INVALID_URL,"Invalid URL '"+r+"'.")}function pC(r){return new hi(ui.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Sv(r){return new hi(ui.INVALID_ARGUMENT,r)}function GE(){return new hi(ui.APP_DELETED,"The Firebase app was deleted.")}function gC(r){return new hi(ui.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let s;try{s=Pn.makeFromUrl(t,i)}catch{return new Pn(t,"")}if(s.path==="")return s;throw pC(t)}static makeFromUrl(t,i){let s=null;const l="([A-Za-z0-9.\\-_]+)";function u(ot){ot.path.charAt(ot.path.length-1)==="/"&&(ot.path_=ot.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+l+f,"i"),p={bucket:1,path:3};function y(ot){ot.path_=decodeURIComponent(ot.path)}const E="v[A-Za-z0-9_]+",A=i.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",w=new RegExp(`^https?://${A}/${E}/b/${l}/o${S}`,"i"),C={bucket:1,path:3},j=i===HE?"(?:storage.googleapis.com|storage.cloud.google.com)":i,L="([^?#]*)",K=new RegExp(`^https?://${j}/${l}/${L}`,"i"),$=[{regex:m,indices:p,postModify:u},{regex:w,indices:C,postModify:y},{regex:K,indices:{bucket:1,path:2},postModify:y}];for(let ot=0;ot<$.length;ot++){const rt=$[ot],ft=rt.regex.exec(t);if(ft){const O=ft[rt.indices.bucket];let R=ft[rt.indices.path];R||(R=""),s=new Pn(O,R),rt.postModify(s);break}}if(s==null)throw mC(t);return s}}class yC{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(r,t,i){let s=1,l=null,u=null,f=!1,m=0;function p(){return m===2}let y=!1;function E(...L){y||(y=!0,t.apply(null,L))}function A(L){l=setTimeout(()=>{l=null,r(w,p())},L)}function S(){u&&clearTimeout(u)}function w(L,...K){if(y){S();return}if(L){S(),E.call(null,L,...K);return}if(p()||f){S(),E.call(null,L,...K);return}s<64&&(s*=2);let $;m===1?(m=2,$=0):$=(s+Math.random())*1e3,A($)}let C=!1;function j(L){C||(C=!0,S(),!y&&(l!==null?(L||(m=2),clearTimeout(l),A(0)):L||(m=1)))}return A(0),u=setTimeout(()=>{f=!0,j(!0)},i),j}function vC(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(r){return r!==void 0}function bv(r,t,i,s){if(s<t)throw Sv(`Invalid value for '${r}'. Expected ${t} or greater.`);if(s>i)throw Sv(`Invalid value for '${r}'. Expected ${i} or less.`)}function TC(r){const t=encodeURIComponent;let i="?";for(const s in r)if(r.hasOwnProperty(s)){const l=t(s)+"="+t(r[s]);i=i+l+"&"}return i=i.slice(0,-1),i}var Oc;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Oc||(Oc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(r,t){const i=r>=500&&r<600,l=[408,429].indexOf(r)!==-1,u=t.indexOf(r)!==-1;return i||l||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t,i,s,l,u,f,m,p,y,E,A,S=!0,w=!1){this.url_=t,this.method_=i,this.headers_=s,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=A,this.retry=S,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,j)=>{this.resolve_=C,this.reject_=j,this.start_()})}start_(){const t=(s,l)=>{if(l){s(!1,new ac(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Oc.NO_ERROR,p=u.getStatus();if(!m||AC(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Oc.ABORT;s(!1,new ac(!1,null,E));return}const y=this.successCodes_.indexOf(p)!==-1;s(!0,new ac(y,u))})},i=(s,l)=>{const u=this.resolve_,f=this.reject_,m=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());EC(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=hC();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(l.canceled){const p=this.appDelete_?GE():dC();f(p)}else{const p=fC();f(p)}};this.canceled_?i(!1,new ac(!1,null,!0)):this.backoffId_=_C(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&vC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ac{constructor(t,i,s){this.wasSuccessCode=t,this.connection=i,this.canceled=!!s}}function bC(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function RC(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function wC(r,t){t&&(r["X-Firebase-GMPID"]=t)}function CC(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function DC(r,t,i,s,l,u,f=!0,m=!1){const p=TC(r.urlParams),y=r.url+p,E=Object.assign({},r.headers);return wC(E,t),bC(E,i),RC(E,u),CC(E,s),new SC(y,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function IC(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,i){this._service=t,i instanceof Pn?this._location=i:this._location=Pn.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new Mc(t,i)}get root(){const t=new Pn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IC(this._location.path)}get storage(){return this._service}get parent(){const t=xC(this._location.path);if(t===null)return null;const i=new Pn(this._location.bucket,t);return new Mc(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw gC(t)}}function Rv(r,t){const i=t==null?void 0:t[oC];return i==null?null:Pn.makeFromBucketSpec(i,r)}function NC(r,t,i,s={}){r.host=`${t}:${i}`;const l=Bc(t);l&&(i0(`https://${r.host}`),jc("Storage",!0)),r._isUsingEmulator=!0,r._protocol=l?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:r0(u,r.app.options.projectId))}class OC{constructor(t,i,s,l,u,f=!1){this.app=t,this._authProvider=i,this._appCheckProvider=s,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=HE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uC,this._maxUploadRetryTime=cC,this._requests=new Set,l!=null?this._bucket=Pn.makeFromBucketSpec(l,this._host):this._bucket=Rv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Pn.makeFromBucketSpec(this._url,t):this._bucket=Rv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){bv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){bv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(c0(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Mc(this,t)}_makeRequest(t,i,s,l,u=!0){if(this._deleted)return new yC(GE());{const f=DC(t,this._appId,s,l,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,i){const[s,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,s,l).getPromise()}}const wv="@firebase/storage",Cv="0.13.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="storage";function MC(r=d0(),t){r=ji(r),jc("Storage",!1);const s=u0(r,QE).getImmediate({identifier:t}),l=e0("storage");return l&&VC(s,...l),s}function VC(r,t,i,s={}){NC(r,t,i,s)}function UC(r,{instanceIdentifier:t}){const i=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new OC(i,s,l,t,h0)}function PC(){ho(new Is(QE,UC,"PUBLIC").setMultipleInstances(!0)),br(wv,Cv,""),br(wv,Cv,"esm2017")}PC();const LC={apiKey:"AIzaSyDov_SCbXU4HJZA04hyKRP8ExeDup7cxRg",authDomain:"playsummer-15c20.firebaseapp.com",projectId:"playsummer-15c20",storageBucket:"playsummer-15c20.firebasestorage.app",messagingSenderId:"411723190988",appId:"1:411723190988:web:55e766c042b07c3a0e2869",measurementId:"G-D7GQEMXLYH"},YE=f0(LC),xs=Fw(YE);MC(YE);const kC=({addToCart:r})=>{const[t,i]=Y.useState([]);Y.useEffect(()=>{(async()=>{try{const f=(await jm(eh(xs,"products"))).docs.map(m=>({...m.data(),docId:m.id}));i(f.slice(-4))}catch(u){console.error("Error fetching products: ",u)}})()},[]);const s=()=>{window.scrollTo({top:0,behavior:"smooth"})};return N.jsxs("div",{className:"home-container",children:[N.jsxs("div",{className:"hero-section",children:[N.jsx("h1",{className:"hero-title",children:"Welcome to PlaySummer!"}),N.jsx("p",{className:"hero-subtitle",children:"Discover the Best Summer Toys for Endless Fun!"})]}),t.length>0?t.map((l,u)=>N.jsx("div",{className:"new-arrival-section",children:u%2===0?N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"new-arrival-image-container",children:[N.jsx("img",{src:l.imageUrl,alt:l.name,className:"new-arrival-image"}),N.jsx("span",{className:"new-arrival-badge",children:"NEW!"})]}),N.jsxs("div",{className:"new-arrival-details",children:[N.jsx("h2",{children:l.name}),N.jsx("p",{children:l.description})]})]}):N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"new-arrival-details",children:[N.jsx("h2",{children:l.name}),N.jsx("p",{children:l.description})]}),N.jsxs("div",{className:"new-arrival-image-container",children:[N.jsx("img",{src:l.imageUrl,alt:l.name,className:"new-arrival-image"}),N.jsx("span",{className:"new-arrival-badge",children:"NEW!"})]})]})},l.docId)):N.jsx("p",{children:"Loading products..."}),N.jsx("div",{className:"view-more-container",children:N.jsx(Sa,{to:"/products",children:N.jsx("button",{className:"view-more-btn",children:"More Products"})})}),N.jsx("div",{className:"back-to-top-container",children:N.jsxs("button",{onClick:s,className:"back-to-top-btn",children:["Back to Top ",N.jsx("span",{className:"back-to-top-arrow",children:""})]})})]})};function Hi(r){return Array.isArray?Array.isArray(r):XE(r)==="[object Array]"}function BC(r){if(typeof r=="string")return r;let t=r+"";return t=="0"&&1/r==-1/0?"-0":t}function jC(r){return r==null?"":BC(r)}function ri(r){return typeof r=="string"}function KE(r){return typeof r=="number"}function zC(r){return r===!0||r===!1||FC(r)&&XE(r)=="[object Boolean]"}function $E(r){return typeof r=="object"}function FC(r){return $E(r)&&r!==null}function mn(r){return r!=null}function Sd(r){return!r.trim().length}function XE(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const qC="Incorrect 'index' type",HC=r=>`Invalid value for key ${r}`,GC=r=>`Pattern length exceeds max of ${r}.`,QC=r=>`Missing ${r} property in key`,YC=r=>`Property 'weight' in key '${r}' must be a positive integer`,Dv=Object.prototype.hasOwnProperty;class KC{constructor(t){this._keys=[],this._keyMap={};let i=0;t.forEach(s=>{let l=ZE(s);this._keys.push(l),this._keyMap[l.id]=l,i+=l.weight}),this._keys.forEach(s=>{s.weight/=i})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ZE(r){let t=null,i=null,s=null,l=1,u=null;if(ri(r)||Hi(r))s=r,t=xv(r),i=$d(r);else{if(!Dv.call(r,"name"))throw new Error(QC("name"));const f=r.name;if(s=f,Dv.call(r,"weight")&&(l=r.weight,l<=0))throw new Error(YC(f));t=xv(f),i=$d(f),u=r.getFn}return{path:t,id:i,weight:l,src:s,getFn:u}}function xv(r){return Hi(r)?r:r.split(".")}function $d(r){return Hi(r)?r.join("."):r}function $C(r,t){let i=[],s=!1;const l=(u,f,m)=>{if(mn(u))if(!f[m])i.push(u);else{let p=f[m];const y=u[p];if(!mn(y))return;if(m===f.length-1&&(ri(y)||KE(y)||zC(y)))i.push(jC(y));else if(Hi(y)){s=!0;for(let E=0,A=y.length;E<A;E+=1)l(y[E],f,m+1)}else f.length&&l(y,f,m+1)}};return l(r,ri(t)?t.split("."):t,0),s?i:i[0]}const XC={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ZC={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(r,t)=>r.score===t.score?r.idx<t.idx?-1:1:r.score<t.score?-1:1},JC={location:0,threshold:.6,distance:100},WC={useExtendedSearch:!1,getFn:$C,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var At={...ZC,...XC,...JC,...WC};const tD=/[^ ]+/g;function eD(r=1,t=3){const i=new Map,s=Math.pow(10,t);return{get(l){const u=l.match(tD).length;if(i.has(u))return i.get(u);const f=1/Math.pow(u,.5*r),m=parseFloat(Math.round(f*s)/s);return i.set(u,m),m},clear(){i.clear()}}}class Fm{constructor({getFn:t=At.getFn,fieldNormWeight:i=At.fieldNormWeight}={}){this.norm=eD(i,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((i,s)=>{this._keysMap[i.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ri(this.docs[0])?this.docs.forEach((t,i)=>{this._addString(t,i)}):this.docs.forEach((t,i)=>{this._addObject(t,i)}),this.norm.clear())}add(t){const i=this.size();ri(t)?this._addString(t,i):this._addObject(t,i)}removeAt(t){this.records.splice(t,1);for(let i=t,s=this.size();i<s;i+=1)this.records[i].i-=1}getValueForItemAtKeyId(t,i){return t[this._keysMap[i]]}size(){return this.records.length}_addString(t,i){if(!mn(t)||Sd(t))return;let s={v:t,i,n:this.norm.get(t)};this.records.push(s)}_addObject(t,i){let s={i,$:{}};this.keys.forEach((l,u)=>{let f=l.getFn?l.getFn(t):this.getFn(t,l.path);if(mn(f)){if(Hi(f)){let m=[];const p=[{nestedArrIndex:-1,value:f}];for(;p.length;){const{nestedArrIndex:y,value:E}=p.pop();if(mn(E))if(ri(E)&&!Sd(E)){let A={v:E,i:y,n:this.norm.get(E)};m.push(A)}else Hi(E)&&E.forEach((A,S)=>{p.push({nestedArrIndex:S,value:A})})}s.$[u]=m}else if(ri(f)&&!Sd(f)){let m={v:f,n:this.norm.get(f)};s.$[u]=m}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function JE(r,t,{getFn:i=At.getFn,fieldNormWeight:s=At.fieldNormWeight}={}){const l=new Fm({getFn:i,fieldNormWeight:s});return l.setKeys(r.map(ZE)),l.setSources(t),l.create(),l}function nD(r,{getFn:t=At.getFn,fieldNormWeight:i=At.fieldNormWeight}={}){const{keys:s,records:l}=r,u=new Fm({getFn:t,fieldNormWeight:i});return u.setKeys(s),u.setIndexRecords(l),u}function sc(r,{errors:t=0,currentLocation:i=0,expectedLocation:s=0,distance:l=At.distance,ignoreLocation:u=At.ignoreLocation}={}){const f=t/r.length;if(u)return f;const m=Math.abs(s-i);return l?f+m/l:m?1:f}function iD(r=[],t=At.minMatchCharLength){let i=[],s=-1,l=-1,u=0;for(let f=r.length;u<f;u+=1){let m=r[u];m&&s===-1?s=u:!m&&s!==-1&&(l=u-1,l-s+1>=t&&i.push([s,l]),s=-1)}return r[u-1]&&u-s>=t&&i.push([s,u-1]),i}const Ta=32;function rD(r,t,i,{location:s=At.location,distance:l=At.distance,threshold:u=At.threshold,findAllMatches:f=At.findAllMatches,minMatchCharLength:m=At.minMatchCharLength,includeMatches:p=At.includeMatches,ignoreLocation:y=At.ignoreLocation}={}){if(t.length>Ta)throw new Error(GC(Ta));const E=t.length,A=r.length,S=Math.max(0,Math.min(s,A));let w=u,C=S;const j=m>1||p,L=j?Array(A):[];let K;for(;(K=r.indexOf(t,C))>-1;){let O=sc(t,{currentLocation:K,expectedLocation:S,distance:l,ignoreLocation:y});if(w=Math.min(O,w),C=K+E,j){let R=0;for(;R<E;)L[K+R]=1,R+=1}}C=-1;let nt=[],$=1,ot=E+A;const rt=1<<E-1;for(let O=0;O<E;O+=1){let R=0,D=ot;for(;R<D;)sc(t,{errors:O,currentLocation:S+D,expectedLocation:S,distance:l,ignoreLocation:y})<=w?R=D:ot=D,D=Math.floor((ot-R)/2+R);ot=D;let V=Math.max(1,S-D+1),P=f?A:Math.min(S+D,A)+E,k=Array(P+2);k[P+1]=(1<<O)-1;for(let Ht=P;Ht>=V;Ht-=1){let Jt=Ht-1,X=i[r.charAt(Jt)];if(j&&(L[Jt]=+!!X),k[Ht]=(k[Ht+1]<<1|1)&X,O&&(k[Ht]|=(nt[Ht+1]|nt[Ht])<<1|1|nt[Ht+1]),k[Ht]&rt&&($=sc(t,{errors:O,currentLocation:Jt,expectedLocation:S,distance:l,ignoreLocation:y}),$<=w)){if(w=$,C=Jt,C<=S)break;V=Math.max(1,2*S-C)}}if(sc(t,{errors:O+1,currentLocation:S,expectedLocation:S,distance:l,ignoreLocation:y})>w)break;nt=k}const ft={isMatch:C>=0,score:Math.max(.001,$)};if(j){const O=iD(L,m);O.length?p&&(ft.indices=O):ft.isMatch=!1}return ft}function aD(r){let t={};for(let i=0,s=r.length;i<s;i+=1){const l=r.charAt(i);t[l]=(t[l]||0)|1<<s-i-1}return t}const Vc=String.prototype.normalize?r=>r.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):r=>r;class WE{constructor(t,{location:i=At.location,threshold:s=At.threshold,distance:l=At.distance,includeMatches:u=At.includeMatches,findAllMatches:f=At.findAllMatches,minMatchCharLength:m=At.minMatchCharLength,isCaseSensitive:p=At.isCaseSensitive,ignoreDiacritics:y=At.ignoreDiacritics,ignoreLocation:E=At.ignoreLocation}={}){if(this.options={location:i,threshold:s,distance:l,includeMatches:u,findAllMatches:f,minMatchCharLength:m,isCaseSensitive:p,ignoreDiacritics:y,ignoreLocation:E},t=p?t:t.toLowerCase(),t=y?Vc(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const A=(w,C)=>{this.chunks.push({pattern:w,alphabet:aD(w),startIndex:C})},S=this.pattern.length;if(S>Ta){let w=0;const C=S%Ta,j=S-C;for(;w<j;)A(this.pattern.substr(w,Ta),w),w+=Ta;if(C){const L=S-Ta;A(this.pattern.substr(L),L)}}else A(this.pattern,0)}searchIn(t){const{isCaseSensitive:i,ignoreDiacritics:s,includeMatches:l}=this.options;if(t=i?t:t.toLowerCase(),t=s?Vc(t):t,this.pattern===t){let j={isMatch:!0,score:0};return l&&(j.indices=[[0,t.length-1]]),j}const{location:u,distance:f,threshold:m,findAllMatches:p,minMatchCharLength:y,ignoreLocation:E}=this.options;let A=[],S=0,w=!1;this.chunks.forEach(({pattern:j,alphabet:L,startIndex:K})=>{const{isMatch:nt,score:$,indices:ot}=rD(t,j,L,{location:u+K,distance:f,threshold:m,findAllMatches:p,minMatchCharLength:y,includeMatches:l,ignoreLocation:E});nt&&(w=!0),S+=$,nt&&ot&&(A=[...A,...ot])});let C={isMatch:w,score:w?S/this.chunks.length:1};return w&&l&&(C.indices=A),C}}class Pr{constructor(t){this.pattern=t}static isMultiMatch(t){return Iv(t,this.multiRegex)}static isSingleMatch(t){return Iv(t,this.singleRegex)}search(){}}function Iv(r,t){const i=r.match(t);return i?i[1]:null}class sD extends Pr{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const i=t===this.pattern;return{isMatch:i,score:i?0:1,indices:[0,this.pattern.length-1]}}}class lD extends Pr{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class oD extends Pr{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const i=t.startsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,this.pattern.length-1]}}}class uD extends Pr{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const i=!t.startsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,t.length-1]}}}class cD extends Pr{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const i=t.endsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class hD extends Pr{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const i=!t.endsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,t.length-1]}}}class t1 extends Pr{constructor(t,{location:i=At.location,threshold:s=At.threshold,distance:l=At.distance,includeMatches:u=At.includeMatches,findAllMatches:f=At.findAllMatches,minMatchCharLength:m=At.minMatchCharLength,isCaseSensitive:p=At.isCaseSensitive,ignoreDiacritics:y=At.ignoreDiacritics,ignoreLocation:E=At.ignoreLocation}={}){super(t),this._bitapSearch=new WE(t,{location:i,threshold:s,distance:l,includeMatches:u,findAllMatches:f,minMatchCharLength:m,isCaseSensitive:p,ignoreDiacritics:y,ignoreLocation:E})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class e1 extends Pr{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let i=0,s;const l=[],u=this.pattern.length;for(;(s=t.indexOf(this.pattern,i))>-1;)i=s+u,l.push([s,i-1]);const f=!!l.length;return{isMatch:f,score:f?0:1,indices:l}}}const Xd=[sD,e1,oD,uD,hD,cD,lD,t1],Nv=Xd.length,fD=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,dD="|";function mD(r,t={}){return r.split(dD).map(i=>{let s=i.trim().split(fD).filter(u=>u&&!!u.trim()),l=[];for(let u=0,f=s.length;u<f;u+=1){const m=s[u];let p=!1,y=-1;for(;!p&&++y<Nv;){const E=Xd[y];let A=E.isMultiMatch(m);A&&(l.push(new E(A,t)),p=!0)}if(!p)for(y=-1;++y<Nv;){const E=Xd[y];let A=E.isSingleMatch(m);if(A){l.push(new E(A,t));break}}}return l})}const pD=new Set([t1.type,e1.type]);class gD{constructor(t,{isCaseSensitive:i=At.isCaseSensitive,ignoreDiacritics:s=At.ignoreDiacritics,includeMatches:l=At.includeMatches,minMatchCharLength:u=At.minMatchCharLength,ignoreLocation:f=At.ignoreLocation,findAllMatches:m=At.findAllMatches,location:p=At.location,threshold:y=At.threshold,distance:E=At.distance}={}){this.query=null,this.options={isCaseSensitive:i,ignoreDiacritics:s,includeMatches:l,minMatchCharLength:u,findAllMatches:m,ignoreLocation:f,location:p,threshold:y,distance:E},t=i?t:t.toLowerCase(),t=s?Vc(t):t,this.pattern=t,this.query=mD(this.pattern,this.options)}static condition(t,i){return i.useExtendedSearch}searchIn(t){const i=this.query;if(!i)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:l,ignoreDiacritics:u}=this.options;t=l?t:t.toLowerCase(),t=u?Vc(t):t;let f=0,m=[],p=0;for(let y=0,E=i.length;y<E;y+=1){const A=i[y];m.length=0,f=0;for(let S=0,w=A.length;S<w;S+=1){const C=A[S],{isMatch:j,indices:L,score:K}=C.search(t);if(j){if(f+=1,p+=K,s){const nt=C.constructor.type;pD.has(nt)?m=[...m,...L]:m.push(L)}}else{p=0,f=0,m.length=0;break}}if(f){let S={isMatch:!0,score:p/f};return s&&(S.indices=m),S}}return{isMatch:!1,score:1}}}const Zd=[];function yD(...r){Zd.push(...r)}function Jd(r,t){for(let i=0,s=Zd.length;i<s;i+=1){let l=Zd[i];if(l.condition(r,t))return new l(r,t)}return new WE(r,t)}const Uc={AND:"$and",OR:"$or"},Wd={PATH:"$path",PATTERN:"$val"},tm=r=>!!(r[Uc.AND]||r[Uc.OR]),_D=r=>!!r[Wd.PATH],vD=r=>!Hi(r)&&$E(r)&&!tm(r),Ov=r=>({[Uc.AND]:Object.keys(r).map(t=>({[t]:r[t]}))});function n1(r,t,{auto:i=!0}={}){const s=l=>{let u=Object.keys(l);const f=_D(l);if(!f&&u.length>1&&!tm(l))return s(Ov(l));if(vD(l)){const p=f?l[Wd.PATH]:u[0],y=f?l[Wd.PATTERN]:l[p];if(!ri(y))throw new Error(HC(p));const E={keyId:$d(p),pattern:y};return i&&(E.searcher=Jd(y,t)),E}let m={children:[],operator:u[0]};return u.forEach(p=>{const y=l[p];Hi(y)&&y.forEach(E=>{m.children.push(s(E))})}),m};return tm(r)||(r=Ov(r)),s(r)}function ED(r,{ignoreFieldNorm:t=At.ignoreFieldNorm}){r.forEach(i=>{let s=1;i.matches.forEach(({key:l,norm:u,score:f})=>{const m=l?l.weight:null;s*=Math.pow(f===0&&m?Number.EPSILON:f,(m||1)*(t?1:u))}),i.score=s})}function TD(r,t){const i=r.matches;t.matches=[],mn(i)&&i.forEach(s=>{if(!mn(s.indices)||!s.indices.length)return;const{indices:l,value:u}=s;let f={indices:l,value:u};s.key&&(f.key=s.key.src),s.idx>-1&&(f.refIndex=s.idx),t.matches.push(f)})}function AD(r,t){t.score=r.score}function SD(r,t,{includeMatches:i=At.includeMatches,includeScore:s=At.includeScore}={}){const l=[];return i&&l.push(TD),s&&l.push(AD),r.map(u=>{const{idx:f}=u,m={item:t[f],refIndex:f};return l.length&&l.forEach(p=>{p(u,m)}),m})}class qs{constructor(t,i={},s){this.options={...At,...i},this.options.useExtendedSearch,this._keyStore=new KC(this.options.keys),this.setCollection(t,s)}setCollection(t,i){if(this._docs=t,i&&!(i instanceof Fm))throw new Error(qC);this._myIndex=i||JE(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){mn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const i=[];for(let s=0,l=this._docs.length;s<l;s+=1){const u=this._docs[s];t(u,s)&&(this.removeAt(s),s-=1,l-=1,i.push(u))}return i}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:i=-1}={}){const{includeMatches:s,includeScore:l,shouldSort:u,sortFn:f,ignoreFieldNorm:m}=this.options;let p=ri(t)?ri(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return ED(p,{ignoreFieldNorm:m}),u&&p.sort(f),KE(i)&&i>-1&&(p=p.slice(0,i)),SD(p,this._docs,{includeMatches:s,includeScore:l})}_searchStringList(t){const i=Jd(t,this.options),{records:s}=this._myIndex,l=[];return s.forEach(({v:u,i:f,n:m})=>{if(!mn(u))return;const{isMatch:p,score:y,indices:E}=i.searchIn(u);p&&l.push({item:u,idx:f,matches:[{score:y,value:u,norm:m,indices:E}]})}),l}_searchLogical(t){const i=n1(t,this.options),s=(m,p,y)=>{if(!m.children){const{keyId:A,searcher:S}=m,w=this._findMatches({key:this._keyStore.get(A),value:this._myIndex.getValueForItemAtKeyId(p,A),searcher:S});return w&&w.length?[{idx:y,item:p,matches:w}]:[]}const E=[];for(let A=0,S=m.children.length;A<S;A+=1){const w=m.children[A],C=s(w,p,y);if(C.length)E.push(...C);else if(m.operator===Uc.AND)return[]}return E},l=this._myIndex.records,u={},f=[];return l.forEach(({$:m,i:p})=>{if(mn(m)){let y=s(i,m,p);y.length&&(u[p]||(u[p]={idx:p,item:m,matches:[]},f.push(u[p])),y.forEach(({matches:E})=>{u[p].matches.push(...E)}))}}),f}_searchObjectList(t){const i=Jd(t,this.options),{keys:s,records:l}=this._myIndex,u=[];return l.forEach(({$:f,i:m})=>{if(!mn(f))return;let p=[];s.forEach((y,E)=>{p.push(...this._findMatches({key:y,value:f[E],searcher:i}))}),p.length&&u.push({idx:m,item:f,matches:p})}),u}_findMatches({key:t,value:i,searcher:s}){if(!mn(i))return[];let l=[];if(Hi(i))i.forEach(({v:u,i:f,n:m})=>{if(!mn(u))return;const{isMatch:p,score:y,indices:E}=s.searchIn(u);p&&l.push({score:y,key:t,value:u,idx:f,norm:m,indices:E})});else{const{v:u,n:f}=i,{isMatch:m,score:p,indices:y}=s.searchIn(u);m&&l.push({score:p,key:t,value:u,norm:f,indices:y})}return l}}qs.version="7.1.0";qs.createIndex=JE;qs.parseIndex=nD;qs.config=At;qs.parseQuery=n1;yD(gD);const bD=({products:r,addToCart:t})=>N.jsx("div",{className:"products-grid",children:r.map(i=>N.jsxs("div",{className:"product-card",children:[N.jsx("img",{src:i.imageUrl,alt:i.name,className:"w-full h-48 object-cover rounded"}),N.jsx("h2",{children:i.name}),N.jsxs("p",{className:"promotional-header",children:[i.price," SEK"]}),N.jsx("button",{className:"orange add-to-cart-btn",onClick:()=>t(i),children:"Add to Cart"})]},i.docId))}),RD=({addToCart:r})=>{const[t,i]=Y.useState([]),[s,l]=Y.useState(""),[u,f]=Y.useState([]),[m,p]=Y.useState("default");Y.useEffect(()=>{(async()=>{try{const C=(await jm(eh(xs,"products"))).docs.map(j=>({...j.data(),docId:j.id}));i(C),f(C)}catch(w){console.error("Error fetching products: ",w)}})()},[]),Y.useEffect(()=>{if(s.trim()==="")f(t);else{const w=new qs(t,{keys:["name","category"],threshold:.3,ignoreCase:!0}).search(s).map(C=>C.item);f(w)}},[s,t]),Y.useEffect(()=>{let S=[...u];m==="name-asc"?S.sort((w,C)=>w.name.localeCompare(C.name)):m==="name-desc"?S.sort((w,C)=>C.name.localeCompare(w.name)):m==="price-asc"?S.sort((w,C)=>w.price-C.price):m==="price-desc"&&S.sort((w,C)=>C.price-w.price),f(S)},[m]);const y=S=>{l(S.target.value)},E=S=>{p(S.target.value)},A=()=>{window.scrollTo({top:0,behavior:"smooth"})};return N.jsxs("div",{className:"products-page",children:[N.jsx("h1",{children:"Summer Toys"}),N.jsxs("div",{className:"products-controls",children:[N.jsx("input",{type:"text",placeholder:"Search by name or category...",value:s,onChange:y,className:"search-bar"}),N.jsxs("select",{value:m,onChange:E,className:"sort-select",children:[N.jsx("option",{value:"default",children:"Sort By"}),N.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),N.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),N.jsx("option",{value:"price-asc",children:"Price (Low to High)"}),N.jsx("option",{value:"price-desc",children:"Price (High to Low)"})]})]}),t.length>0?N.jsx(bD,{products:u,addToCart:r}):N.jsx("p",{children:"Loading products..."}),N.jsx("div",{className:"back-to-top-container",children:N.jsxs("button",{onClick:A,className:"back-to-top-btn",children:["Back to Top ",N.jsx("span",{className:"back-to-top-arrow",children:""})]})})]})},wD=({cartItems:r,removeFromCart:t,updateQuantity:i,handleCheckout:s})=>{console.log("CartPage component rendered at:",new Date().toISOString()),console.log("Cart items:",r),console.log("handleCheckout function:",s);const l=r.filter(A=>A.docId),u=l.map(A=>A.docId);console.log("docIds in cart:",u),new Set(u).size!==u.length&&console.warn("Duplicate docIds found in cart:",u);const m=l.reduce((A,S)=>A+(S.quantity||0),0),p=l.reduce((A,S)=>A+(S.price||0)*(S.quantity||0),0);console.log("Cart summary:",{totalItems:m,totalPrice:p});const y=()=>{console.log("Checkout button clicked at:",new Date().toISOString()),s?s():console.error("handleCheckout is not defined")},E=()=>{window.scrollTo({top:0,behavior:"smooth"})};return N.jsxs("div",{className:"cart-page",children:[N.jsx("h1",{children:"Your Cart"}),l.length===0?N.jsx("p",{className:"empty-cart",children:"Your cart is empty."}):N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"cart-items",children:l.map((A,S)=>{console.log(`Item ${A.name||"Unknown Product"} quantity:`,A.quantity);const w=`${A.docId}-${S}`,C=(A.price||0)*(A.quantity||0);return N.jsxs("div",{className:"cart-item",style:{display:"flex !important",alignItems:"center !important",gap:"5rem !important",marginBottom:"1rem !important"},children:[N.jsx("img",{src:A.imageUrl,alt:A.name||"Product Image",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"0.25rem"}}),N.jsxs("div",{className:"cart-item-details",style:{flex:"1 !important"},children:[N.jsx("h2",{children:A.name||"Unknown Product"}),N.jsxs("p",{className:"promotional-header",children:[A.price||0," SEK",A.quantity>1&&N.jsxs("span",{className:"item-total",children:[" ","x ",A.quantity," = ",C.toFixed(2)," SEK"]})]})]}),N.jsxs("div",{className:"cart-item-actions",children:[N.jsx("button",{className:"quantity-btn",onClick:()=>i(A.docId,-1),disabled:(A.quantity||0)<=1,style:{padding:"0.5rem 1rem !important",borderRadius:"0.25rem",transition:"all 0.3s !important",backgroundColor:"#FF865E !important",color:"#FFFFFF !important"},onMouseEnter:j=>{j.target.style.transform="scale(1.2)",j.target.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.2)"},onMouseLeave:j=>{j.target.style.transform="scale(1)",j.target.style.boxShadow="none"},children:"-"}),N.jsx("span",{className:"quantity",children:A.quantity||0}),N.jsx("button",{className:"quantity-btn",onClick:()=>i(A.docId,1),style:{padding:"0.5rem 1rem !important",borderRadius:"0.25rem",transition:"all 0.3s !important",backgroundColor:"#FF865E !important",color:"#FFFFFF !important"},onMouseEnter:j=>{j.target.style.transform="scale(1.1)",j.target.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.2)"},onMouseLeave:j=>{j.target.style.transform="scale(1)",j.target.style.boxShadow="none"},children:"+"}),N.jsx("button",{className:"remove-btn",onClick:()=>t(A.docId),style:{padding:"0.5rem 1rem !important",borderRadius:"0.25rem",transition:"all 0.3s !important",backgroundColor:"#FF865E !important",color:"#FFFFFF !important"},onMouseEnter:j=>{j.target.style.transform="scale(1.1)",j.target.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.2)"},onMouseLeave:j=>{j.target.style.transform="scale(1)",j.target.style.boxShadow="none"},children:"Remove"})]})]},w)})}),N.jsxs("div",{style:{backgroundColor:"#ffedd5 !important",padding:"1.25rem !important",borderRadius:"0.5rem !important",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1) !important",display:"flex !important",flexDirection:"column !important",alignItems:"center !important",justifyContent:"center !important",gap:"1.25rem !important",marginTop:"1.5rem !important",marginBottom:"1.5rem !important",margin:"0 auto !important",textAlign:"center !important",width:"100% !important",maxWidth:"600px !important"},children:[N.jsxs("p",{style:{color:"#c2410c",fontSize:"1.25rem",fontWeight:500},children:["Total Items: ",m]}),N.jsxs("p",{style:{color:"#c2410c",fontSize:"1.5rem",fontWeight:500},children:["Total: ",p.toFixed(2)," SEK"]}),N.jsx("button",{style:{backgroundColor:"#10b981",color:"white",padding:"0.75rem 2rem",borderRadius:"0.25rem",transition:"all 0.3s"},onMouseEnter:A=>{A.target.style.transform="scale(1.1)",A.target.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.2)"},onMouseLeave:A=>{A.target.style.transform="scale(1)",A.target.style.boxShadow="none"},onClick:y,children:"Checkout"})]})]}),N.jsx("div",{className:"back-to-top-container",children:N.jsxs("button",{onClick:E,className:"back-to-top-btn",children:["Back to Top ",N.jsx("span",{className:"back-to-top-arrow",children:""})]})})]})},CD=()=>N.jsxs("div",{className:"order-confirm",children:[N.jsx("h1",{children:"Order Confirmed!"}),N.jsx("p",{children:"Thank you for your order. We'll send a confirmation email soon."}),N.jsx(Sa,{to:"/",children:N.jsx("button",{className:"green",children:"Back to Home"})})]}),DD=()=>N.jsx(CD,{}),Mv=({setNotification:r})=>{const[t,i]=Y.useState({name:"",price:"",description:""}),[s,l]=Y.useState(""),[u,f]=Y.useState(!1),[m,p]=Y.useState(""),y=w=>{const{name:C,value:j}=w.target;i(L=>({...L,[C]:j})),p("")},E=w=>{l(w.target.value),p("")},A=w=>/\.(jpg|jpeg|png|gif)$/i.test(w),S=async w=>{if(w.preventDefault(),!A(s)){r("Oops! It looks like the image URL isn't valid. Please use a link ending with .jpg, .png, .jpeg, or .gif. ");return}f(!0),p("Saving product...");try{console.log("Adding product to Firestore:",t);const C=await lC(eh(xs,"products"),{name:t.name,price:parseFloat(t.price),description:t.description,imageUrl:s,createdAt:new Date().toISOString()});console.log("Product added successfully with ID:",C.id),r("Yay! Your product has been added successfully! "),i({name:"",price:"",description:""}),l(""),p("")}catch(C){const j=C.message||"Sorry, we couldn't add the product. Please try again later. ";r(j),console.error("Error adding product: ",C),C.code==="permission-denied"?r("It seems you don't have permission to add this product. Please check Firebase settings or contact support. "):C.code==="unavailable"&&r("Oh no! It looks like your network is unavailable. Please check your internet connection and try again. "),p("")}finally{f(!1)}};return N.jsxs("div",{className:"admin-page",children:[N.jsx("h1",{children:"Add New Product"}),N.jsxs("form",{onSubmit:S,className:"admin-form",children:[N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"name",children:"Product Name:"}),N.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:y,required:!0})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"price",children:"Price (SEK):"}),N.jsx("input",{type:"number",id:"price",name:"price",value:t.price,onChange:y,required:!0,min:"0",step:"0.01"})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"description",children:"Description:"}),N.jsx("textarea",{id:"description",name:"description",value:t.description,onChange:y,required:!0})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"imageUrl",children:"Product Image URL:"}),N.jsx("input",{type:"url",id:"imageUrl",name:"imageUrl",value:s,onChange:E,placeholder:"https://example.com/image.jpg",required:!0})]}),N.jsx("button",{type:"submit",className:"submit-btn",disabled:u,children:u?"Adding Product...":"Add Product"}),m&&N.jsx("p",{className:"progress",children:m})]})]})},xD=({message:r,onConfirm:t,onCancel:i})=>r?N.jsx("div",{style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:N.jsxs("div",{style:{backgroundColor:"#FFFFFF",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",textAlign:"center"},children:[N.jsx("p",{style:{fontSize:"18px",color:"#4A4A4A",marginBottom:"20px"},children:r}),N.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[N.jsx("button",{style:{backgroundColor:"#FF865E",color:"#FFFFFF",padding:"10px 20px",borderRadius:"4px",border:"none",cursor:"pointer"},onClick:t,children:"Confirm"}),N.jsx("button",{style:{backgroundColor:"#666666",color:"#FFFFFF",padding:"10px 20px",borderRadius:"4px",border:"none",cursor:"pointer"},onClick:i,children:"Cancel"})]})]})}):null,ID=({setNotification:r})=>{const[t,i]=Y.useState([]),[s,l]=Y.useState(null),[u,f]=Y.useState({name:"",price:"",description:"",imageUrl:""}),[m,p]=Y.useState(!1),[y,E]=Y.useState(!1),[A,S]=Y.useState(null);Y.useEffect(()=>{(async()=>{try{const O=(await jm(eh(xs,"products"))).docs.map(R=>({docId:R.id,...R.data()}));i(O)}catch(ft){r("Sorry, we couldn't load the products. Please try again later. "),console.error("Error fetching products: ",ft),ft.code==="permission-denied"?r("It seems you don't have permission to view products. Please check Firebase settings or contact support. "):ft.code==="unavailable"&&r("Oh no! It looks like your network is unavailable. Please check your internet connection and try again. ")}})()},[]);const w=rt=>{l(rt),f({name:rt.name,price:rt.price,description:rt.description,imageUrl:rt.imageUrl})},C=rt=>{const{name:ft,value:O}=rt.target;f(R=>({...R,[ft]:O}))},j=rt=>rt?/\.(jpg|jpeg|png|gif)$/i.test(rt):!0,L=async rt=>{if(rt.preventDefault(),p(!0),!j(u.imageUrl)){r("Oops! It looks like the image URL isn't valid. Please use a link ending with .jpg, .png, .jpeg, or .gif. "),p(!1);return}try{const ft=Yd(xs,"products",s.docId);await aC(ft,{name:u.name,price:parseFloat(u.price),description:u.description,imageUrl:u.imageUrl||s.imageUrl,updatedAt:new Date().toISOString()}),i(t.map(O=>O.docId===s.docId?{...O,...u,price:parseFloat(u.price),imageUrl:u.imageUrl||s.imageUrl}:O)),r("Yay! Your product has been updated successfully! "),l(null)}catch(ft){r(ft.message||"Sorry, we couldn't update the product. Please try again later. "),console.error("Error updating product: ",ft),ft.code==="permission-denied"?r("It seems you don't have permission to update this product. Please check Firebase settings or contact support. "):ft.code==="unavailable"&&r("Oh no! It looks like your network is unavailable. Please check your internet connection and try again. ")}finally{p(!1)}},K=async()=>{p(!0);try{const rt=Yd(xs,"products",A.docId);await sC(rt),i(t.filter(ft=>ft.docId!==A.docId)),r("Product deleted successfully! ")}catch(rt){r(rt.message||"Sorry, we couldn't delete the product. Please try again later. "),console.error("Error deleting product: ",rt),rt.code==="permission-denied"?r("It seems you don't have permission to delete this product. Please check Firebase settings or contact support. "):rt.code==="unavailable"&&r("Oh no! It looks like your network is unavailable. Please check your internet connection and try again. ")}finally{p(!1),E(!1),S(null)}},nt=rt=>{S(rt),E(!0)},$=()=>{E(!1),S(null)},ot=()=>{window.scrollTo({top:0,behavior:"smooth"})};return N.jsxs("div",{className:"admin-page",children:[N.jsx("h1",{children:"Edit Products"}),s?N.jsxs("div",{className:"edit-form",children:[N.jsxs("h2",{children:["Edit Product: ",s.name]}),N.jsxs("form",{onSubmit:L,className:"admin-form",children:[N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"name",children:"Product Name:"}),N.jsx("input",{type:"text",id:"name",name:"name",value:u.name,onChange:C,required:!0})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"price",children:"Price (SEK):"}),N.jsx("input",{type:"number",id:"price",name:"price",value:u.price,onChange:C,required:!0,min:"0",step:"0.01"})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"description",children:"Description:"}),N.jsx("textarea",{id:"description",name:"description",value:u.description,onChange:C,required:!0})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"imageUrl",children:"Product Image URL (optional):"}),N.jsx("input",{type:"url",id:"imageUrl",name:"imageUrl",value:u.imageUrl,onChange:C,placeholder:"https://example.com/image.jpg"}),N.jsxs("p",{children:["Current Image: ",N.jsx("a",{href:s.imageUrl,target:"_blank",rel:"noopener noreferrer",children:"View Image"})]})]}),N.jsxs("div",{className:"form-actions",children:[N.jsx("button",{type:"submit",className:"submit-btn",disabled:m,children:m?"Updating Product...":"Update Product"}),N.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>l(null),disabled:m,children:"Cancel"})]})]})]}):N.jsx(N.Fragment,{children:t.length>0?N.jsxs("table",{className:"products-table",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Image"}),N.jsx("th",{children:"Name"}),N.jsx("th",{children:"Price (SEK)"}),N.jsx("th",{children:"Description"}),N.jsx("th",{})]})}),N.jsx("tbody",{children:t.map(rt=>N.jsxs("tr",{children:[N.jsx("td",{children:N.jsx("img",{src:rt.imageUrl,alt:rt.name,className:"product-image-small"})}),N.jsx("td",{children:rt.name}),N.jsx("td",{children:rt.price}),N.jsx("td",{children:rt.description}),N.jsxs("td",{className:"action-buttons",children:[N.jsx("button",{className:"edit-btn",onClick:()=>w(rt),disabled:m,children:"Edit"}),N.jsx("button",{className:"delete-btn",onClick:()=>nt(rt),disabled:m,children:"Delete"})]})]},rt.docId))})]}):N.jsx("p",{children:"No products available."})}),N.jsx(xD,{message:A?`Are you sure you want to delete ${A.name}?`:null,onConfirm:K,onCancel:$}),N.jsx("div",{className:"back-to-top-container",children:N.jsxs("button",{onClick:ot,className:"back-to-top-btn",children:["Back to Top ",N.jsx("span",{className:"back-to-top-arrow",children:""})]})})]})},ND=({message:r,onClose:t})=>r?N.jsx("div",{style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:N.jsxs("div",{style:{backgroundColor:"#FFFFFF",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",textAlign:"center"},children:[N.jsx("p",{style:{fontSize:"18px",color:"#4A4A4A",marginBottom:"20px"},children:r}),N.jsx("button",{style:{backgroundColor:"#FF865E",color:"#FFFFFF",padding:"10px 20px",borderRadius:"4px",border:"none",cursor:"pointer"},onClick:t,children:"Close"})]})}):null,OD=()=>{const r=Lc(),[t,i]=Y.useState(null),s=()=>{console.log("Logging out..."),r("/")},l=()=>{i(null)};return N.jsxs("div",{className:"admin-layout",children:[N.jsx("div",{className:"admin-sidebar",children:N.jsxs("nav",{className:"admin-nav",children:[N.jsxs(gc,{to:"/admin/add",className:({isActive:u})=>u?"admin-nav-link active":"admin-nav-link",children:[N.jsx("span",{className:"nav-icon",children:""})," Add Product"]}),N.jsxs(gc,{to:"/admin/edit",className:({isActive:u})=>u?"admin-nav-link active":"admin-nav-link",children:[N.jsx("span",{className:"nav-icon",children:""})," Edit Products"]}),N.jsxs("button",{onClick:s,className:"admin-nav-link admin-logout",children:[N.jsx("span",{className:"nav-icon",children:""})," Log out"]})]})}),N.jsx("div",{className:"admin-content",children:N.jsxs(Yv,{children:[N.jsx(ii,{path:"add",element:N.jsx(Mv,{setNotification:i})}),N.jsx(ii,{path:"edit",element:N.jsx(ID,{setNotification:i})}),N.jsx(ii,{path:"/",element:N.jsx(Mv,{setNotification:i})})]})}),N.jsx(ND,{message:t,onClose:l})]})},Vv=({setIsAdmin:r,setNotification:t})=>{const[i,s]=Y.useState(""),[l,u]=Y.useState(""),[f,m]=Y.useState(!1),p=Lc(),y=E=>{E.preventDefault(),m(!0);const A={username:"admin",password:"password"};i===A.username&&l===A.password?(r(!0),t("Welcome admin!"),p("/admin")):t("Oops! Incorrect username or password. Please try again. "),m(!1)};return N.jsxs("div",{className:"admin-page",children:[N.jsx("h1",{style:{textAlign:"center"},children:"Admin Login"}),N.jsx("p",{className:"secondary-text welcome-text",style:{textAlign:"center",marginBottom:"40px"},children:"Please log in to manage your products and orders."}),N.jsxs("form",{onSubmit:y,className:"admin-form",children:[N.jsxs("div",{className:"form-group",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[N.jsx("label",{htmlFor:"username",children:"Username:"}),N.jsx("input",{type:"text",id:"username",value:i,onChange:E=>s(E.target.value),required:!0,style:{maxWidth:"300px"}})]}),N.jsxs("div",{className:"form-group",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[N.jsx("label",{htmlFor:"password",children:"Password:"}),N.jsx("input",{type:"password",id:"password",value:l,onChange:E=>u(E.target.value),required:!0,style:{maxWidth:"300px"}})]}),N.jsx("button",{type:"submit",className:"submit-btn",disabled:f,children:f?"Logging in...":"Log in"})]})]})},MD=({message:r,onClose:t})=>r?N.jsx("div",{style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:N.jsxs("div",{style:{backgroundColor:"#FFFFFF",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",textAlign:"center"},children:[N.jsx("p",{style:{fontSize:"18px",color:"#4A4A4A",marginBottom:"20px"},children:r}),N.jsx("button",{style:{backgroundColor:"#FF865E",color:"#FFFFFF",padding:"10px 20px",borderRadius:"4px",border:"none",cursor:"pointer"},onClick:t,children:"Close"})]})}):null,VD=()=>{const[r,t]=Y.useState([]),[i,s]=Y.useState(!1),[l,u]=Y.useState(null),f=Lc(),m=w=>{if(console.log("Adding to cart:",w),!w.docId){console.error("Product does not have a docId:",w),u("Sorry, we couldn't add the product to cart. Please try again. ");return}t(C=>{const j=C.find($=>$.docId===w.docId);let L;j?L=C.map($=>$.docId===w.docId?{...$,quantity:$.quantity+1}:$):L=[...C,{...w,quantity:1}];const K=L.map($=>$.docId);return new Set(K).size!==K.length&&console.warn("Duplicate docIds found in cartItems:",K),console.log("Updated cartItems:",L),L})},p=w=>{t(C=>{const j=C.filter(L=>L.docId!==w);return console.log("Updated cartItems after remove:",j),j})},y=(w,C)=>{t(j=>{const L=j.map(K=>K.docId===w?{...K,quantity:Math.max(1,K.quantity+C)}:K);return console.log("Updated cartItems after update quantity:",L),L})},E=()=>{console.log("handleCheckout called at:",new Date().toISOString()),f("/order"),t([])};Y.useEffect(()=>{if(r.length>0){const w=r.map(j=>j.docId);new Set(w).size!==w.length&&console.warn("Duplicate docIds found in cartItems after render:",w),console.log("Current cartItems after render:",r)}},[r]);const A=r.reduce((w,C)=>w+(C.quantity||0),0),S=()=>{u(null)};return N.jsxs("div",{className:"min-h-screen flex flex-col",children:[N.jsx(cS,{cartCount:A}),N.jsx("main",{className:"flex-grow",children:N.jsxs(Yv,{children:[N.jsx(ii,{path:"/",element:N.jsx(kC,{addToCart:m,setNotification:u})}),N.jsx(ii,{path:"/products",element:N.jsx(RD,{addToCart:m,setNotification:u})}),N.jsx(ii,{path:"/cart",element:N.jsx(wD,{cartItems:r,removeFromCart:p,updateQuantity:y,handleCheckout:E,setNotification:u})}),N.jsx(ii,{path:"/order",element:N.jsx(DD,{})}),N.jsx(ii,{path:"/admin/login",element:N.jsx(Vv,{setIsAdmin:s,setNotification:u})}),N.jsx(ii,{path:"/admin/*",element:i?N.jsx(OD,{}):N.jsx(Vv,{setIsAdmin:s,setNotification:u})})]})}),N.jsx(hS,{}),N.jsx(MD,{message:l,onClose:S})]})},UD=kT.createRoot(document.getElementById("root"));UD.render(N.jsx(IT.StrictMode,{children:N.jsx(JA,{children:N.jsx(VD,{})})}));
